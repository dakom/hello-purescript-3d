!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=53)}([function(t,n){(function(n){t.exports=n}).call(this,{})},function(t,n,e){"use strict";var r=e(66),o=new(e(15).Show)(function(t){return"unit"});t.exports={showUnit:o,unit:r.unit}},function(t,n,e){t.exports=function(t,n,e,r,o){"use strict";function u(){}function i(){return this}function a(n){return function(t,n){return n.replace(/^/gm,"  ").replace("  ","")}(0,t(n))}function c(t,n){return function(e,r,o){switch(arguments.length){case 1:return t(n,e);case 2:return t(n,e,r);default:return t(n,e,r,o)}}}function s(t,n,e){return function(r,o){return 1===arguments.length?t(n,e,r):t(n,e,r,o)}}function f(t,n,e,r){return function(o){return t(n,e,r,o)}}function l(t){throw t}function p(t){return"  "+t}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,e=e&&e.hasOwnProperty("default")?e.default:e,r=r&&r.hasOwnProperty("default")?r.default:r,o=o&&o.hasOwnProperty("default")?o.default:o;var h="fantasy-land/map",d="fantasy-land/bimap",y="fantasy-land/chain",m="fantasy-land/chainRec",g="fantasy-land/ap",v="fantasy-land/of",_="fantasy-land/zero",E=["first","second","third","fourth","fifth"],b="fluture",T="Future",A=4,R=b+"/"+T+"@"+A;function S(t){return new Error(t)}function M(t){return new TypeError(t)}function N(n,e,r,o){return M(n+" expects its "+E[e]+" argument to "+r+"\n  Actual: "+t(o))}function O(e,r,o,u){var i=n.parse(n(o)),a=i.name===T?"\n"+(i.namespace!==b?function(t,n){return"The Future was not created by "+b+". Make sure you transform other Futures to "+b+" Futures. Got "+(n?"a Future from "+n:"an unscoped Future")+".\n  See: https://github.com/fluture-js/Fluture#casting-futures"}(0,i.namespace):i.version!==A?"The Future was created by "+(i.version<A?"an older":"a newer")+" version of "+b+". This means that one of the sources which creates Futures is outdated. Update this source, or transform its created Futures to be compatible.\n  See: https://github.com/fluture-js/Fluture#casting-futures":"Nothing seems wrong. Contact the Fluture maintainers."):"";return M(e+" expects "+(E[r]?"its "+E[r]+" argument to be a valid Future":r)+"."+a+"\n  Actual: "+t(o)+" :: "+i.name+(u||""))}function I(t,n,e,r){throw N(t,n,e,r)}function F(n,e){throw function(n,e){return M(n+" was invoked outside the context of a Future. You might want to use a dispatcher instead\n  Called on: "+t(e))}(n,e)}function x(t,n,e,r){throw O(t,n,e,r)}function L(t){return"function"==typeof t}function w(t){return t instanceof Promise||Boolean(t)&&L(t.then)}function C(t){return t===1/0||function(t){return"number"==typeof t}(t)&&t>0&&t%1==0}function P(t){return null!==t&&"object"==typeof t}var U={head:null};function j(t,n){return{head:t,tail:n}}function B(t,n,r,o){var i,a,c,s,f=new e,l=u,p=U,h=!0;function d(t){p=j(t,p)}function y(){var t=p.head;return p=p.tail,t}function m(t){if(c=!0,(i=t)._spawn){for(var n=i._actions;n!==U;)f.unshift(n.head),n=n.tail;i=i._spawn}h&&function(){for(h=!1;;){if(c=!1,a=f.shift())l=i._interpret(b,g,v),c||T();else{if(!(a=y()))break;l=i._interpret(b,g,v)}if(!c)return void(h=!0)}l=i._interpret(b,r,o)}()}function g(t){m(a.rejected(t))}function v(t){m(a.resolved(t))}function _(t,n){if(l(),f.clear(),h&&a!==n)for(a.cancel();(s=y())&&s!==n;)s.cancel();m(t)}function E(){for(l(),a&&a.cancel();s=y();)s.cancel()}function b(t){E(),n(t)}function T(){for(;s=f.pop();){if(s=s.run(_),c)return;d(s)}a=a.run(_)}return m(t),E}function D(n){l(S("Future#value was called on a rejected Future\n  Actual: Future.reject("+t(n)+")"))}function k(n){l(function(n){var e,r;try{n&&"string"==typeof n.name&&"string"==typeof n.message?(e=n.name,r=n.message):(e="Non-Error",r=t(n))}catch(t){e="Something",r="<The value which was thrown could not be converted to string>"}return S(e+" occurred while running a computation for a Future:\n\n"+r.split("\n").map(p).join("\n"))}(n))}function V(t){return L(t)||I("Future",0,"be a Function",t),new H(t)}function G(t){return t instanceof V||n(t)===R}U.tail=U,V["@@type"]=R,V.prototype["@@show"]=function(){return this.toString()},V.prototype[g]=function(t){return t._ap(this)},V.prototype[h]=function(t){return this._map(t)},V.prototype[d]=function(t,n){return this._bimap(t,n)},V.prototype[y]=function(t){return this._chain(t)},V.prototype.ap=function(t){return G(this)||F("Future#ap",this),G(t)||x("Future#ap",0,t),this._ap(t)},V.prototype.map=function(t){return G(this)||F("Future#map",this),L(t)||I("Future#map",0,"to be a Function",t),this._map(t)},V.prototype.bimap=function(t,n){return G(this)||F("Future#bimap",this),L(t)||I("Future#bimap",0,"to be a Function",t),L(n)||I("Future#bimap",1,"to be a Function",n),this._bimap(t,n)},V.prototype.chain=function(t){return G(this)||F("Future#chain",this),L(t)||I("Future#chain",0,"to be a Function",t),this._chain(t)},V.prototype.mapRej=function(t){return G(this)||F("Future#mapRej",this),L(t)||I("Future#mapRej",0,"to be a Function",t),this._mapRej(t)},V.prototype.chainRej=function(t){return G(this)||F("Future#chainRej",this),L(t)||I("Future#chainRej",0,"to be a Function",t),this._chainRej(t)},V.prototype.race=function(t){return G(this)||F("Future#race",this),G(t)||x("Future#race",0,t),this._race(t)},V.prototype.both=function(t){return G(this)||F("Future#both",this),G(t)||x("Future#both",0,t),this._both(t)},V.prototype.and=function(t){return G(this)||F("Future#and",this),G(t)||x("Future#and",0,t),this._and(t)},V.prototype.or=function(t){return G(this)||F("Future#or",this),G(t)||x("Future#or",0,t),this._or(t)},V.prototype.swap=function(){return G(this)||F("Future#ap",this),this._swap()},V.prototype.fold=function(t,n){return G(this)||F("Future#ap",this),L(t)||I("Future#fold",0,"to be a Function",t),L(n)||I("Future#fold",1,"to be a Function",n),this._fold(t,n)},V.prototype.finally=function(t){return G(this)||F("Future#finally",this),G(t)||x("Future#finally",0,t),this._finally(t)},V.prototype.lastly=function(t){return G(this)||F("Future#lastly",this),G(t)||x("Future#lastly",0,t),this._finally(t)},V.prototype.fork=function(t,n){return G(this)||F("Future#fork",this),L(t)||I("Future#fork",0,"to be a Function",t),L(n)||I("Future#fork",1,"to be a Function",n),this._interpret(k,t,n)},V.prototype.forkCatch=function(t,n,e){return G(this)||F("Future#fork",this),L(t)||I("Future#fork",0,"to be a Function",t),L(n)||I("Future#fork",1,"to be a Function",n),L(e)||I("Future#fork",2,"to be a Function",e),this._interpret(t,n,e)},V.prototype.value=function(t){return G(this)||F("Future#value",this),L(t)||I("Future#value",0,"to be a Function",t),this._interpret(k,D,t)},V.prototype.done=function(t){return G(this)||F("Future#done",this),L(t)||I("Future#done",0,"to be a Function",t),this._interpret(k,function(n){t(n)},function(n){t(null,n)})},V.prototype.promise=function(){var t=this;return new Promise(function(n,e){t._interpret(k,e,n)})},V.prototype.isRejected=function(){return!1},V.prototype.isResolved=function(){return!1},V.prototype.isSettled=function(){return this.isRejected()||this.isResolved()},V.prototype.extractLeft=function(){return[]},V.prototype.extractRight=function(){return[]};var q=Object.create(V.prototype);function H(t){this._computation=t}function X(t){this._value=t}function W(t){return new X(t)}function z(t){this._value=t}function $(t){return new z(t)}function Y(){this._isNever=!0}q._ap=function(t){return new vt(this)._ap(t)},q._parallelAp=function(t){return new vt(this)._parallelAp(t)},q._map=function(t){return new vt(this)._map(t)},q._bimap=function(t,n){return new vt(this)._bimap(t,n)},q._chain=function(t){return new vt(this)._chain(t)},q._mapRej=function(t){return new vt(this)._mapRej(t)},q._chainRej=function(t){return new vt(this)._chainRej(t)},q._race=function(t){return new vt(this)._race(t)},q._both=function(t){return new vt(this)._both(t)},q._and=function(t){return new vt(this)._and(t)},q._or=function(t){return new vt(this)._or(t)},q._swap=function(){return new vt(this)._swap()},q._fold=function(t,n){return new vt(this)._fold(t,n)},q._finally=function(t){return new vt(this)._finally(t)},H.prototype=Object.create(q),H.prototype._interpret=function(n,e,r){var o=!1,i=u,a=function(){o=!0};try{i=this._computation(function(t){a=function(){o=!1,e(t)},o&&a()},function(t){a=function(){o=!1,r(t)},o&&a()})||u}catch(t){return o=!1,n(t),u}return L(i)&&0===i.length||n(M("The computation was expected to return a nullary function or void\n  Actual: "+t(i))),a(),function(){o&&(o=!1,i&&i())}},H.prototype.toString=function(){return"Future("+a(this._computation)+")"},X.prototype=Object.create(q),X.prototype._ap=i,X.prototype._parallelAp=i,X.prototype._map=i,X.prototype._chain=i,X.prototype._race=i,X.prototype._both=i,X.prototype._and=i,X.prototype._or=function(t){return t},X.prototype._finally=function(t){return t._and(this)},X.prototype._swap=function(){return new z(this._value)},X.prototype._interpret=function(t,n){return n(this._value),u},X.prototype.isRejected=function(){return!0},X.prototype.extractLeft=function(){return[this._value]},X.prototype.toString=function(){return"Future.reject("+t(this._value)+")"},z.prototype=Object.create(q),z.prototype._race=i,z.prototype._mapRej=i,z.prototype._or=i,z.prototype._and=function(t){return t},z.prototype._both=function(t){var n=this._value;return t._map(function(t){return[n,t]})},z.prototype._swap=function(){return new X(this._value)},z.prototype._finally=function(t){var n=this._value;return t._map(function(){return n})},z.prototype._interpret=function(t,n,e){return e(this._value),u},z.prototype.isResolved=function(){return!0},z.prototype.extractRight=function(){return[this._value]},z.prototype.toString=function(){return"Future.of("+t(this._value)+")"},Y.prototype=Object.create(V.prototype),Y.prototype._ap=i,Y.prototype._parallelAp=i,Y.prototype._map=i,Y.prototype._bimap=i,Y.prototype._chain=i,Y.prototype._mapRej=i,Y.prototype._chainRej=i,Y.prototype._both=i,Y.prototype._or=i,Y.prototype._swap=i,Y.prototype._fold=i,Y.prototype._finally=i,Y.prototype._race=function(t){return t},Y.prototype._interpret=function(){return u},Y.prototype.toString=function(){return"Future.never"};var K=new Y;function J(t){return G(t)&&!0===t._isNever}function Z(t){this._error=t}function Q(t){var n=this;n.rec=u,n.rej=u,n.res=u,n.crashed=!1,n.rejected=!1,n.resolved=!1,n.value=null,n.cancel=t._interpret(function(t){n.value=t,n.crashed=!0,n.cancel=u,n.rec(t)},function(t){n.value=t,n.rejected=!0,n.cancel=u,n.rej(t)},function(t){n.value=t,n.resolved=!0,n.cancel=u,n.res(t)})}Z.prototype=Object.create(V.prototype),Z.prototype._ap=i,Z.prototype._parallelAp=i,Z.prototype._map=i,Z.prototype._bimap=i,Z.prototype._chain=i,Z.prototype._mapRej=i,Z.prototype._chainRej=i,Z.prototype._both=i,Z.prototype._or=i,Z.prototype._swap=i,Z.prototype._fold=i,Z.prototype._finally=i,Z.prototype._race=i,Z.prototype._interpret=function(t){return t(this._error),u},Q.prototype=Object.create(q),Q.prototype._interpret=function(t,n,e){return this.crashed?t(this.value):this.rejected?n(this.value):this.resolved?e(this.value):(this.rec=t,this.rej=n,this.res=e),this.cancel};var tt={rejected:function(t){return this.cancel(),new X(t)},resolved:function(t){return this.cancel(),new z(t)},run:function(){return this},cancel:function(){}};function nt(t){this.other=t}function et(t){this.mapper=t}function rt(t,n){this.lmapper=t,this.rmapper=n}function ot(t){this.mapper=t}function ut(t){this.mapper=t}function it(t){this.mapper=t}function at(){}function ct(t,n){this.lmapper=t,this.rmapper=n}function st(t){this.other=t}function ft(t){this.other=t}function lt(t){this.other=t}function pt(t){this.other=t}function ht(t){this.other=t}function dt(t){this.other=t}function yt(t,n){var e=this;e.other=new Q(n),e.cancel=this.other._interpret(function(n){t(new Z(n),e)},function(n){t(new X(n),e)},u)}function mt(t,n){var e=this;e.other=n,e.cancel=n._interpret(function(n){t(new Z(n),e)},function(n){t(new X(n),e)},function(n){t(new z(n),e)})}function gt(t,n){var e=this;e.other=n,e.cancel=n._interpret(function(n){t(new Z(n),e)},function(n){t(new X(n),e)},u)}function vt(t,n){this._spawn=t,this._actions=n||U}function _t(t){return{done:!1,value:t}}function Et(t){return{done:!0,value:t}}function bt(t){return P(t)&&function(t){return"boolean"==typeof t}(t.done)}nt.prototype=Object.create(tt),nt.prototype.resolved=function(n){return L(n)?this.other._map(function(t){return n(t)}):new Z(M("Future#ap expects its first argument to be a Future of a Function\n  Actual: Future.of("+t(n)+")"))},nt.prototype.toString=function(){return"ap("+this.other.toString()+")"},et.prototype=Object.create(tt),et.prototype.resolved=function(t){var n;try{n=new z(this.mapper(t))}catch(t){n=new Z(t)}return n},et.prototype.toString=function(){return"map("+a(this.mapper)+")"},rt.prototype=Object.create(tt),rt.prototype.rejected=function(t){var n;try{n=new X(this.lmapper(t))}catch(t){n=new Z(t)}return n},rt.prototype.resolved=function(t){var n;try{n=new z(this.rmapper(t))}catch(t){n=new Z(t)}return n},rt.prototype.toString=function(){return"bimap("+a(this.lmapper)+", "+a(this.rmapper)+")"},ot.prototype=Object.create(tt),ot.prototype.resolved=function(n){var e;try{e=this.mapper(n)}catch(t){return new Z(t)}return G(e)?e:new Z(O("Future#chain","the function it's given to return a Future",e,"\n  From calling: "+a(this.mapper)+"\n  With: "+t(n)))},ot.prototype.toString=function(){return"chain("+a(this.mapper)+")"},ut.prototype=Object.create(tt),ut.prototype.rejected=function(t){var n;try{n=new X(this.mapper(t))}catch(t){n=new Z(t)}return n},ut.prototype.toString=function(){return"mapRej("+a(this.mapper)+")"},it.prototype=Object.create(tt),it.prototype.rejected=function(n){var e;try{e=this.mapper(n)}catch(t){return new Z(t)}return G(e)?e:new Z(O("Future#chainRej","the function it's given to return a Future",e,"\n  From calling: "+a(this.mapper)+"\n  With: "+t(n)))},it.prototype.toString=function(){return"chainRej("+a(this.mapper)+")"},at.prototype=Object.create(tt),at.prototype.rejected=function(t){return new z(t)},at.prototype.resolved=function(t){return new X(t)},at.prototype.toString=function(){return"swap()"},ct.prototype=Object.create(tt),ct.prototype.rejected=function(t){var n;try{n=new z(this.lmapper(t))}catch(t){n=new Z(t)}return n},ct.prototype.resolved=function(t){var n;try{n=new z(this.rmapper(t))}catch(t){n=new Z(t)}return n},ct.prototype.toString=function(){return"fold("+a(this.lmapper)+", "+a(this.rmapper)+")"},st.prototype=Object.create(tt),st.prototype.rejected=function(t){return this.other._and(new X(t))},st.prototype.resolved=function(t){return this.other._map(function(){return t})},st.prototype.cancel=function(){this.other._interpret(u,u,u)()},st.prototype.toString=function(){return"finally("+this.other.toString()+")"},ft.prototype=Object.create(tt),ft.prototype.resolved=function(){return this.other},ft.prototype.toString=function(){return"and("+this.other.toString()+")"},lt.prototype=Object.create(tt),lt.prototype.rejected=function(){return this.other},lt.prototype.toString=function(){return"or("+this.other.toString()+")"},pt.prototype=Object.create(nt.prototype),pt.prototype.run=function(t){return new yt(t,this.other)},pt.prototype.toString=function(){return"_parallelAp("+this.other.toString()+")"},ht.prototype=Object.create(tt),ht.prototype.run=function(t){return new mt(t,new Q(this.other))},ht.prototype.toString=function(){return"race("+this.other.toString()+")"},dt.prototype=Object.create(tt),dt.prototype.resolved=function(t){return this.other._map(function(n){return[t,n]})},dt.prototype.run=function(t){return new gt(t,new Q(this.other))},dt.prototype.toString=function(){return"both("+this.other.toString()+")"},yt.prototype=Object.create(pt.prototype),mt.prototype=Object.create(ht.prototype),gt.prototype=Object.create(dt.prototype),vt.prototype=Object.create(V.prototype),vt.prototype._transform=function(t){return new vt(this._spawn,j(t,this._actions))},vt.prototype._ap=function(t){return this._transform(new nt(t))},vt.prototype._parallelAp=function(t){return this._transform(new pt(t))},vt.prototype._map=function(t){return this._transform(new et(t))},vt.prototype._bimap=function(t,n){return this._transform(new rt(t,n))},vt.prototype._chain=function(t){return this._transform(new ot(t))},vt.prototype._mapRej=function(t){return this._transform(new ut(t))},vt.prototype._chainRej=function(t){return this._transform(new it(t))},vt.prototype._race=function(t){return J(t)?this:this._transform(new ht(t))},vt.prototype._both=function(t){return this._transform(new dt(t))},vt.prototype._and=function(t){return this._transform(new ft(t))},vt.prototype._or=function(t){return this._transform(new lt(t))},vt.prototype._swap=function(){return this._transform(new at)},vt.prototype._fold=function(t,n){return this._transform(new ct(t,n))},vt.prototype._finally=function(t){return this._transform(new st(t))},vt.prototype._interpret=function(t,n,e){return B(this,t,n,e)},vt.prototype.toString=function(){for(var t="",n=this._actions;n!==U;)t="."+n.head.toString()+t,n=n.tail;return this._spawn.toString()+t};var Tt=0,At=1,Rt=2;function St(t,n){this._step=t,this._init=n}function Mt(t,n){return r.Apply.test(n)||I("Future.ap",1,"be an Apply",n),r.ap(t,n)}function Nt(t,n){return r.Apply.test(t)||I("Future.ap",0,"be an Apply",t),1===arguments.length?c(Mt,t):Mt(t,n)}function Ot(t,n){return r.Alt.test(n)||I("alt",1,"be an Alt",n),r.alt(t,n)}function It(t,n){return r.Alt.test(t)||I("alt",0,"be an Alt",t),1===arguments.length?c(Ot,t):Ot(t,n)}function Ft(t,n){return r.Functor.test(n)||I("Future.map",1,"be a Functor",n),r.map(t,n)}function xt(t,n){return L(t)||I("Future.map",0,"be a Function",t),1===arguments.length?c(Ft,t):Ft(t,n)}function Lt(t,n,e){return r.Bifunctor.test(e)||I("Future.bimap",2,"be a Bifunctor",e),r.bimap(t,n,e)}function wt(t,n,e){return L(n)||I("Future.bimap",1,"be a Function",n),2===arguments.length?s(Lt,t,n):Lt(t,n,e)}function Ct(t,n,e){return L(t)||I("Future.bimap",0,"be a Function",t),1===arguments.length?c(wt,t):2===arguments.length?wt(t,n):wt(t,n,e)}function Pt(t,n){return r.Chain.test(n)||I("Future.chain",1,"be a Chain",n),r.chain(t,n)}function Ut(t,n){return L(t)||I("Future.chain",0,"be a Function",t),1===arguments.length?c(Pt,t):Pt(t,n)}function jt(t,n){return G(n)||x("Future.mapRej",1,n),n.mapRej(t)}function Bt(t,n){return G(n)||x("Future.chainRej",1,n),n.chainRej(t)}function Dt(t,n){return G(n)||x("Future.finally",1,n),n.finally(t)}function kt(t,n){return G(t)||x("Future.finally",0,t),1===arguments.length?c(Dt,t):Dt(t,n)}function Vt(t,n){return G(n)||x("Future.and",1,n),t.and(n)}function Gt(t,n){return G(n)||x("Future.both",1,n),t.both(n)}function qt(t,n){return G(n)||x("Future.or",1,n),t.or(n)}function Ht(t,n){return G(n)||x("Future.race",1,n),n.race(t)}function Xt(t,n){return G(t)||x("Future.race",0,t),1===arguments.length?c(Ht,t):Ht(t,n)}function Wt(t,n,e){return G(e)||x("Future.fold",2,e),e.fold(t,n)}function zt(t,n,e){return L(n)||I("Future.fold",1,"be a function",n),2===arguments.length?s(Wt,t,n):Wt(t,n,e)}function $t(t,n){return G(n)||x("Future.done",1,n),n.done(t)}function Yt(t,n,e){return G(e)||x("Future.fork",2,e),e._interpret(l,t,n)}function Kt(t,n,e){return L(n)||I("Future.fork",1,"be a function",n),2===arguments.length?s(Yt,t,n):Yt(t,n,e)}function Jt(t,n){return G(n)||x("Future.value",1,n),n.value(t)}function Zt(t){return t.isSettled()?t:J(t)?this:"number"==typeof t._time?t._time<this._time?t:this:q._race.call(this,t)}function Qt(t,n){this._time=t,this._value=n}function tn(t,n){this._time=t,this._value=n}function nn(t,n){return t===1/0?K:new Qt(t,n)}function en(t,n){return t===1/0?K:new tn(t,n)}function rn(t){this._fn=t}function on(t){return L(t)||I("Future.try",0,"be a function",t),new rn(t)}St.prototype=Object.create(q),St.prototype._interpret=function(t,n,e){var r=this._step,o=this._init,i=Tt,a=u,c=_t(o);function s(t){c=t,i=i===Tt?At:f()}function f(){for(;!c.done;){i=Tt;try{var o=r(_t,Et,c.value)}catch(n){return void t(n)}if(a=o._interpret(t,n,s),i!==At)return void(i=Rt)}e(c.value)}return f(),function(){a()}},St.prototype.toString=function(){return"Future.chainRec("+a(this._step)+", "+t(this._init)+")"},Qt.prototype=Object.create(q),Qt.prototype._race=Zt,Qt.prototype._swap=function(){return new tn(this._time,this._value)},Qt.prototype._interpret=function(t,n,e){var r=setTimeout(e,this._time,this._value);return function(){clearTimeout(r)}},Qt.prototype.extractRight=function(){return[this._value]},Qt.prototype.toString=function(){return"Future.after("+t(this._time)+", "+t(this._value)+")"},tn.prototype=Object.create(q),tn.prototype._race=Zt,tn.prototype._swap=function(){return new Qt(this._time,this._value)},tn.prototype._interpret=function(t,n){var e=setTimeout(n,this._time,this._value);return function(){clearTimeout(e)}},tn.prototype.extractLeft=function(){return[this._value]},tn.prototype.toString=function(){return"Future.rejectAfter("+t(this._time)+", "+t(this._value)+")"},rn.prototype=Object.create(q),rn.prototype._interpret=function(t,n,e){var r;try{r=this._fn()}catch(t){return n(t),u}return e(r),u},rn.prototype.toString=function(){return"Future.try("+a(this._fn)+")"};var un=ln.Cold=0,an=ln.Pending=1,cn=ln.Crashed=2,sn=ln.Rejected=3,fn=ln.Resolved=4;function ln(t){this._pure=t,this.reset()}function pn(t,n){this._fn=t,this._a=n}function hn(t,n,e){this._fn=t,this._a=n,this._b=e}function dn(t,n,e,r){this._fn=t,this._a=n,this._b=e,this._c=r}function yn(t,n){this._fn=t,this._a=n}function mn(t,n,e){this._fn=t,this._a=n,this._b=e}function gn(t,n,e,r){this._fn=t,this._a=n,this._b=e,this._c=r}function vn(t,n){this._fn=t,this._a=n}function _n(t,n,e){this._fn=t,this._a=n,this._b=e}function En(t,n,e,r){this._fn=t,this._a=n,this._b=e,this._c=r}function bn(n){return M("The iterator did not return a valid iteration from iterator.next()\n  Actual: "+t(n))}function Tn(t){return O("Future.do","the iterator to produce only valid Futures",t,"\n  Tip: If you're using a generator, make sure you always yield a Future")}function An(t){this._generator=t}function Rn(t){return L(t)||I("Future.do",0,"be a Function",t),new An(t)}function Sn(t,n,e){this._acquire=t,this._dispose=n,this._consume=e}function Mn(t,n,e){return L(e)||I("Future.hook",2,"be a Future",e),new Sn(t,n,e)}function Nn(t,n,e){return L(n)||I("Future.hook",1,"be a function",n),2===arguments.length?s(Mn,t,n):Mn(t,n,e)}function On(t){this._fn=t}function In(t,n){this._futures=n,this._length=n.length,this._max=Math.min(this._length,t)}ln.prototype=Object.create(q),ln.prototype.isRejected=function(){return this._state===sn},ln.prototype.isResolved=function(){return this._state===fn},ln.prototype.extractLeft=function(){return this.isRejected()?[this._value]:[]},ln.prototype.extractRight=function(){return this.isResolved()?[this._value]:[]},ln.prototype._addToQueue=function(t,n,e){var r=this;if(r._state>an)return u;var o=r._queue.push(new function(t,n,e){this[cn]=t,this[sn]=n,this[fn]=e}(t,n,e))-1;return r._queued=r._queued+1,function(){r._state>an||(r._queue[o]=void 0,r._queued=r._queued-1,0===r._queued&&r.reset())}},ln.prototype._drainQueue=function(){if(!(this._state<=an)&&0!==this._queued){for(var t=this._queue,n=t.length,e=this._state,r=this._value,o=0;o<n;o++)t[o]&&t[o][e](r),t[o]=void 0;this._queue=void 0,this._queued=0}},ln.prototype.crash=function(t){this._state>an||(this._value=t,this._state=cn,this._drainQueue())},ln.prototype.reject=function(t){this._state>an||(this._value=t,this._state=sn,this._drainQueue())},ln.prototype.resolve=function(t){this._state>an||(this._value=t,this._state=fn,this._drainQueue())},ln.prototype.run=function(){var t=this;t._state>un||(t._state=an,t._cancel=t._pure._interpret(function(n){t.crash(n)},function(n){t.reject(n)},function(n){t.resolve(n)}))},ln.prototype.reset=function(){this._state!==un&&(this._state===an&&this._cancel(),this._cancel=u,this._queue=[],this._queued=0,this._value=void 0,this._state=un)},ln.prototype._interpret=function(t,n,e){var r=u;switch(this._state){case an:r=this._addToQueue(t,n,e);break;case cn:t(this._value);break;case sn:n(this._value);break;case fn:e(this._value);break;default:r=this._addToQueue(t,n,e),this.run()}return r},ln.prototype.toString=function(){return"Future.cache("+this._pure.toString()+")"},pn.prototype=Object.create(q),pn.prototype._interpret=function(t,n,e){var r;try{r=this._fn(this._a)}catch(t){return n(t),u}return e(r),u},pn.prototype.toString=function(){return"Future.encase("+a(this._fn)+", "+t(this._a)+")"},hn.prototype=Object.create(q),hn.prototype._interpret=function(t,n,e){var r;try{r=this._fn(this._a,this._b)}catch(t){return n(t),u}return e(r),u},hn.prototype.toString=function(){return"Future.encase2("+a(this._fn)+", "+t(this._a)+", "+t(this._b)+")"},dn.prototype=Object.create(q),dn.prototype._interpret=function(t,n,e){var r;try{r=this._fn(this._a,this._b,this._c)}catch(t){return n(t),u}return e(r),u},dn.prototype.toString=function(){return"Future.encase3("+a(this._fn)+", "+t(this._a)+", "+t(this._b)+", "+t(this._c)+")"},yn.prototype=Object.create(q),yn.prototype._interpret=function(t,n,e){var r=!1,o=function(){r=!0};try{this._fn(this._a,function(t,u){o=t?function(){r=!1,n(t)}:function(){r=!1,e(u)},r&&o()})}catch(n){return t(n),r=!1,u}return o(),function(){r=!1}},yn.prototype.toString=function(){return"Future.encaseN("+a(this._fn)+", "+t(this._a)+")"},mn.prototype=Object.create(q),mn.prototype._interpret=function(t,n,e){var r=!1,o=function(){r=!0};try{this._fn(this._a,this._b,function(t,u){o=t?function(){r=!1,n(t)}:function(){r=!1,e(u)},r&&o()})}catch(n){return t(n),r=!1,u}return o(),function(){r=!1}},mn.prototype.toString=function(){return"Future.encaseN2("+a(this._fn)+", "+t(this._a)+", "+t(this._b)+")"},gn.prototype=Object.create(q),gn.prototype._interpret=function(t,n,e){var r=!1,o=function(){r=!0};try{this._fn(this._a,this._b,this._c,function(t,u){o=t?function(){r=!1,n(t)}:function(){r=!1,e(u)},r&&o()})}catch(n){return t(n),r=!1,u}return o(),function(){r=!1}},gn.prototype.toString=function(){return"Future.encaseN3("+a(this._fn)+", "+t(this._a)+", "+t(this._b)+", "+t(this._c)+")"},vn.prototype=Object.create(q),vn.prototype._interpret=function(n,e,r){var o,i=!0,c=this._fn,s=this._a;try{o=c(s)}catch(t){return n(t),u}return w(o)?(o.then(function(t){i&&(i=!1,r(t))},function(t){i&&(i=!1,e(t))}),function(){i=!1}):(n(function(n,e,r){return M("Future.encaseP expects the function it's given to return a Promise/Thenable\n  Actual: "+t(o)+"\n  From calling: "+a(e)+"\n  With: "+t(r))}(0,c,s)),u)},vn.prototype.toString=function(){return"Future.encaseP("+a(this._fn)+", "+t(this._a)+")"},_n.prototype=Object.create(q),_n.prototype._interpret=function(n,e,r){var o,i=!0,c=this._fn,s=this._a,f=this._b;try{o=c(s,f)}catch(t){return n(t),u}return w(o)?(o.then(function(t){i&&(i=!1,r(t))},function(t){i&&(i=!1,e(t))}),function(){i=!1}):(n(function(n,e,r,o){return M("Future.encaseP2 expects the function it's given to return a Promise/Thenable\n  Actual: "+t(n)+"\n  From calling: "+a(e)+"\n  With 1: "+t(r)+"\n  With 2: "+t(o))}(o,c,s,f)),u)},_n.prototype.toString=function(){return"Future.encaseP2("+a(this._fn)+", "+t(this._a)+", "+t(this._b)+")"},En.prototype=Object.create(q),En.prototype._interpret=function(n,e,r){var o,i=!0,c=this._fn,s=this._a,f=this._b,l=this._c;try{o=c(s,f,l)}catch(t){return n(t),u}return w(o)?(o.then(function(t){i&&(i=!1,r(t))},function(t){i&&(i=!1,e(t))}),function(){i=!1}):(n(function(n,e,r,o,u){return M("Future.encaseP3 expects the function it's given to return a Promise/Thenable\n  Actual: "+t(n)+"\n  From calling: "+a(e)+"\n  With 1: "+t(r)+"\n  With 2: "+t(o)+"\n  With 3: "+t(u))}(o,c,s,f,l)),u)},En.prototype.toString=function(){return"Future.encaseP3("+a(this._fn)+", "+t(this._a)+", "+t(this._b)+", "+t(this._c)+")"},An.prototype=Object.create(q),An.prototype._interpret=function(t,n,e){var r,o,i,a=Tt,c=u;try{i=this._generator()}catch(n){return t(n),u}if(!function(t){return P(t)&&L(t.next)}(i))return t(N("Future.do",0,'return an iterator, maybe you forgot the "*"',i)),u;function s(t){if(o=t,a===Rt)return f();a=At}function f(){for(;;){try{r=i.next(o)}catch(n){return t(n)}if(!bt(r))return t(bn(r));if(r.done)break;if(!G(r.value))return t(Tn(r.value));if(a=Tt,c=r.value._interpret(t,n,s),a===Tt)return a=Rt}e(r.value)}return f(),function(){c()}},An.prototype.toString=function(){return"Future.do("+a(this._generator)+")"},Sn.prototype=Object.create(q),Sn.prototype._interpret=function(n,e,r){var o,i,c,s=this._acquire,f=this._dispose,l=this._consume,p=u,h=u;function d(){h(c)}function y(t){e(t)}function m(t){var r=n;h=u,e=u,n=u,g(),r(t)}function g(){var e;try{e=f(i)}catch(t){return n(t)}if(!G(e))return n(function(n,e,r){return O("Future.hook","the first function it's given to return a Future",n,"\n  From calling: "+a(f)+"\n  With: "+t(r))}(e,0,i));e._interpret(n,y,d),o=_}function v(){p(),g(),_()}function _(){h=u,n=u,e=u}function E(t){h=e,c=t,g()}function b(t){h=r,c=t,g()}var T=s._interpret(n,y,function(n){var e;i=n;try{e=l(i)}catch(t){return m(t)}if(!G(e))return m(function(n,e,r){return O("Future.hook","the second function it's given to return a Future",n,"\n  From calling: "+a(l)+"\n  With: "+t(r))}(e,0,i));o=v,p=e._interpret(m,E,b)});return o=o||T,function(){o()}},Sn.prototype.toString=function(){return"Future.hook("+this._acquire.toString()+", "+a(this._dispose)+", "+a(this._consume)+")"},On.prototype=Object.create(q),On.prototype._interpret=function(t,n,e){var r=!1,o=function(){r=!0};try{this._fn(function(t,u){o=t?function(){r=!1,n(t)}:function(){r=!1,e(u)},r&&o()})}catch(n){return t(n),r=!1,u}return o(),function(){r=!1}},On.prototype.toString=function(){return"Future.node("+a(this._fn)+")"},In.prototype=Object.create(q),In.prototype._interpret=function(t,n,e){var r=this._futures,o=this._length,i=this._max,a=new Array(o),c=new Array(o),s=0,f=0,l=!1;function p(){s=o;for(var t=0;t<o;t++)a[t]&&a[t]()}function h(i){f++,a[i]=r[i]._interpret(function(n){a[i]=u,p(),t(n)},function(t){a[i]=u,p(),n(t)},function(t){a[i]=u,c[i]=t,f--,s===o&&0===f?e(c):l&&d()})}function d(){for(l=!1;s<o&&f<i;)h(s++);l=!0}return d(),p},In.prototype.toString=function(){return"Future.parallel("+this._max+", "+t(this._futures)+")"};var Fn=new z([]);function xn(t,n){G(t)||x("Future.parallel","its second argument to be an array of valid Futures. The value at position "+n+" in the array is not a Future",t)}function Ln(t,n){(function(t){return Array.isArray(t)})(n)||I("Future.parallel",1,"be an array",n);for(var e=0;e<n.length;e++)xn(n[e],e);return 0===n.length?Fn:new In(t,n)}function wn(t){this._fn=t}wn.prototype=Object.create(q),wn.prototype._interpret=function(n,e,r){var o,i=!0,c=this._fn;try{o=c()}catch(t){return n(t),u}return w(o)?(o.then(function(t){i&&(i=!1,r(t))},function(t){i&&(i=!1,e(t))}),function(){i=!1}):(n(function(n,e){return M("Future.tryP expects the function it's given to return a Promise/Thenable\n  Actual: "+t(o)+"\n  From calling: "+a(e))}(0,c)),u)},wn.prototype.toString=function(){return"Future.tryP("+t(this._fn)+")"},V.of=V[v]=$,V.chainRec=V[m]=function(t,n){return new St(t,n)},V.reject=W,V.ap=Nt,V.map=xt,V.bimap=Ct,V.chain=Ut;var Cn=o(V,K,Xt,function(t,n){return n._parallelAp(t)});function Pn(t){return t instanceof Cn||n(t)===Cn["@@type"]}Cn.of=Cn[v],Cn.zero=Cn[_],Cn.map=xt,Cn.ap=Nt,Cn.alt=It;var Un=Object.freeze({Future:V,default:V,Par:Cn,isParallel:Pn,seq:function(t){return Pn(t)||I("Future.seq",0,"to be a Par",t),t.sequential},isFuture:G,reject:W,of:$,never:K,isNever:J,after:function(t,n){return C(t)||I("Future.after",0,"be a positive integer",t),1===arguments.length?c(nn,t):nn(t,n)},rejectAfter:function(t,n){return C(t)||I("Future.rejectAfter",0,"be a positive integer",t),1===arguments.length?c(en,t):en(t,n)},attempt:on,try:on,cache:function(t){return G(t)||x("Future.cache",0,t),new ln(t)},encase:function t(n,e){return L(n)||I("Future.encase",0,"be a function",n),1===arguments.length?c(t,n):new pn(n,e)},encase2:function t(n,e,r){switch(L(n)||I("Future.encase2",0,"be a function",n),arguments.length){case 1:return c(t,n);case 2:return s(t,n,e);default:return new hn(n,e,r)}},encase3:function t(n,e,r,o){switch(L(n)||I("Future.encase3",0,"be a function",n),arguments.length){case 1:return c(t,n);case 2:return s(t,n,e);case 3:return f(t,n,e,r);default:return new dn(n,e,r,o)}},encaseN:function t(n,e){return L(n)||I("Future.encaseN",0,"be a function",n),1===arguments.length?c(t,n):new yn(n,e)},encaseN2:function t(n,e,r){switch(L(n)||I("Future.encaseN2",0,"be a function",n),arguments.length){case 1:return c(t,n);case 2:return s(t,n,e);default:return new mn(n,e,r)}},encaseN3:function t(n,e,r,o){switch(L(n)||I("Future.encaseN3",0,"be a function",n),arguments.length){case 1:return c(t,n);case 2:return s(t,n,e);case 3:return f(t,n,e,r);default:return new gn(n,e,r,o)}},encaseP:function t(n,e){return L(n)||I("Future.encaseP",0,"be a function",n),1===arguments.length?c(t,n):new vn(n,e)},encaseP2:function t(n,e,r){switch(L(n)||I("Future.encaseP2",0,"be a function",n),arguments.length){case 1:return c(t,n);case 2:return s(t,n,e);default:return new _n(n,e,r)}},encaseP3:function t(n,e,r,o){switch(L(n)||I("Future.encaseP3",0,"be a function",n),arguments.length){case 1:return c(t,n);case 2:return s(t,n,e);case 3:return f(t,n,e,r);default:return new En(n,e,r,o)}},go:Rn,do:Rn,hook:function(t,n,e){return G(t)||x("Future.hook",0,t),1===arguments.length?c(Nn,t):2===arguments.length?Nn(t,n):Nn(t,n,e)},node:function(t){return L(t)||I("Future.node",0,"be a function",t),new On(t)},parallel:function(t,n){return C(t)||I("Future.parallel",0,"be a positive integer",t),1===arguments.length?c(Ln,t):Ln(t,n)},tryP:function(t){return L(t)||I("Future.tryP",0,"be a function",t),new wn(t)},ap:Nt,alt:It,map:xt,bimap:Ct,chain:Ut,mapRej:function(t,n){return L(t)||I("Future.mapRej",0,"be a Function",t),1===arguments.length?c(jt,t):jt(t,n)},chainRej:function(t,n){return L(t)||I("Future.chainRej",0,"be a Function",t),1===arguments.length?c(Bt,t):Bt(t,n)},lastly:kt,finally:kt,and:function(t,n){return G(t)||x("Future.and",0,t),1===arguments.length?c(Vt,t):Vt(t,n)},both:function(t,n){return G(t)||x("Future.both",0,t),1===arguments.length?c(Gt,t):Gt(t,n)},or:function(t,n){return G(t)||x("Future.or",0,t),1===arguments.length?c(qt,t):qt(t,n)},race:Xt,swap:function(t){return G(t)||x("Future.swap",0,t),t.swap()},fold:function(t,n,e){return L(t)||I("Future.fold",0,"be a function",t),1===arguments.length?c(zt,t):2===arguments.length?zt(t,n):zt(t,n,e)},done:function(t,n){return L(t)||I("Future.done",0,"be a Function",t),1===arguments.length?c($t,t):$t(t,n)},fork:function(t,n,e){return L(t)||I("Future.fork",0,"be a function",t),1===arguments.length?c(Kt,t):2===arguments.length?Kt(t,n):Kt(t,n,e)},forkCatch:function t(n,e,r,o){return L(n)||I("Future.forkCatch",0,"be a function",n),1===arguments.length?c(t,n):(L(e)||I("Future.forkCatch",1,"be a function",e),2===arguments.length?s(t,n,e):(L(r)||I("Future.forkCatch",2,"be a function",r),3===arguments.length?f(t,n,e,r):(G(o)||x("Future.forkCatch",3,o),o._interpret(n,e,r))))},promise:function(t){return G(t)||x("Future.promise",0,t),t.promise()},value:function(t,n){return L(t)||I("Future.value",0,"be a Function",t),1===arguments.length?c(Jt,t):Jt(t,n)},extractLeft:function(t){return G(t)||x("Future.extractLeft",0,t),t.extractLeft()},extractRight:function(t){return G(t)||x("Future.extractRight",0,t),t.extractRight()}});return Object.assign(V,Un)}(e(3),e(9),e(54),e(30),e(55))},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i():null!=e(0)?(o=[],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryShow=i()}(function(){"use strict";var t="@@show",n=[];function e(t){return function(n){return r(n)+": "+r(t[n])}}function r(o){if(n.indexOf(o)>=0)return"<Circular>";switch(Object.prototype.toString.call(o)){case"[object Boolean]":return"object"==typeof o?"new Boolean ("+r(o.valueOf())+")":o.toString();case"[object Number]":return"object"==typeof o?"new Number ("+r(o.valueOf())+")":1/o==-1/0?"-0":o.toString(10);case"[object String]":return"object"==typeof o?"new String ("+r(o.valueOf())+")":JSON.stringify(o);case"[object Date]":return"new Date ("+r(isNaN(o.valueOf())?NaN:o.toISOString())+")";case"[object Error]":return"new "+o.name+" ("+r(o.message)+")";case"[object Arguments]":return"function () { return arguments; } ("+Array.prototype.map.call(o,r).join(", ")+")";case"[object Array]":n.push(o);try{return"["+o.map(r).concat(Object.keys(o).sort().filter(function(t){return!/^\d+$/.test(t)}).map(e(o))).join(", ")+"]"}finally{n.pop()}case"[object Object]":n.push(o);try{return t in o&&(null==o.constructor||o.constructor.prototype!==o)?o[t]():"{"+Object.keys(o).sort().map(e(o)).join(", ")+"}"}finally{n.pop()}default:return String(o)}}return r})},function(t,n,e){"use strict";var r=e(65),o=function(){function t(){}return t.value=new t,t}();t.exports={IsSymbol:function(t){this.reflectSymbol=t},reflectSymbol:function(t){return t.reflectSymbol},reifySymbol:function(t){return function(n){return r.unsafeCoerce(function(t){return n(t)})({reflectSymbol:function(n){return t}})(o.value)}},SProxy:o}},function(t,n,e){"use strict";var r=e(64),o=e(4),u=e(1),i=e(6),a=e(46),c=e(7),s=function(t,n,e,r){this.add=t,this.mul=n,this.one=e,this.zero=r},f=function(t,n,e,r){this.addRecord=t,this.mulRecord=n,this.oneRecord=e,this.zeroRecord=r},l=function(t){return t.zeroRecord},p=function(t){return t.zero},h=new s(function(t){return function(t){return u.unit}},function(t){return function(t){return u.unit}},u.unit,u.unit),d=new f(function(t){return function(t){return function(t){return{}}}},function(t){return function(t){return function(t){return{}}}},function(t){return function(t){return{}}},function(t){return function(t){return{}}}),y=new s(r.numAdd,r.numMul,1,0),m=new s(r.intAdd,r.intMul,1,0),g=function(t){return t.oneRecord},v=function(t){return t.one},_=function(t){return t.mulRecord},E=function(t){return t.mul},b=function(t){return t.addRecord},T=function(t){return t.add};t.exports={Semiring:s,add:T,zero:p,mul:E,one:v,SemiringRecord:f,addRecord:b,mulRecord:_,oneRecord:g,zeroRecord:l,semiringInt:m,semiringNumber:y,semiringFn:function(t){return new s(function(n){return function(e){return function(r){return T(t)(n(r))(e(r))}}},function(n){return function(e){return function(r){return E(t)(n(r))(e(r))}}},function(n){return v(t)},function(n){return p(t)})},semiringUnit:h,semiringRecord:function(t){return function(t){return new s(b(t)(c.RLProxy.value),_(t)(c.RLProxy.value),g(t)(c.RLProxy.value)(a.RProxy.value),l(t)(c.RLProxy.value)(a.RProxy.value))}},semiringRecordNil:d,semiringRecordCons:function(t){return function(n){return function(n){return function(e){return new f(function(r){return function(r){return function(u){var a=b(n)(c.RLProxy.value)(r)(u),s=o.reflectSymbol(t)(o.SProxy.value),f=i.unsafeSet(s),l=i.unsafeGet(s);return f(T(e)(l(r))(l(u)))(a)}}},function(r){return function(r){return function(u){var a=_(n)(c.RLProxy.value)(r)(u),s=o.reflectSymbol(t)(o.SProxy.value),f=i.unsafeSet(s),l=i.unsafeGet(s);return f(E(e)(l(r))(l(u)))(a)}}},function(r){return function(r){var u=g(n)(c.RLProxy.value)(a.RProxy.value),s=o.reflectSymbol(t)(o.SProxy.value);return i.unsafeSet(s)(v(e))(u)}},function(r){return function(r){var u=l(n)(c.RLProxy.value)(a.RProxy.value),s=o.reflectSymbol(t)(o.SProxy.value);return i.unsafeSet(s)(p(e))(u)}})}}}}}},function(t,n,e){"use strict";var r=e(68);t.exports={unsafeHas:r.unsafeHas,unsafeGet:r.unsafeGet,unsafeSet:r.unsafeSet,unsafeDelete:r.unsafeDelete}},function(t,n,e){"use strict";var r=function(){function t(){}return t.value=new t,t}();t.exports={RLProxy:r}},function(t,n,e){"use strict";var r=e(77),o=e(5),u=e(4),i=e(1),a=e(6),c=e(7),s=function(t,n){this.Semiring0=t,this.sub=n},f=function(t,n){this.SemiringRecord0=t,this.subRecord=n},l=function(t){return t.subRecord},p=function(t){return t.sub},h=new s(function(){return o.semiringUnit},function(t){return function(t){return i.unit}}),d=new f(function(){return o.semiringRecordNil},function(t){return function(t){return function(t){return{}}}}),y=new s(function(){return o.semiringNumber},r.numSub),m=new s(function(){return o.semiringInt},r.intSub);t.exports={Ring:s,sub:p,negate:function(t){return function(n){return p(t)(o.zero(t.Semiring0()))(n)}},RingRecord:f,subRecord:l,ringInt:m,ringNumber:y,ringUnit:h,ringFn:function(t){return new s(function(){return o.semiringFn(t.Semiring0())},function(n){return function(e){return function(r){return p(t)(n(r))(e(r))}}})},ringRecord:function(t){return function(n){return new s(function(){return o.semiringRecord(t)(n.SemiringRecord0())},l(n)(c.RLProxy.value))}},ringRecordNil:d,ringRecordCons:function(t){return function(n){return function(e){return function(r){return new f(function(){return o.semiringRecordCons(t)(n)(e.SemiringRecord0())(r.Semiring0())},function(n){return function(n){return function(o){var i=l(e)(c.RLProxy.value)(n)(o),s=u.reflectSymbol(t)(u.SProxy.value),f=a.unsafeSet(s),h=a.unsafeGet(s);return f(p(r)(h(n))(h(o)))(i)}}})}}}}}},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i():null!=e(0)?(o=[],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeIdentifiers=i()}(function(){"use strict";var t="@@type",n=new RegExp("^([\\s\\S]+)/([\\s\\S]+?)(?:@([0-9]+))?$");function e(n){return null!=n&&null!=n.constructor&&n.constructor.prototype!==n&&"string"==typeof n.constructor[t]?n.constructor[t]:Object.prototype.toString.call(n).slice("[object ".length,-"]".length)}return e.parse=function(t){var e=n.exec(t);return{namespace:null==e||null==e[1]?null:e[1],name:null==e?t:e[2],version:null==e||null==e[3]?0:Number(e[3])}},e})},function(t,n,e){"use strict";var r=e(72),o=(e(20),e(4)),u=(e(1),e(21),e(6)),i=e(7),a=function(t){this.eq=t},c=function(t){this.eq1=t},s=function(t){this.eqRecord=t},f=new a(function(t){return function(t){return!0}}),l=new a(function(t){return function(t){return!0}}),p=new a(r.refEq),h=new s(function(t){return function(t){return function(t){return!0}}}),d=function(t){return t.eqRecord},y=new a(r.refEq),m=new a(r.refEq),g=new a(r.refEq),v=new a(r.refEq),_=function(t){return t.eq1},E=function(t){return t.eq},b=function(t){return new a(r.eqArrayImpl(E(t)))},T=new c(function(t){return E(b(t))});t.exports={Eq:a,eq:E,notEq:function(t){return function(n){return function(e){return E(v)(E(t)(n)(e))(!1)}}},Eq1:c,eq1:_,notEq1:function(t){return function(n){return function(e){return function(r){return E(v)(_(t)(n)(e)(r))(!1)}}}},EqRecord:s,eqRecord:d,eqBoolean:v,eqInt:m,eqNumber:y,eqChar:g,eqString:p,eqUnit:l,eqVoid:f,eqArray:b,eqRec:function(t){return function(t){return new a(d(t)(i.RLProxy.value))}},eq1Array:T,eqRowNil:h,eqRowCons:function(t){return function(n){return function(n){return function(e){return new s(function(r){return function(r){return function(a){var c=d(t)(i.RLProxy.value)(r)(a),s=o.reflectSymbol(n)(o.SProxy.value),f=u.unsafeGet(s);return E(e)(f(r))(f(a))&&c}}})}}}}}},function(t,n,e){"use strict";var r=e(10),o=e(28),u=e(15),i=function(){function t(){}return t.value=new t,t}(),a=function(){function t(){}return t.value=new t,t}(),c=function(){function t(){}return t.value=new t,t}(),s=new u.Show(function(t){if(t instanceof i)return"LT";if(t instanceof a)return"GT";if(t instanceof c)return"EQ";throw new Error("Failed pattern match at Data.Ordering line 26, column 1 - line 26, column 39: "+[t.constructor.name])}),f=new o.Semigroup(function(t){return function(n){if(t instanceof i)return i.value;if(t instanceof a)return a.value;if(t instanceof c)return n;throw new Error("Failed pattern match at Data.Ordering line 21, column 1 - line 21, column 49: "+[t.constructor.name,n.constructor.name])}}),l=new r.Eq(function(t){return function(n){return t instanceof i&&n instanceof i||t instanceof a&&n instanceof a||t instanceof c&&n instanceof c}});t.exports={LT:i,GT:a,EQ:c,invert:function(t){if(t instanceof a)return i.value;if(t instanceof c)return c.value;if(t instanceof i)return a.value;throw new Error("Failed pattern match at Data.Ordering line 33, column 1 - line 33, column 31: "+[t.constructor.name])},eqOrdering:l,semigroupOrdering:f,showOrdering:s}},function(t,n,e){"use strict";var r=e(78),o=e(26),u=e(18),i=e(1),a=function(t){this.map=t},c=function(t){return t.map},s=new a(o.compose(o.semigroupoidFn)),f=new a(r.arrayMap);t.exports={Functor:a,map:c,mapFlipped:function(t){return function(n){return function(e){return c(t)(e)(n)}}},void:function(t){return c(t)(u.const(i.unit))},voidRight:function(t){return function(n){return c(t)(u.const(n))}},voidLeft:function(t){return function(n){return function(e){return c(t)(u.const(e))(n)}}},flap:function(t){return function(n){return function(e){return c(t)(function(t){return t(e)})(n)}}},functorFn:s,functorArray:f}},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i(e(3),e(33)):null!=e(0)?(o=[e(3),e(33)],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryEither=i(self.sanctuaryShow,self.sanctuaryTypeClasses)}(function(n,r){"use strict";if("undefined"!=typeof __doctest){var o=__doctest.require("sanctuary-def"),u=__doctest.require("sanctuary-type-identifiers");!function(){var t=__doctest.require("sanctuary"),n=o.BinaryType("sanctuary-either/Either")("")(function(t){return u(t)===i["@@type"]})(function(t){return t.isLeft?[t.value]:[]})(function(t){return t.isLeft?[]:[t.value]}),e=r.concat(t.env,[o.TypeClass,n(o.Unknown)(o.Unknown)]);t.create({checkTypes:!0,env:e})}()}var i={},a={constructor:i,isLeft:!0,isRight:!1,"@@show":y,"fantasy-land/map":function(t){return this},"fantasy-land/bimap":function(t,n){return l(t(this.value))},"fantasy-land/ap":function(t){return t.isLeft?t:this},"fantasy-land/chain":function(t){return this},"fantasy-land/alt":function(t){return t},"fantasy-land/reduce":function(t,n){return n},"fantasy-land/traverse":function(t,n){return r.of(t,this)},"fantasy-land/extend":function(t){return this}},c={constructor:i,isLeft:!1,isRight:!0,"@@show":m,"fantasy-land/map":function(t){return p(t(this.value))},"fantasy-land/bimap":function(t,n){return p(n(this.value))},"fantasy-land/ap":function(t){return t.isLeft?t:p(t.value(this.value))},"fantasy-land/chain":function(t){return t(this.value)},"fantasy-land/alt":function(t){return this},"fantasy-land/reduce":function(t,n){return t(n,this.value)},"fantasy-land/traverse":function(t,n){return r.map(p,n(this.value))},"fantasy-land/extend":function(t){return p(t(this))}},s="object"==typeof t&&"object"==typeof t.exports?e(14):{},f=null!=s.inspect&&"symbol"==typeof s.inspect.custom?s.inspect.custom:"inspect";a[f]=y,c[f]=m;var l=i.Left=function(t){var n=Object.create(a);return r.Setoid.test(t)&&(n["fantasy-land/equals"]=g,r.Ord.test(t)&&(n["fantasy-land/lte"]=_)),r.Semigroup.test(t)&&(n["fantasy-land/concat"]=b),n.value=t,n},p=i.Right=function(t){var n=Object.create(c);return r.Setoid.test(t)&&(n["fantasy-land/equals"]=v,r.Ord.test(t)&&(n["fantasy-land/lte"]=E)),r.Semigroup.test(t)&&(n["fantasy-land/concat"]=T),n.value=t,n};function h(t){return{tag:h,value:t}}function d(t){return{tag:d,value:t}}function y(){return"Left ("+n(this.value)+")"}function m(){return"Right ("+n(this.value)+")"}function g(t){return t.isLeft&&r.equals(this.value,t.value)}function v(t){return t.isRight&&r.equals(this.value,t.value)}function _(t){return t.isRight||r.lte(this.value,t.value)}function E(t){return t.isRight&&r.lte(this.value,t.value)}function b(t){return t.isLeft?l(r.concat(this.value,t.value)):t}function T(t){return t.isRight?p(r.concat(this.value,t.value)):this}return i["@@type"]="sanctuary-either/Either@1",i["fantasy-land/of"]=p,i["fantasy-land/chainRec"]=function(t,n){for(var e=h(n);e.tag===h;){var r=t(h,d,e.value);if(r.isLeft)return r;e=r.value}return p(e.value)},i})},function(t,n,e){(function(t,r){var o=/%[sdj%]/g;n.format=function(t){if(!g(t)){for(var n=[],e=0;e<arguments.length;e++)n.push(a(arguments[e]));return n.join(" ")}e=1;for(var r=arguments,u=r.length,i=String(t).replace(o,function(t){if("%%"===t)return"%";if(e>=u)return t;switch(t){case"%s":return String(r[e++]);case"%d":return Number(r[e++]);case"%j":try{return JSON.stringify(r[e++])}catch(t){return"[Circular]"}default:return t}}),c=r[e];e<u;c=r[++e])y(c)||!E(c)?i+=" "+c:i+=" "+a(c);return i},n.deprecate=function(e,o){if(v(t.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(!0===r.noDeprecation)return e;var u=!1;return function(){if(!u){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),u=!0}return e.apply(this,arguments)}};var u,i={};function a(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(e)?r.showHidden=e:e&&n._extend(r,e),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),f(r,t,r.depth)}function c(t,n){var e=a.styles[n];return e?"["+a.colors[e][0]+"m"+t+"["+a.colors[e][1]+"m":t}function s(t,n){return t}function f(t,e,r){if(t.customInspect&&e&&A(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(r,t);return g(o)||(o=f(t,o,r)),o}var u=function(t,n){if(v(n))return t.stylize("undefined","undefined");if(g(n)){var e="'"+JSON.stringify(n).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(e,"string")}return m(n)?t.stylize(""+n,"number"):d(n)?t.stylize(""+n,"boolean"):y(n)?t.stylize("null","null"):void 0}(t,e);if(u)return u;var i=Object.keys(e),a=function(t){var n={};return i.forEach(function(t,e){n[t]=!0}),n}();if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),T(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return l(e);if(0===i.length){if(A(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(_(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(b(e))return t.stylize(Date.prototype.toString.call(e),"date");if(T(e))return l(e)}var s,E="",R=!1,S=["{","}"];return h(e)&&(R=!0,S=["[","]"]),A(e)&&(E=" [Function"+(e.name?": "+e.name:"")+"]"),_(e)&&(E=" "+RegExp.prototype.toString.call(e)),b(e)&&(E=" "+Date.prototype.toUTCString.call(e)),T(e)&&(E=" "+l(e)),0!==i.length||R&&0!=e.length?r<0?_(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),s=R?function(t,n,e,r,o){for(var u=[],i=0,a=n.length;i<a;++i)N(n,String(i))?u.push(p(t,n,e,r,String(i),!0)):u.push("");return o.forEach(function(o){o.match(/^\d+$/)||u.push(p(t,n,e,r,o,!0))}),u}(t,e,r,a,i):i.map(function(n){return p(t,e,r,a,n,R)}),t.seen.pop(),function(t,n,e){return t.reduce(function(t,n){return n.indexOf("\n"),t+n.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?e[0]+(""===n?"":n+"\n ")+" "+t.join(",\n  ")+" "+e[1]:e[0]+n+" "+t.join(", ")+" "+e[1]}(s,E,S)):S[0]+E+S[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,n,e,r,o,u){var i,a,c;if((c=Object.getOwnPropertyDescriptor(n,o)||{value:n[o]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),N(r,o)||(i="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=y(e)?f(t,c.value,null):f(t,c.value,e-1)).indexOf("\n")>-1&&(a=u?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),v(i)){if(u&&o.match(/^\d+$/))return a;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=t.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=t.stylize(i,"string"))}return i+": "+a}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function _(t){return E(t)&&"[object RegExp]"===R(t)}function E(t){return"object"==typeof t&&null!==t}function b(t){return E(t)&&"[object Date]"===R(t)}function T(t){return E(t)&&("[object Error]"===R(t)||t instanceof Error)}function A(t){return"function"==typeof t}function R(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}n.debuglog=function(t){if(v(u)&&(u=Object({NODE_ENV:"production",BROADCAST:void 0,BUILD_VERSION:"0.0.1-alpha"}).NODE_DEBUG||""),t=t.toUpperCase(),!i[t])if(new RegExp("\\b"+t+"\\b","i").test(u)){var e=r.pid;i[t]=function(){var r=n.format.apply(n,arguments);console.error("%s %d: %s",t,e,r)}}else i[t]=function(){};return i[t]},n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=d,n.isNull=y,n.isNullOrUndefined=function(t){return null==t},n.isNumber=m,n.isString=g,n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=v,n.isRegExp=_,n.isObject=E,n.isDate=b,n.isError=T,n.isFunction=A,n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=e(57);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(t,n){return Object.prototype.hasOwnProperty.call(t,n)}n.log=function(){console.log("%s - %s",function(){var t=new Date,n=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),M[t.getMonth()],n].join(" ")}(),n.format.apply(n,arguments))},n.inherits=e(58),n._extend=function(t,n){if(!n||!E(n))return t;for(var e=Object.keys(n),r=e.length;r--;)t[e[r]]=n[e[r]];return t}}).call(this,e(56),e(24))},function(t,n,e){"use strict";var r=e(67),o=e(4),u=e(6),i=e(7),a=function(t){this.show=t},c=function(t){this.showRecordFields=t},s=new a(r.showStringImpl),f=new c(function(t){return function(t){return[]}}),l=function(t){return t.showRecordFields},p=new a(r.showNumberImpl),h=new a(r.showIntImpl),d=new a(r.showCharImpl),y=new a(function(t){if(t)return"true";if(!t)return"false";throw new Error("Failed pattern match at Data.Show line 20, column 1 - line 20, column 37: "+[t.constructor.name])}),m=function(t){return t.show};t.exports={Show:a,show:m,ShowRecordFields:c,showRecordFields:l,showBoolean:y,showInt:h,showNumber:p,showChar:d,showString:s,showArray:function(t){return new a(r.showArrayImpl(m(t)))},showRecord:function(t){return function(t){return new a(function(n){var e=l(t)(i.RLProxy.value)(n);return 0===e.length?"{}":r.join(" ")(["{",r.join(", ")(e),"}"])})}},showRecordFieldsNil:f,showRecordFieldsCons:function(t){return function(n){return function(e){return new c(function(a){return function(a){var c=l(n)(i.RLProxy.value)(a),s=o.reflectSymbol(t)(o.SProxy.value),f=u.unsafeGet(s)(a);return r.cons(r.join(": ")([s,m(e)(f)]))(c)}})}}}}},function(t,n,e){"use strict";var r=e(70),o=e(17),u=e(18),i=e(12),a=function(t,n){this.Functor0=t,this.apply=n},c=new a(function(){return i.functorFn},function(t){return function(n){return function(e){return t(e)(n(e))}}}),s=new a(function(){return i.functorArray},r.arrayApply),f=function(t){return t.apply};t.exports={Apply:a,apply:f,applyFirst:function(t){return function(n){return function(e){return f(t)(i.map(t.Functor0())(u.const)(n))(e)}}},applySecond:function(t){return function(n){return function(e){return f(t)(i.map(t.Functor0())(u.const(o.identity(o.categoryFn)))(n))(e)}}},lift2:function(t){return function(n){return function(e){return function(r){return f(t)(i.map(t.Functor0())(n)(e))(r)}}}},lift3:function(t){return function(n){return function(e){return function(r){return function(o){return f(t)(f(t)(i.map(t.Functor0())(n)(e))(r))(o)}}}}},lift4:function(t){return function(n){return function(e){return function(r){return function(o){return function(u){return f(t)(f(t)(f(t)(i.map(t.Functor0())(n)(e))(r))(o))(u)}}}}}},lift5:function(t){return function(n){return function(e){return function(r){return function(o){return function(u){return function(a){return f(t)(f(t)(f(t)(f(t)(i.map(t.Functor0())(n)(e))(r))(o))(u))(a)}}}}}}},applyFn:c,applyArray:s}},function(t,n,e){"use strict";var r=e(26),o=function(t,n){this.Semigroupoid0=t,this.identity=n},u=new o(function(){return r.semigroupoidFn},function(t){return t});t.exports={Category:o,identity:function(t){return t.identity},categoryFn:u}},function(t,n,e){"use strict";e(17);var r=e(27);e(19),e(8),t.exports={flip:function(t){return function(n){return function(e){return t(e)(n)}}},const:function(t){return function(n){return t}},apply:function(t){return function(n){return t(n)}},applyFlipped:function(t){return function(n){return n(t)}},applyN:function(t){return function(n){return function(e){var o,u=n,i=!1;function a(n,o){if(n<=0)return i=!0,o;if(r.otherwise)return u=n-1|0,void(e=t(o));throw new Error("Failed pattern match at Data.Function line 94, column 3 - line 96, column 37: "+[n.constructor.name,o.constructor.name])}for(;!i;)o=a(u,e);return o}}},on:function(t){return function(n){return function(e){return function(r){return t(n(e))(n(r))}}}}}},function(t,n,e){"use strict";var r=e(71),o=e(10),u=e(74),i=e(11),a=e(8),c=e(5),s=(e(1),e(21),function(t,n){this.Eq0=t,this.compare=n}),f=function(t,n){this.Eq10=t,this.compare1=n},l=new s(function(){return o.eqVoid},function(t){return function(t){return i.EQ.value}}),p=new s(function(){return o.eqUnit},function(t){return function(t){return i.EQ.value}}),h=new s(function(){return o.eqString},u.unsafeCompare),d=new s(function(){return i.eqOrdering},function(t){return function(n){if(t instanceof i.LT&&n instanceof i.LT)return i.EQ.value;if(t instanceof i.EQ&&n instanceof i.EQ)return i.EQ.value;if(t instanceof i.GT&&n instanceof i.GT)return i.EQ.value;if(t instanceof i.LT)return i.LT.value;if(t instanceof i.EQ&&n instanceof i.LT)return i.GT.value;if(t instanceof i.EQ&&n instanceof i.GT)return i.LT.value;if(t instanceof i.GT)return i.GT.value;throw new Error("Failed pattern match at Data.Ord line 67, column 1 - line 67, column 37: "+[t.constructor.name,n.constructor.name])}}),y=new s(function(){return o.eqNumber},u.unsafeCompare),m=new s(function(){return o.eqInt},u.unsafeCompare),g=new s(function(){return o.eqChar},u.unsafeCompare),v=new s(function(){return o.eqBoolean},u.unsafeCompare),_=function(t){return t.compare},E=function(t){return function(n){return function(e){return _(t)(n)(e)instanceof i.GT}}},b=function(t){return function(n){return function(e){return!(_(t)(n)(e)instanceof i.LT)}}},T=function(t){return function(n){return function(e){return _(t)(n)(e)instanceof i.LT}}},A=function(t){return function(n){return function(e){var r=_(t)(n)(e);if(r instanceof i.LT)return e;if(r instanceof i.EQ)return n;if(r instanceof i.GT)return n;throw new Error("Failed pattern match at Data.Ord line 122, column 3 - line 125, column 12: "+[r.constructor.name])}}},R=function(t){return function(n){return function(e){var r=_(t)(n)(e);if(r instanceof i.LT)return n;if(r instanceof i.EQ)return n;if(r instanceof i.GT)return e;throw new Error("Failed pattern match at Data.Ord line 113, column 3 - line 116, column 12: "+[r.constructor.name])}}},S=function(t){return new s(function(){return o.eqArray(t.Eq0())},function(){var n=function(n){return function(e){var r=_(t)(n)(e);if(r instanceof i.EQ)return 0;if(r instanceof i.LT)return 1;if(r instanceof i.GT)return-1;throw new Error("Failed pattern match at Data.Ord line 60, column 7 - line 65, column 1: "+[r.constructor.name])}};return function(t){return function(e){return _(m)(0)(r.ordArrayImpl(n)(t)(e))}}}())},M=new f(function(){return o.eq1Array},function(t){return _(S(t))});t.exports={Ord:s,compare:_,Ord1:f,compare1:function(t){return t.compare1},lessThan:T,lessThanOrEq:function(t){return function(n){return function(e){return!(_(t)(n)(e)instanceof i.GT)}}},greaterThan:E,greaterThanOrEq:b,comparing:function(t){return function(n){return function(e){return function(r){return _(t)(n(e))(n(r))}}}},min:R,max:A,clamp:function(t){return function(n){return function(e){return function(r){return R(t)(e)(A(t)(n)(r))}}}},between:function(t){return function(n){return function(e){return function(r){return!T(t)(r)(n)&&!E(t)(r)(e)}}}},abs:function(t){return function(n){return function(e){return b(t)(e)(c.zero(n.Semiring0()))?e:a.negate(n)(e)}}},signum:function(t){return function(n){return function(e){return b(t)(e)(c.zero(n.Semiring0()))?c.one(n.Semiring0()):a.negate(n)(c.one(n.Semiring0()))}}},ordBoolean:v,ordInt:m,ordNumber:y,ordString:h,ordChar:g,ordUnit:p,ordVoid:l,ordArray:S,ordOrdering:d,ord1Array:M}},function(t,n,e){"use strict";var r=e(73),o=e(4),u=e(1),i=e(6),a=e(46),c=e(7),s=function(t,n,e,r,o,u){this.conj=t,this.disj=n,this.ff=e,this.implies=r,this.not=o,this.tt=u},f=function(t,n,e,r,o,u){this.conjRecord=t,this.disjRecord=n,this.ffRecord=e,this.impliesRecord=r,this.notRecord=o,this.ttRecord=u},l=function(t){return t.ttRecord},p=function(t){return t.tt},h=function(t){return t.notRecord},d=function(t){return t.not},y=function(t){return t.impliesRecord},m=function(t){return t.implies},g=new s(function(t){return function(t){return u.unit}},function(t){return function(t){return u.unit}},u.unit,function(t){return function(t){return u.unit}},function(t){return u.unit},u.unit),v=new f(function(t){return function(t){return function(t){return{}}}},function(t){return function(t){return function(t){return{}}}},function(t){return function(t){return{}}},function(t){return function(t){return function(t){return{}}}},function(t){return function(t){return{}}},function(t){return function(t){return{}}}),_=function(t){return t.ffRecord},E=function(t){return t.ff},b=function(t){return t.disjRecord},T=function(t){return t.disj},A=new s(r.boolConj,r.boolDisj,!1,function(t){return function(n){return T(A)(d(A)(t))(n)}},r.boolNot,!0),R=function(t){return t.conjRecord},S=function(t){return t.conj};t.exports={HeytingAlgebra:s,tt:p,ff:E,implies:m,conj:S,disj:T,not:d,HeytingAlgebraRecord:f,ffRecord:_,ttRecord:l,impliesRecord:y,conjRecord:R,disjRecord:b,notRecord:h,heytingAlgebraBoolean:A,heytingAlgebraUnit:g,heytingAlgebraFunction:function(t){return new s(function(n){return function(e){return function(r){return S(t)(n(r))(e(r))}}},function(n){return function(e){return function(r){return T(t)(n(r))(e(r))}}},function(n){return E(t)},function(n){return function(e){return function(r){return m(t)(n(r))(e(r))}}},function(n){return function(e){return d(t)(n(e))}},function(n){return p(t)})},heytingAlgebraRecord:function(t){return function(t){return new s(R(t)(c.RLProxy.value),b(t)(c.RLProxy.value),_(t)(c.RLProxy.value)(a.RProxy.value),y(t)(c.RLProxy.value),h(t)(c.RLProxy.value),l(t)(c.RLProxy.value)(a.RProxy.value))}},heytingAlgebraRecordNil:v,heytingAlgebraRecordCons:function(t){return function(n){return function(n){return function(e){return new f(function(r){return function(r){return function(u){var a=R(n)(c.RLProxy.value)(r)(u),s=o.reflectSymbol(t)(o.SProxy.value),f=i.unsafeSet(s),l=i.unsafeGet(s);return f(S(e)(l(r))(l(u)))(a)}}},function(r){return function(r){return function(u){var a=b(n)(c.RLProxy.value)(r)(u),s=o.reflectSymbol(t)(o.SProxy.value),f=i.unsafeSet(s),l=i.unsafeGet(s);return f(T(e)(l(r))(l(u)))(a)}}},function(r){return function(r){var u=_(n)(c.RLProxy.value)(r),a=o.reflectSymbol(t)(o.SProxy.value);return i.unsafeSet(a)(E(e))(u)}},function(r){return function(r){return function(u){var a=y(n)(c.RLProxy.value)(r)(u),s=o.reflectSymbol(t)(o.SProxy.value),f=i.unsafeSet(s),l=i.unsafeGet(s);return f(m(e)(l(r))(l(u)))(a)}}},function(r){return function(r){var u=h(n)(c.RLProxy.value)(r),a=o.reflectSymbol(t)(o.SProxy.value),s=i.unsafeSet(a),f=i.unsafeGet(a);return s(d(e)(f(r)))(u)}},function(r){return function(r){var u=l(n)(c.RLProxy.value)(r),a=o.reflectSymbol(t)(o.SProxy.value);return i.unsafeSet(a)(p(e))(u)}})}}}}}},function(t,n,e){"use strict";var r=function(t){return function(t){var n;function e(n){t=n}for(;;)n=e(t);return n}(t)},o=new(e(15).Show)(r);t.exports={absurd:r,showVoid:o}},function(t,n,e){"use strict";var r=e(83),o=(e(48),e(29)),u=e(10),i=(e(20),e(8),e(5)),a=function(t,n,e,r){this.CommutativeRing0=t,this.degree=n,this.div=e,this.mod=r},c=function(t){return t.mod},s=function(t){return function(n){return function(e){return function(r){var o,a=t,s=n,f=e,l=!1;function p(t,n,e,o){if(u.eq(t)(o)(i.zero(n.CommutativeRing0().Ring0().Semiring0())))return l=!0,e;a=t,s=n,f=o,r=c(n)(e)(o)}for(;!l;)o=p(a,s,f,r);return o}}}},f=new a(function(){return o.commutativeRingNumber},function(t){return 1},r.numDiv,function(t){return function(t){return 0}}),l=new a(function(){return o.commutativeRingInt},r.intDegree,r.intDiv,r.intMod),p=function(t){return t.div};t.exports={EuclideanRing:a,degree:function(t){return t.degree},div:p,mod:c,gcd:s,lcm:function(t){return function(n){return function(e){return function(r){return u.eq(t)(e)(i.zero(n.CommutativeRing0().Ring0().Semiring0()))||u.eq(t)(r)(i.zero(n.CommutativeRing0().Ring0().Semiring0()))?i.zero(n.CommutativeRing0().Ring0().Semiring0()):p(n)(i.mul(n.CommutativeRing0().Ring0().Semiring0())(e)(r))(s(t)(n)(e)(r))}}}},euclideanRingInt:l,euclideanRingNumber:f}},function(t,n,e){(function(r){var o,u,i;!function(r){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=r(e(32),e(13),e(37),e(40),e(3),e(43),e(9)):null!=e(0)?(u=[e(32),e(13),e(37),e(40),e(3),e(43),e(9)],void 0===(i="function"==typeof(o=r)?o.apply(n,u):o)||(t.exports=i)):self.sanctuary=r(self.sanctuaryDef,self.sanctuaryEither,self.sanctuaryMaybe,self.sanctuaryPair,self.sanctuaryShow,self.sanctuaryTypeClasses,self.sanctuaryTypeIdentifiers)}(function(t,n,o,u,i,a,c){"use strict";if("undefined"!=typeof __doctest){var s=__doctest.require("sanctuary-descending"),f=(__doctest.require("./test/internal/List").Nil,__doctest.require("./test/internal/List").Cons,__doctest.require("./test/internal/Sum"));!function(n){var e=t.UnaryType("sanctuary/Descending")("")(T(s["@@type"]))(y($(Array))(a.extract));n.create({checkTypes:!0,env:n.env.concat([e(t.Unknown),__doctest.require("./test/internal/List").Type(t.Unknown),f.Type])}).env=n.env}(e(23))}var l=n.Left,p=n.Right,h=o.Nothing,d=o.Just;function y(t){return function(n){return function(e){return t(n(e))}}}function m(t){return function(n){return function(e){return t(e)(n)}}}function g(n){return function(e){return t.Function([n,e])}}function v(t){return y(function(n){return t in n?d(n[t]):h})(b)}function _(t){return function(n){return n[t]()}}function E(t){return function(n){return function(e){return e[t](n)}}}function b(t){return null==t?Object.create(null):Object(t)}function T(t){return function(n){return c(n)===t}}function A(t){return t.value}var R=t.TypeVariable("a"),S=t.TypeVariable("b"),M=t.TypeVariable("c"),N=t.TypeVariable("d"),O=t.TypeVariable("e"),I=t.TypeVariable("g"),F=t.TypeVariable("l"),x=t.TypeVariable("r"),L=t.UnaryTypeVariable("f"),w=t.UnaryTypeVariable("m"),C=t.UnaryTypeVariable("t"),P=t.UnaryTypeVariable("w"),U=t.BinaryTypeVariable("p"),j=t.BinaryTypeVariable("s"),B=t.BinaryType("sanctuary/Either")("https://github.com/sanctuary-js/sanctuary-either")(T("sanctuary-either/Either@1"))(st($(Array))(K([])))(st(K([]))($(Array))),D=t.UnaryType("sanctuary/Maybe")("https://github.com/sanctuary-js/sanctuary-maybe")(T("sanctuary-maybe/Maybe@1"))(rt([])($(Array))),k=t.BinaryType("sanctuary/Pair")("https://github.com/sanctuary-js/sanctuary-pair")(T("sanctuary-pair/Pair@1"))(function(t){return[t.fst]})(function(t){return[t.snd]}),V=t.UnaryType("sanctuary/TypeRep")("https://github.com/fantasyland/fantasy-land#type-representatives")(function(n){return t.AnyFunction._test(n)||null!=n&&t.String._test(n["@@type"])})(K([])),G=t.RecordType({checkTypes:t.Boolean,env:t.Array(t.Any)}),q={};function H(e){var r=t.create(e),u={env:e.env,is:r("is")({})([t.Type,t.Any,t.Boolean])(t.test(e.env)),MaybeType:D,Maybe:o,Nothing:h,EitherType:B,Either:n,PairType:k};return Object.keys(q).forEach(function(t){u[t]=r(t)(q[t].consts)(q[t].types)(q[t].impl)}),u.unchecked=e.checkTypes?H({checkTypes:!1,env:e.env}):u,u}function X(t){return function(n){return a.filter(t,n)}}function W(t){return function(n){return a.map(t,n)}}function z(t){return function(n){return function(e){return a.reduce(function(n,e){return t(n)(e)},n,e)}}}function $(t){return function(n){return a.of(t,n)}}function Y(t){return t}function K(t){return function(n){return t}}function J(t){return function(n){return n(t)}}function Z(t){return function(n){return function(e){return t(n,e)}}}function Q(t){return function(n){return function(e){return function(r){return t(n,e,r)}}}}function tt(t){return function(n){return function(e){return function(r){return function(o){return t(n,e,r,o)}}}}}function nt(t){return t.isJust}function et(t){return null==t?h:d(t)}function rt(t){return function(n){return function(e){return e.isJust?n(e.value):t}}}function ot(t){return function(n){return function(e){return e.isJust?n(e.value):t()}}}function ut(t){return W(A)(X(nt)(t))}function it(t){return y(ht)(ft(Y)(t))}function at(t){return t.isLeft}function ct(t){return t.isRight}function st(t){return function(n){return function(e){return(e.isLeft?t:n)(e.value)}}}function ft(t){return function(n){return function(e){try{return p(n(e))}catch(n){return l(t(n))}}}}function lt(t){return function(n){return function(e){return function(r){try{return p(n(e)(r))}catch(n){return l(t(n))}}}}}function pt(t){return function(n){return function(e){return function(r){return function(o){try{return p(n(e)(r)(o))}catch(n){return l(t(n))}}}}}}function ht(t){return t.isLeft?h:d(t.value)}function dt(t){return!t}function yt(t){return function(n){return function(e){return function(r){return(t(r)?n:e)(r)}}}}function mt(t){return function(n){for(var e=[],r=t(n);r.isJust;r=t(r.value.snd))e.push(r.value.fst);return e}}function gt(t){return function(n){return function(e){for(var r=[],o=Math.min(n.length,e.length),u=0;u<o;u+=1)r.push(t(n[u])(e[u]));return r}}}function vt(t){return function(n){var e={};return e[t]=n,e}}function _t(t){return function(n){return t+n}}function Et(t){return function(n){return t*n}}function bt(t){return"(?:"+t.join("|")+")"}q.create={consts:{},types:[G,t.Object],impl:H},q.type={consts:{},types:[t.Any,t.RecordType({namespace:D(t.String),name:t.String,version:t.NonNegativeInteger})],impl:function(t){var n=c.parse(c(t));return n.namespace=et(n.namespace),n}},q.show={consts:{},types:[t.Any,t.String],impl:i},q.equals={consts:{a:[a.Setoid]},types:[R,R,t.Boolean],impl:Z(a.equals)},q.lt={consts:{a:[a.Ord]},types:[R,R,t.Boolean],impl:function(t){return function(n){return a.lt(n,t)}}},q.lte={consts:{a:[a.Ord]},types:[R,R,t.Boolean],impl:function(t){return function(n){return a.lte(n,t)}}},q.gt={consts:{a:[a.Ord]},types:[R,R,t.Boolean],impl:function(t){return function(n){return a.gt(n,t)}}},q.gte={consts:{a:[a.Ord]},types:[R,R,t.Boolean],impl:function(t){return function(n){return a.gte(n,t)}}},q.min={consts:{a:[a.Ord]},types:[R,R,R],impl:Z(a.min)},q.max={consts:{a:[a.Ord]},types:[R,R,R],impl:Z(a.max)},q.id={consts:{c:[a.Category]},types:[V(M),M],impl:a.id},q.concat={consts:{a:[a.Semigroup]},types:[R,R,R],impl:Z(a.concat)},q.empty={consts:{a:[a.Monoid]},types:[V(R),R],impl:a.empty},q.invert={consts:{g:[a.Group]},types:[I,I],impl:a.invert},q.filter={consts:{f:[a.Filterable]},types:[t.Predicate(R),L(R),L(R)],impl:X},q.reject={consts:{f:[a.Filterable]},types:[t.Predicate(R),L(R),L(R)],impl:Z(a.reject)},q.takeWhile={consts:{f:[a.Filterable]},types:[t.Predicate(R),L(R),L(R)],impl:Z(a.takeWhile)},q.dropWhile={consts:{f:[a.Filterable]},types:[t.Predicate(R),L(R),L(R)],impl:Z(a.dropWhile)},q.map={consts:{f:[a.Functor]},types:[g(R)(S),L(R),L(S)],impl:W},q.flip={consts:{f:[a.Functor]},types:[L(g(R)(S)),R,L(S)],impl:Z(a.flip)},q.bimap={consts:{p:[a.Bifunctor]},types:[g(R)(S),g(M)(N),U(R)(M),U(S)(N)],impl:Q(a.bimap)},q.mapLeft={consts:{p:[a.Bifunctor]},types:[g(R)(S),U(R)(M),U(S)(M)],impl:Z(a.mapLeft)},q.promap={consts:{p:[a.Profunctor]},types:[g(R)(S),g(M)(N),U(S)(M),U(R)(N)],impl:Q(a.promap)},q.alt={consts:{f:[a.Alt]},types:[L(R),L(R),L(R)],impl:Z(a.alt)},q.zero={consts:{f:[a.Plus]},types:[V(t.TypeVariable("f")),L(R)],impl:a.zero},q.reduce={consts:{f:[a.Foldable]},types:[g(R)(g(S)(R)),R,L(S),R],impl:z},q.traverse={consts:{f:[a.Applicative],t:[a.Traversable]},types:[V(t.TypeVariable("f")),g(R)(L(S)),C(R),L(C(S))],impl:Q(a.traverse)},q.sequence={consts:{f:[a.Applicative],t:[a.Traversable]},types:[V(t.TypeVariable("f")),C(L(R)),L(C(R))],impl:Z(a.sequence)},q.ap={consts:{f:[a.Apply]},types:[L(g(R)(S)),L(R),L(S)],impl:Z(a.ap)},q.lift2={consts:{f:[a.Apply]},types:[g(R)(g(S)(M)),L(R),L(S),L(M)],impl:Q(a.lift2)},q.lift3={consts:{f:[a.Apply]},types:[g(R)(g(S)(g(M)(N))),L(R),L(S),L(M),L(N)],impl:tt(a.lift3)},q.apFirst={consts:{f:[a.Apply]},types:[L(R),L(S),L(R)],impl:Z(a.apFirst)},q.apSecond={consts:{f:[a.Apply]},types:[L(R),L(S),L(S)],impl:Z(a.apSecond)},q.of={consts:{f:[a.Applicative]},types:[V(t.TypeVariable("f")),R,L(R)],impl:$},q.chain={consts:{m:[a.Chain]},types:[g(R)(w(S)),w(R),w(S)],impl:Z(a.chain)},q.join={consts:{m:[a.Chain]},types:[w(w(R)),w(R)],impl:a.join},q.chainRec={consts:{m:[a.ChainRec]},types:[V(t.TypeVariable("m")),g(R)(w(B(R)(S))),R,w(S)],impl:function(t){return function(n){return function(n){return a.chainRec(t,e,n)};function e(t,e,r){return a.map(st(t)(e),n(r))}}}},q.extend={consts:{w:[a.Extend]},types:[g(P(R))(S),P(R),P(S)],impl:Z(a.extend)},q.duplicate={consts:{w:[a.Extend]},types:[P(R),P(P(R))],impl:a.duplicate},q.extract={consts:{w:[a.Comonad]},types:[P(R),R],impl:a.extract},q.contramap={consts:{f:[a.Contravariant]},types:[g(S)(R),L(R),L(S)],impl:Z(a.contramap)},q.I={consts:{},types:[R,R],impl:Y},q.K={consts:{},types:[R,S,R],impl:K},q.T={consts:{},types:[R,g(R)(S),S],impl:J},q.curry2={consts:{},types:[t.Function([R,S,M]),R,S,M],impl:Z},q.curry3={consts:{},types:[t.Function([R,S,M,N]),R,S,M,N],impl:Q},q.curry4={consts:{},types:[t.Function([R,S,M,N,O]),R,S,M,N,O],impl:tt},q.curry5={consts:{},types:[t.Function([R,S,M,N,O,x]),R,S,M,N,O,x],impl:function(t){return function(n){return function(e){return function(r){return function(o){return function(u){return t(n,e,r,o,u)}}}}}}},q.compose={consts:{s:[a.Semigroupoid]},types:[j(S)(M),j(R)(S),j(R)(M)],impl:Z(a.compose)},q.pipe={consts:{f:[a.Foldable]},types:[L(g(t.Any)(t.Any)),R,S],impl:function(t){return function(n){return z(J)(n)(t)}}},q.pipeK={consts:{f:[a.Foldable],m:[a.Chain]},types:[L(g(t.Any)(w(t.Any))),w(R),w(S)],impl:function(t){return function(n){return a.reduce(function(t,n){return a.chain(n,t)},n,t)}}},q.on={consts:{},types:[g(S)(g(S)(M)),g(R)(S),R,R,M],impl:function(t){return function(n){return function(e){return function(r){return t(n(e))(n(r))}}}}},q.Pair={consts:{},types:[R,S,k(R)(S)],impl:u},q.fst={consts:{},types:[k(R)(S),R],impl:u.fst},q.snd={consts:{},types:[k(R)(S),S],impl:u.snd},q.swap={consts:{},types:[k(R)(S),k(S)(R)],impl:u.swap},q.Just={consts:{},types:[R,D(R)],impl:d},q.isNothing={consts:{},types:[D(R),t.Boolean],impl:function(t){return t.isNothing}},q.isJust={consts:{},types:[D(R),t.Boolean],impl:nt},q.fromMaybe={consts:{},types:[R,D(R),R],impl:m(rt)(Y)},q.fromMaybe_={consts:{},types:[t.Thunk(R),D(R),R],impl:m(ot)(Y)},q.maybeToNullable={consts:{},types:[D(R),t.Nullable(R)],impl:function(t){return t.isJust?t.value:null}},q.toMaybe={consts:{},types:[R,D(R)],impl:et},q.maybe={consts:{},types:[S,g(R)(S),D(R),S],impl:rt},q.maybe_={consts:{},types:[t.Thunk(S),g(R)(S),D(R),S],impl:ot},q.justs={consts:{f:[a.Filterable,a.Functor]},types:[L(D(R)),L(R)],impl:ut},q.mapMaybe={consts:{f:[a.Filterable,a.Functor]},types:[g(R)(D(S)),L(R),L(S)],impl:y(y(ut))(W)},q.encase={consts:{},types:[g(R)(S),R,D(S)],impl:it},q.encase2={consts:{},types:[g(R)(g(S)(M)),R,S,D(M)],impl:y(y(y(ht)))(lt(Y))},q.encase3={consts:{},types:[g(R)(g(S)(g(M)(N))),R,S,M,D(N)],impl:y(y(y(y(ht))))(pt(Y))},q.maybeToEither={consts:{},types:[R,D(S),B(R)(S)],impl:function(t){return rt(l(t))(p)}},q.Left={consts:{},types:[R,B(R)(S)],impl:l},q.Right={consts:{},types:[S,B(R)(S)],impl:p},q.isLeft={consts:{},types:[B(R)(S),t.Boolean],impl:at},q.isRight={consts:{},types:[B(R)(S),t.Boolean],impl:ct},q.fromEither={consts:{},types:[S,B(R)(S),S],impl:function(t){return st(K(t))(Y)}},q.toEither={consts:{},types:[R,S,B(R)(S)],impl:function(t){return function(n){return null==n?l(t):p(n)}}},q.either={consts:{},types:[g(R)(M),g(S)(M),B(R)(S),M],impl:st},q.lefts={consts:{f:[a.Filterable,a.Functor]},types:[L(B(R)(S)),L(R)],impl:y(W(A))(X(at))},q.rights={consts:{f:[a.Filterable,a.Functor]},types:[L(B(R)(S)),L(S)],impl:y(W(A))(X(ct))},q.tagBy={consts:{},types:[t.Predicate(R),R,B(R)(R)],impl:function(t){return yt(t)(p)(l)}},q.encaseEither={consts:{},types:[g(t.Error)(F),g(R)(x),R,B(F)(x)],impl:ft},q.encaseEither2={consts:{},types:[g(t.Error)(F),g(R)(g(S)(x)),R,S,B(F)(x)],impl:lt},q.encaseEither3={consts:{},types:[g(t.Error)(F),g(R)(g(S)(g(M)(x))),R,S,M,B(F)(x)],impl:pt},q.eitherToMaybe={consts:{},types:[B(R)(S),D(S)],impl:ht},q.and={consts:{},types:[t.Boolean,t.Boolean,t.Boolean],impl:function(t){return function(n){return t&&n}}},q.or={consts:{},types:[t.Boolean,t.Boolean,t.Boolean],impl:function(t){return function(n){return t||n}}},q.not={consts:{},types:[t.Boolean,t.Boolean],impl:dt},q.complement={consts:{},types:[t.Predicate(R),R,t.Boolean],impl:y(dt)},q.ifElse={consts:{},types:[t.Predicate(R),g(R)(S),g(R)(S),R,S],impl:yt},q.when={consts:{},types:[t.Predicate(R),g(R)(R),R,R],impl:function(t){return m(yt(t))(Y)}},q.unless={consts:{},types:[t.Predicate(R),g(R)(R),R,R],impl:function(t){return yt(t)(Y)}},q.allPass={consts:{f:[a.Foldable]},types:[L(t.Predicate(R)),R,t.Boolean],impl:function(t){return function(n){return a.reduce(function(t,e){return t&&e(n)},!0,t)}}},q.anyPass={consts:{f:[a.Foldable]},types:[L(t.Predicate(R)),R,t.Boolean],impl:function(t){return function(n){return a.reduce(function(t,e){return t||e(n)},!1,t)}}},q.slice={consts:{},types:[t.Integer,t.Integer,t.Array(R),D(t.Array(R))],impl:function(t){return function(n){return function(e){var r=t<0?t+e.length:t,o=n<0?n+e.length:n;return Math.abs(t)<=e.length&&Math.abs(n)<=e.length&&r<=o?d(e.slice(r,o)):h}}}},q.at={consts:{},types:[t.Integer,t.Array(R),D(R)],impl:function(t){return function(n){var e=t<0?n.length+t:t;return e<0||e>=n.length?h:d(n[e])}}},q.head={consts:{},types:[t.Array(R),D(R)],impl:function(t){return t.length>0?d(t[0]):h}},q.last={consts:{},types:[t.Array(R),D(R)],impl:function(t){return t.length>0?d(t[t.length-1]):h}},q.tail={consts:{},types:[t.Array(R),D(t.Array(R))],impl:function(t){return t.length>0?d(t.slice(1)):h}},q.init={consts:{},types:[t.Array(R),D(t.Array(R))],impl:function(t){return t.length>0?d(t.slice(0,-1)):h}},q.take={consts:{},types:[t.Integer,t.Array(R),D(t.Array(R))],impl:function(t){return function(n){return t>=0&&t<=n.length?d(n.slice(0,t)):h}}},q.takeLast={consts:{},types:[t.Integer,t.Array(R),D(t.Array(R))],impl:function(t){return function(n){return t>=0&&t<=n.length?d(n.slice(n.length-t)):h}}},q.drop={consts:{},types:[t.Integer,t.Array(R),D(t.Array(R))],impl:function(t){return function(n){return t>=0&&t<=n.length?d(n.slice(t)):h}}},q.dropLast={consts:{},types:[t.Integer,t.Array(R),D(t.Array(R))],impl:function(t){return function(n){return t>=0&&t<=n.length?d(n.slice(0,n.length-t)):h}}},q.size={consts:{f:[a.Foldable]},types:[L(R),t.Integer],impl:a.size},q.append={consts:{f:[a.Applicative,a.Semigroup]},types:[R,L(R),L(R)],impl:Z(a.append)},q.prepend={consts:{f:[a.Applicative,a.Semigroup]},types:[R,L(R),L(R)],impl:Z(a.prepend)},q.joinWith={consts:{},types:[t.String,t.Array(t.String),t.String],impl:E("join")},q.elem={consts:{a:[a.Setoid],f:[a.Foldable]},types:[R,L(R),t.Boolean],impl:Z(a.elem)},q.find={consts:{f:[a.Foldable]},types:[t.Predicate(R),L(R),D(R)],impl:function(t){return function(n){return a.reduce(function(n,e){return n.isJust?n:t(e)?d(e):h},h,n)}}},q.foldMap={consts:{b:[a.Monoid],f:[a.Foldable]},types:[V(S),g(R)(S),L(R),S],impl:Q(a.foldMap)},q.unfoldr={consts:{},types:[g(S)(D(k(R)(S))),S,t.Array(R)],impl:mt},q.range={consts:{},types:[t.Integer,t.Integer,t.Array(t.Integer)],impl:function(t){return function(n){for(var e=[],r=t;r<n;r+=1)e.push(r);return e}}},q.groupBy={consts:{},types:[g(R)(t.Predicate(R)),t.Array(R),t.Array(t.Array(R))],impl:function(t){return function(n){if(0===n.length)return[];for(var e=n[0],r=[e],o=[r],u=1;u<n.length;u+=1){var i=n[u];t(e)(i)?r.push(i):o.push(r=[e=i])}return o}}},q.reverse={consts:{f:[a.Applicative,a.Foldable,a.Monoid]},types:[L(R),L(R)],impl:a.reverse},q.sort={consts:{a:[a.Ord],m:[a.Applicative,a.Foldable,a.Monoid]},types:[w(R),w(R)],impl:a.sort},q.sortBy={consts:{b:[a.Ord],m:[a.Applicative,a.Foldable,a.Monoid]},types:[g(R)(S),w(R),w(R)],impl:Z(a.sortBy)},q.zip={consts:{},types:[t.Array(R),t.Array(S),t.Array(k(R)(S))],impl:gt(u)},q.zipWith={consts:{},types:[g(R)(g(S)(M)),t.Array(R),t.Array(S),t.Array(M)],impl:gt},q.prop={consts:{},types:[t.String,R,S],impl:function(t){return function(n){var e=b(n);if(t in e)return e[t];throw new TypeError("‘prop’ expected object to have a property named ‘"+t+"’; "+i(n)+" does not")}}},q.props={consts:{},types:[t.Array(t.String),R,S],impl:function(t){return function(n){return t.reduce(function(n,e){var r=b(n);if(e in r)return r[e];throw new TypeError("‘props’ expected object to have a property at "+i(t)+"; "+i(n)+" does not")},n)}}},q.get={consts:{},types:[t.Predicate(t.Any),t.String,R,D(S)],impl:function(t){return y(y(X(t)))(v)}},q.gets={consts:{},types:[t.Predicate(t.Any),t.Array(t.String),R,D(S)],impl:function(t){return function(n){return function(e){return a.filter(t,n.reduce(function(t,n){return a.chain(v(n),t)},d(e)))}}}},q.singleton={consts:{},types:[t.String,R,t.StrMap(R)],impl:vt},q.insert={consts:{},types:[t.String,R,t.StrMap(R),t.StrMap(R)],impl:function(t){return function(n){return function(e){return a.concat(e,vt(t)(n))}}}},q.remove={consts:{},types:[t.String,t.StrMap(R),t.StrMap(R)],impl:function(t){return function(n){var e=a.concat(n,{});return delete e[t],e}}},q.keys={consts:{},types:[t.StrMap(R),t.Array(t.String)],impl:Object.keys},q.values={consts:{},types:[t.StrMap(R),t.Array(R)],impl:function(t){return a.map(function(n){return t[n]},Object.keys(t))}},q.pairs={consts:{},types:[t.StrMap(R),t.Array(k(t.String)(R))],impl:function(t){return a.map(function(n){return u(n)(t[n])},Object.keys(t))}},q.fromPairs={consts:{f:[a.Foldable]},types:[L(k(t.String)(R)),t.StrMap(R)],impl:function(t){return a.reduce(function(t,n){return t[n.fst]=n.snd,t},{},t)}},q.negate={consts:{},types:[t.ValidNumber,t.ValidNumber],impl:function(t){return-t}},q.add={consts:{},types:[t.FiniteNumber,t.FiniteNumber,t.FiniteNumber],impl:_t},q.sum={consts:{f:[a.Foldable]},types:[L(t.FiniteNumber),t.FiniteNumber],impl:z(_t)(0)},q.sub={consts:{},types:[t.FiniteNumber,t.FiniteNumber,t.FiniteNumber],impl:function(t){return function(n){return n-t}}},q.mult={consts:{},types:[t.FiniteNumber,t.FiniteNumber,t.FiniteNumber],impl:Et},q.product={consts:{f:[a.Foldable]},types:[L(t.FiniteNumber),t.FiniteNumber],impl:z(Et)(1)},q.div={consts:{},types:[t.NonZeroFiniteNumber,t.FiniteNumber,t.FiniteNumber],impl:function(t){return function(n){return n/t}}},q.pow={consts:{},types:[t.FiniteNumber,t.FiniteNumber,t.FiniteNumber],impl:function(t){return function(n){return Math.pow(n,t)}}},q.mean={consts:{f:[a.Foldable]},types:[L(t.FiniteNumber),D(t.FiniteNumber)],impl:function(t){var n=a.reduce(function(t,n){return t.total+=n,t.count+=1,t},{total:0,count:0},t);return n.count>0?d(n.total/n.count):h}},q.even={consts:{},types:[t.Integer,t.Boolean],impl:function(t){return t%2==0}},q.odd={consts:{},types:[t.Integer,t.Boolean],impl:function(t){return t%2!=0}},q.parseDate={consts:{},types:[t.String,D(t.ValidDate)],impl:function(t){var n=new Date(t);return isNaN(n.valueOf())?h:d(n)}};var Tt=new RegExp("^\\s*[+-]?"+bt(["Infinity","NaN",bt(["[0-9]+","[0-9]+[.][0-9]+","[0-9]+[.]","[.][0-9]+"])+(bt(["[Ee][+-]?[0-9]+"])+"?")])+"\\s*$");q.parseFloat={consts:{},types:[t.String,D(t.Number)],impl:function(t){return Tt.test(t)?d(parseFloat(t)):h}};var At=t.NullaryType("sanctuary/Radix")("")(function(n){return t.Integer._test(n)&&n>=2&&n<=36});q.parseInt={consts:{},types:[At,t.String,D(t.Integer)],impl:function(n){return function(e){var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".slice(0,n),o=new RegExp("^["+r+"]+$","i"),u=e.replace(/^[+-]/,"");if(o.test(16===n?u.replace(/^0x/i,""):u)){var i=parseInt(e,n);if(t.Integer._test(i))return d(i)}return h}}},q.parseJson={consts:{},types:[t.Predicate(t.Any),t.String,D(R)],impl:function(t){return y(X(t))(it(JSON.parse))}};var Rt=t.RecordType({match:t.String,groups:t.Array(D(t.String))});function St(t){return{match:t[0],groups:a.map(et,t.slice(1))}}function Mt(t,n){var e=t.lastIndex,r=n();return t.lastIndex=e,r}return q.regex={consts:{},types:[t.RegexFlags,t.String,t.RegExp],impl:function(t){return function(n){return new RegExp(n,t)}}},q.regexEscape={consts:{},types:[t.String,t.String],impl:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},q.test={consts:{},types:[t.RegExp,t.String,t.Boolean],impl:function(t){return function(n){return Mt(t,function(){return t.test(n)})}}},q.match={consts:{},types:[t.NonGlobalRegExp,t.String,D(Rt)],impl:function(t){return function(n){return a.map(St,et(n.match(t)))}}},q.matchAll={consts:{},types:[t.GlobalRegExp,t.String,t.Array(Rt)],impl:function(t){return function(n){return Mt(t,function(){return mt(function(e){return a.map(function(t){return u(St(t))(null)},et(t.exec(n)))})([])})}}},q.toUpper={consts:{},types:[t.String,t.String],impl:_("toUpperCase")},q.toLower={consts:{},types:[t.String,t.String],impl:_("toLowerCase")},q.trim={consts:{},types:[t.String,t.String],impl:_("trim")},q.stripPrefix={consts:{},types:[t.String,t.String,D(t.String)],impl:function(t){return function(n){var e=t.length;return n.slice(0,e)===t?d(n.slice(e)):h}}},q.stripSuffix={consts:{},types:[t.String,t.String,D(t.String)],impl:function(t){return function(n){var e=n.length-t.length;return n.slice(e)===t?d(n.slice(0,e)):h}}},q.words={consts:{},types:[t.String,t.Array(t.String)],impl:function(t){var n=t.split(/\s+/),e=n.length;return n.slice(""===n[0]?1:0,""===n[e-1]?e-1:e)}},q.unwords={consts:{},types:[t.Array(t.String),t.String],impl:E("join")(" ")},q.lines={consts:{},types:[t.String,t.Array(t.String)],impl:function(t){return""===t?[]:t.replace(/\r\n?/g,"\n").match(/^(?=[\s\S]).*/gm)}},q.unlines={consts:{},types:[t.Array(t.String),t.String],impl:function(t){return t.reduce(function(t,n){return t+n+"\n"},"")}},q.splitOn={consts:{},types:[t.String,t.String,t.Array(t.String)],impl:E("split")},q.splitOnRegex={consts:{},types:[t.GlobalRegExp,t.String,t.Array(t.String)],impl:function(t){return function(n){return Mt(t,function(){for(var e,r=[],o=0;null!=(e=t.exec(n));)if(t.lastIndex===o&&""===e[0]){if(t.lastIndex===n.length)return r;t.lastIndex+=1}else r.push(n.slice(o,e.index)),o=e.index+e[0].length;return r.push(n.slice(o)),r})}}},H({checkTypes:void 0===r||null==r||null==Object({NODE_ENV:"production",BROADCAST:void 0,BUILD_VERSION:"0.0.1-alpha"})||!1,env:a.concat(t.env,[t.FiniteNumber,t.NonZeroFiniteNumber,B(t.Unknown)(t.Unknown),g(t.Unknown)(t.Unknown),t.GlobalRegExp,t.NonGlobalRegExp,t.Integer,t.NonNegativeInteger,D(t.Unknown),t.Array2(t.Unknown)(t.Unknown),k(t.Unknown)(t.Unknown),t.RegexFlags,t.Type,t.TypeClass,t.ValidDate,t.ValidNumber])})})}).call(this,e(24))},function(t,n){var e,r,o=t.exports={};function u(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===u||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:u}catch(t){e=u}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var c,s=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&h())}function h(){if(!f){var t=a(p);f=!0;for(var n=s.length;n;){for(c=s,s=[];++l<n;)c&&c[l].run();l=-1,n=s.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function d(t,n){this.fun=t,this.array=n}function y(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new d(t,n)),1!==s.length||f||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,n,e){"use strict";var r=e(16),o=(e(12),e(1)),u=function(t,n){this.Apply0=t,this.pure=n},i=function(t){return t.pure},a=new u(function(){return r.applyFn},function(t){return function(n){return t}}),c=new u(function(){return r.applyArray},function(t){return[t]});t.exports={Applicative:u,pure:i,liftA1:function(t){return function(n){return function(e){return r.apply(t.Apply0())(i(t)(n))(e)}}},unless:function(t){return function(n){return function(e){if(!n)return e;if(n)return i(t)(o.unit);throw new Error("Failed pattern match at Control.Applicative line 62, column 1 - line 62, column 65: "+[n.constructor.name,e.constructor.name])}}},when:function(t){return function(n){return function(e){if(n)return e;if(!n)return i(t)(o.unit);throw new Error("Failed pattern match at Control.Applicative line 57, column 1 - line 57, column 63: "+[n.constructor.name,e.constructor.name])}}},applicativeFn:a,applicativeArray:c}},function(t,n,e){"use strict";var r=function(t){this.compose=t},o=new r(function(t){return function(n){return function(e){return t(n(e))}}}),u=function(t){return t.compose};t.exports={compose:u,Semigroupoid:r,composeFlipped:function(t){return function(n){return function(e){return u(t)(e)(n)}}},semigroupoidFn:o}},function(t,n,e){"use strict";t.exports={otherwise:!0}},function(t,n,e){"use strict";var r=e(76),o=e(4),u=e(1),i=e(21),a=e(6),c=e(7),s=function(t){this.append=t},f=function(t){this.appendRecord=t},l=new s(function(t){return i.absurd}),p=new s(function(t){return function(t){return u.unit}}),h=new s(r.concatString),d=new f(function(t){return function(t){return function(t){return{}}}}),y=new s(r.concatArray),m=function(t){return t.appendRecord},g=function(t){return t.append};t.exports={Semigroup:s,append:g,SemigroupRecord:f,appendRecord:m,semigroupString:h,semigroupUnit:p,semigroupVoid:l,semigroupFn:function(t){return new s(function(n){return function(e){return function(r){return g(t)(n(r))(e(r))}}})},semigroupArray:y,semigroupRecord:function(t){return function(t){return new s(m(t)(c.RLProxy.value))}},semigroupRecordNil:d,semigroupRecordCons:function(t){return function(n){return function(n){return function(e){return new f(function(r){return function(r){return function(u){var i=m(n)(c.RLProxy.value)(r)(u),s=o.reflectSymbol(t)(o.SProxy.value),f=a.unsafeSet(s),l=a.unsafeGet(s);return f(g(e)(l(r))(l(u)))(i)}}})}}}}}},function(t,n,e){"use strict";var r=e(8),o=(e(5),e(4),e(1),function(t){this.Ring0=t}),u=function(t){this.RingRecord0=t},i=new o(function(){return r.ringUnit}),a=new u(function(){return r.ringRecordNil}),c=new o(function(){return r.ringNumber}),s=new o(function(){return r.ringInt});t.exports={CommutativeRing:o,CommutativeRingRecord:u,commutativeRingInt:s,commutativeRingNumber:c,commutativeRingUnit:i,commutativeRingFn:function(t){return new o(function(){return r.ringFn(t.Ring0())})},commutativeRingRecord:function(t){return function(n){return new o(function(){return r.ringRecord(t)(n.RingRecord0())})}},commutativeRingRecordNil:a,commutativeRingRecordCons:function(t){return function(n){return function(e){return function(o){return new u(function(){return r.ringRecordCons(t)(n)(e.RingRecord0())(o.Ring0())})}}}}}},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i(e(31)):null!=e(0)?(o=[e(31)],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeClasses=i(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var n=__doctest.require("./test/List"),e=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),n.Nil,n.Cons,e.Nothing,e.Just}function r(t){return function(n){return t.concat(n)}}function o(t){return function(n){return t}}function u(t,n){Object.keys(t).forEach(n,t)}function i(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function a(t){return t}function c(t){return function(n){return[t,n]}}function s(n,e){return typeof n==typeof e&&t(n)===t(e)}function f(t){return{value:t,done:!1}}function l(t){return{value:t,done:!0}}function p(t,n,e,r){if(!(this instanceof p))return new p(t,n,e,r);this.name=t,this.url=n,this.test=function(t){return e.every(function(n){return n.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var h="Constructor",d="Value";function y(t,n,e){for(var r=e,o=0;o<n.length;o+=1){var u=n[o];if(null==r||!t&&!i(u,r))return null;r=r[u]}return"function"==typeof r?r:null}function m(t,n){return y(!0,t,n)}function g(t){return y(!1,t,Y)}var v=i("name",function(){})?function(t){return t.name}:function(t){var n=/function (\w*)/.exec(t);return null==n?"":n[1]};function _(n,e,r){function o(n){var e="fantasy-land/"+n;return r[n]===h?function(t){var n=m([e],t);return null==n&&"function"==typeof t?g([v(t),e]):n}:function(n){var r=null;return null!=n&&null!=n.constructor&&n.constructor.prototype===n||(r=m([e],n)),null==r&&(r=g([t(n),"prototype",e])),r&&r.bind(n)}}var u=Object.keys(r),i=p("sanctuary-type-classes/"+n,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+n,e,function(t){return u.every(function(n){var e=r[n]===h?t.constructor:t;return null!=o(n)(e)})});return i.methods=u.reduce(function(t,n){return t[n]=o(n),t},{}),i}var E=_("Setoid",[],{equals:d}),b=_("Ord",[E],{lte:d}),T=_("Semigroupoid",[],{compose:d}),A=_("Category",[T],{id:h}),R=_("Semigroup",[],{concat:d}),S=_("Monoid",[R],{empty:h}),M=_("Group",[S],{invert:d}),N=_("Filterable",[],{filter:d}),O=_("Functor",[],{map:d}),I=_("Bifunctor",[O],{bimap:d}),F=_("Profunctor",[O],{promap:d}),x=_("Apply",[O],{ap:d}),L=_("Applicative",[x],{of:h}),w=_("Chain",[x],{chain:d}),C=_("ChainRec",[w],{chainRec:h}),P=_("Monad",[L,w],{}),U=_("Alt",[O],{alt:d}),j=_("Plus",[U],{zero:h}),B=_("Alternative",[L,j],{}),D=_("Foldable",[],{reduce:d}),k=_("Traversable",[O,D],{traverse:d}),V=_("Extend",[O],{extend:d}),G=_("Comonad",[V],{extract:d}),q=_("Contravariant",[],{contramap:d});function H(t){return[t]}function X(t){if(t.length!==this.length)return!1;for(var n=0;n<this.length;n+=1)if(!K(this[n],t[n]))return!1;return!0}function W(t){for(var n=0;;n+=1){if(n===this.length)return!0;if(n===t.length)return!1;if(!K(this[n],t[n]))return Z(this[n],t[n])}}function z(t){return this.concat(t)}function $(t){var n={};function e(t){n[t]=this[t]}return u(this,e),u(t,e),n}var Y={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return K(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return Z(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":H,"fantasy-land/chainRec":function(t,n){for(var e=[],r={},o={head:n,tail:r};o!==r;){for(var u=r,i=t(f,l,o.head),a=0;a<i.length;a+=1){var c=i[a];c.done?e.push(c.value):u={head:c.value,tail:u}}for(o=o.tail;u!==r;)o={head:u.head,tail:o},u=u.tail}return e},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":X,"fantasy-land/lte":W,"fantasy-land/concat":z,"fantasy-land/filter":function(t){return this.filter(function(n){return t(n)})},"fantasy-land/map":function(t){return this.map(function(n){return t(n)})},"fantasy-land/ap":function(t){for(var n=[],e=0;e<t.length;e+=1)for(var r=0;r<this.length;r+=1)n.push(t[e](this[r]));return n},"fantasy-land/chain":function(t){for(var n=[],e=0;e<this.length;e+=1)for(var r=0,o=t(this[e]);r<o.length;r+=1)n.push(o[r]);return n},"fantasy-land/alt":z,"fantasy-land/reduce":function(t,n){for(var e=n,r=0;r<this.length;r+=1)e=t(e,this[r]);return e},"fantasy-land/traverse":function(t,n){var e=this;function o(u,i){switch(i){case 0:return it(t,[]);case 2:return ut(c,n(e[u]),n(e[u+1]));default:var a=2*Math.floor(i/4);return ut(r,o(u,a),o(u+a,i-a))}}return this.length%2==1?ut(r,et(H,n(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(n,e,r){return t(r.slice(e))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return X.call(this,t)},"fantasy-land/lte":function(t){return W.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return K(this.name,t.name)&&K(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var n=this,e=Object.keys(this).sort();return K(e,Object.keys(t).sort())&&e.every(function(e){return K(n[e],t[e])})},"fantasy-land/lte":function(t){for(var n=Object.keys(this).sort(),e=Object.keys(t).sort();;){if(0===n.length)return!0;if(0===e.length)return!1;var r=n.shift(),o=e.shift();if(r<o)return!0;if(r>o)return!1;if(!K(this[r],t[r]))return Z(this[r],t[r])}},"fantasy-land/concat":$,"fantasy-land/filter":function(t){var n={};return u(this,function(e){t(this[e])&&(n[e]=this[e])}),n},"fantasy-land/map":function(t){var n={};return u(this,function(e){n[e]=t(this[e])}),n},"fantasy-land/ap":function(t){var n={};return u(this,function(e){i(e,t)&&(n[e]=t[e](this[e]))}),n},"fantasy-land/alt":$,"fantasy-land/reduce":function(t,n){var e=this;return Object.keys(this).sort().reduce(function(n,r){return t(n,e[r])},n)},"fantasy-land/traverse":function(t,n){var e=this;return Object.keys(this).reduce(function(t,r){return ut(function(t){return function(n){var e={};return e[r]=n,$.call(t,e)}},t,n(e[r]))},it(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(n){return t}},"fantasy-land/chainRec":function(t,n){return function(e){for(var r=f(n);!r.done;)r=t(f,l,r.value)(e);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/map":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/promap":function(t,n){var e=this;return function(r){return n(e(t(r)))}},"fantasy-land/ap":function(t){var n=this;return function(e){return t(e)(n(e))}},"fantasy-land/chain":function(t){var n=this;return function(e){return t(n(e))(e)}},"fantasy-land/extend":function(t){var n=this;return function(e){return t(function(t){return n(Q(e,t))})}},"fantasy-land/contramap":function(t){var n=this;return function(e){return n(t(e))}}}}},K=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return!0;t.push([n,e]);try{return E.test(n)&&E.test(e)&&E.methods.equals(n)(e)}finally{t.pop()}}}();function J(t,n){return s(t,n)&&!Z(n,t)}var Z=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return K(n,e);t.push([n,e]);try{return b.test(n)&&b.test(e)&&b.methods.lte(n)(e)}finally{t.pop()}}}();function Q(t,n){return R.methods.concat(t)(n)}function tt(t){return S.methods.empty(t)()}function nt(t,n){return N.methods.filter(n)(t)}function et(t,n){return O.methods.map(n)(t)}function rt(t,n,e){return I.methods.bimap(e)(t,n)}function ot(t,n){return x.methods.ap(n)(t)}function ut(t,n,e){return ot(et(t,n),e)}function it(t,n){return L.methods.of(t)(n)}function at(t,n){return w.methods.chain(n)(t)}function ct(t,n,e){return D.methods.reduce(e)(t,n)}function st(t,n){var e=ct(function(n,e){return n.push({idx:n.length,x:e,fx:t(e)}),n},[],n),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,n){return t<=n||t!=t};case"string":return function(t,n){return t<=n};default:return Z}}(e[0]);if(e.sort(function(t,n){return r(t.fx,n.fx)?r(n.fx,t.fx)?t.idx-n.idx:-1:1}),Array.isArray(n)){for(var o=0;o<e.length;o+=1)e[o]=e[o].x;return e}var u=n.constructor,i=tt(u);for(o=0;o<e.length;o+=1)i=Q(i,it(u,e[o].x));return i}function ft(t,n,e){return k.methods.traverse(e)(t,n)}function lt(t,n){return V.methods.extend(n)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:R,Monoid:S,Group:M,Filterable:N,Functor:O,Bifunctor:I,Profunctor:F,Apply:x,Applicative:L,Chain:w,ChainRec:C,Monad:P,Alt:U,Plus:j,Alternative:B,Foldable:D,Traversable:k,Extend:V,Comonad:G,Contravariant:q,equals:K,lt:J,lte:Z,gt:function(t,n){return J(n,t)},gte:function(t,n){return Z(n,t)},min:function(t,n){return Z(t,n)?t:n},max:function(t,n){return Z(t,n)?n:t},compose:function(t,n){return T.methods.compose(n)(t)},id:function(t){return A.methods.id(t)()},concat:Q,empty:tt,invert:function(t){return M.methods.invert(t)()},filter:nt,reject:function(t,n){return nt(function(n){return!t(n)},n)},map:et,flip:function(t,n){return O.methods.map(t)(function(t){return function(n){return n(t)}}(n))},bimap:rt,mapLeft:function(t,n){return rt(t,a,n)},promap:function(t,n,e){return F.methods.promap(e)(t,n)},ap:ot,lift2:ut,lift3:function(t,n,e,r){return ot(ot(et(t,n),e),r)},apFirst:function(t,n){return ut(o,t,n)},apSecond:function(t,n){return ut(o(a),t,n)},of:it,append:function(t,n){return Q(n,it(n.constructor,t))},prepend:function(t,n){return Q(it(n.constructor,t),n)},chain:at,join:function(t){return at(a,t)},chainRec:function(t,n,e){return C.methods.chainRec(t)(n,e)},alt:function(t,n){return U.methods.alt(t)(n)},zero:function(t){return j.methods.zero(t)()},reduce:ct,size:function(t){return Array.isArray(t)?t.length:ct(function(t,n){return t+1},0,t)},elem:function(t,n){return ct(function(n,e){return n||K(t,e)},!1,n)},foldMap:function(t,n,e){return ct(function(t,e){return Q(t,n(e))},tt(t),e)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var n=t.constructor;return ct(function(t,e){return Q(it(n,e),t)},tt(n),t)},sort:function(t){return st(a,t)},sortBy:st,takeWhile:function(t,n){var e=!0;return nt(function(n){return e=e&&t(n)},n)},dropWhile:function(t,n){var e=!1;return nt(function(n){return e=e||!t(n)},n)},traverse:ft,sequence:function(t,n){return ft(t,a,n)},extend:lt,duplicate:function(t){return lt(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,n){return q.methods.contramap(n)(t)}}})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i():null!=e(0)?(o=[],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeIdentifiers=i()}(function(){"use strict";var t="@@type";return function(n){return null!=n&&null!=n.constructor&&n.constructor.prototype!==n&&"string"==typeof n.constructor[t]?n.constructor[t]:Object.prototype.toString.call(n).slice("[object ".length,-"]".length)}})},function(t,n,e){(function(r){var o,u,i;!function(r){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=r(e(13),e(3),e(35),e(9)):null!=e(0)?(u=[e(13),e(3),e(35),e(9)],void 0===(i="function"==typeof(o=r)?o.apply(n,u):o)||(t.exports=i)):self.sanctuaryDef=r(self.sanctuaryEither,self.sanctuaryShow,self.sanctuaryTypeClasses,self.sanctuaryTypeIdentifiers)}(function(n,o,u,i){"use strict";var a=Math.pow(2,53)-1,c=-a,s=Array.prototype.slice,f=Object.prototype.hasOwnProperty,l=Object.prototype.toString,p=function(){if("object"==typeof t&&"object"==typeof t.exports){var n=e(14);if("symbol"==typeof n.inspect.custom)return n.inspect.custom}return"inspect"}(),h=n.Left,d=n.Right;function y(t){return function(n){return t}}function m(t){return function(n,e){return t}}function g(t,n){return function(e){return t(n(e))}}function v(t){return t}function _(t){return t.slice(0,-1)}function E(t){return 0===t.length}function b(t){return function(n){if(t.length>n.length)return!1;for(var e=0;e<t.length;e+=1)if(t[e]!==n[e])return!1;return!0}}function T(t,n){return n.join(t)}function A(t){return t[t.length-1]}function R(t){return function(n){return t.some(function(t){return u.equals(t,n)})}}function S(t,n){return E(t)?n:t}function M(t,n){return T(t,Array(n+1))}function N(t){return function(n){return M(t,n.length)}}var O=N(" ");function I(t){return Object.keys(t).sort()}function F(t){return t.slice("(".length,-")".length)}function x(t,n,e,r){return E(r)?t:u.reduce(function(t,n){return t+"  - "+e(n)+"\n"},n,r)}function L(t){return t.replace(/[ ]+$/gm,"")}function w(t,n,e){return t?e:n(e)}function C(t,n,e){return t?n(e):e}function P(t){return function(n){return function(e){return t+e+n}}}var U=P("(")(")"),j=P("‘")("’");function B(t){return t.slice(t.indexOf("/")+1)}function D(t,n,e,r,o,u,i){this._test=o,this.format=r,this.keys=u,this.name=n,this.type=t,this.types=i,this.url=e}D["@@type"]="sanctuary-def/Type",D.prototype["fantasy-land/equals"]=function(t){return u.equals(this.type,t.type)&&u.equals(this.name,t.name)&&u.equals(this.url,t.url)&&u.equals(this.keys,t.keys)&&this.keys.every(function(n){return u.equals(this.types[n].type,t.types[n].type)},this)},D.prototype.validate=function(t){if(!this._test(t))return h({value:t,propPath:[]});for(var n=0;n<this.keys.length;n+=1)for(var e=this.keys[n],r=this.types[e],o=0,i=r.extractor(t);o<i.length;o+=1){var a=r.type.validate(i[o]);if(a.isLeft){var c=a.value.value,s=u.concat([e],a.value.propPath);return h({value:c,propPath:s})}}return d(t)},D.prototype["@@show"]=function(){return this.format(v,y(v))};var k="BINARY",V="FUNCTION",G="INCONSISTENT",q="NO_ARGUMENTS",H="NULLARY",X="RECORD",W="UNARY",z="UNKNOWN",$="VARIABLE",Y=new D(G,"","",m("???"),y(!1),[],{}),K=new D(q,"","",m("()"),y(!0),[],{});function J(t){return function(n){return i(n)===t}}function Z(t){return function(n){return typeof n===t}}function Q(t){return"https://github.com/sanctuary-js/sanctuary-def/tree/v0.18.1#"+B(t)}function tt(t,n){return rn(t)(Q(t))(n)}function nt(t,n,e){return un(t)(Q(t))(n)(e)}var et=tt("sanctuary-def/Any",y(!0)),rt=tt("Function",Z("function")),ot=tt("Arguments",J("Arguments")),ut=nt("Array",J("Array"),v),it=tt("sanctuary-def/Array0",function(t){return J("Array")(t)&&0===t.length}),at=nt("sanctuary-def/Array1",function(t){return J("Array")(t)&&1===t.length},v),ct=function(t,n,e,r){return sn(t)(Q(t))(function(t){return J("Array")(t)&&2===t.length})(function(t){return[t[0]]})(function(t){return[t[1]]})}("sanctuary-def/Array2"),st=tt("Boolean",Z("boolean")),ft=tt("Date",J("Date")),lt=tt("Error",J("Error")),pt=tt("sanctuary-def/FiniteNumber",function(t){return Ht._test(t)&&isFinite(t)});function ht(t){return 1===t.length?u.concat([K],t):t}function dt(t){var n=ht(t),e=rt._test,r=[],u={};return n.forEach(function(t,n){var e="$"+o(n+1);r.push(e),u[e]={extractor:y([]),type:t}}),new D(V,"","",function(t,e){var r=n.map(function(t,n){return w(t.type===X||E(t.keys),F,e("$"+o(n+1))(o(t)))}),u=P(t("("))(t(")"));return u(w(2===n.length,u,T(t(", "),_(r)))+t(" -> ")+A(r))},e,r,u)}var yt=tt("sanctuary-def/GlobalRegExp",function(t){return Ct._test(t)&&t.global}),mt=tt("sanctuary-def/HtmlElement",function(t){return/^\[object HTML.+Element\]$/.test(l.call(t))}),gt=tt("sanctuary-def/Integer",function(t){return Ht._test(t)&&Math.floor(t)===t&&t>=c&&t<=a}),vt=tt("sanctuary-def/NegativeFiniteNumber",function(t){return pt._test(t)&&t<0}),_t=tt("sanctuary-def/NegativeInteger",function(t){return gt._test(t)&&t<0}),Et=tt("sanctuary-def/NegativeNumber",function(t){return It._test(t)&&t<0}),bt=nt("sanctuary-def/NonEmpty",function(t){return u.Monoid.test(t)&&u.Setoid.test(t)&&!u.equals(t,u.empty(t.constructor))},function(t){return[t]}),Tt=tt("sanctuary-def/NonGlobalRegExp",function(t){return Ct._test(t)&&!t.global}),At=tt("sanctuary-def/NonNegativeInteger",function(t){return gt._test(t)&&t>=0}),Rt=tt("sanctuary-def/NonZeroFiniteNumber",function(t){return pt._test(t)&&0!==t}),St=tt("sanctuary-def/NonZeroInteger",function(t){return gt._test(t)&&0!==t}),Mt=tt("sanctuary-def/NonZeroValidNumber",function(t){return Ht._test(t)&&0!==t}),Nt=tt("Null",J("Null")),Ot=nt("sanctuary-def/Nullable",y(!0),function(t){return null===t?[]:[t]}),It=tt("Number",Z("number")),Ft=tt("Object",J("Object")),xt=tt("sanctuary-def/PositiveFiniteNumber",function(t){return pt._test(t)&&t>0}),Lt=tt("sanctuary-def/PositiveInteger",function(t){return gt._test(t)&&t>0}),wt=tt("sanctuary-def/PositiveNumber",function(t){return It._test(t)&&t>0}),Ct=tt("RegExp",J("RegExp")),Pt=function(t,n){return pn(t)(Q(t))(["","g","i","m","gi","gm","im","gim"])}("sanctuary-def/RegexFlags"),Ut=nt("sanctuary-def/StrMap",Ft._test,function(t){return u.reduce(function(t,n){return t.push(n),t},[],t)}),jt=tt("String",Z("string")),Bt=tt("Symbol",Z("symbol")),Dt=tt("Type",J("sanctuary-def/Type")),kt=tt("TypeClass",J("sanctuary-type-classes/TypeClass")),Vt=tt("Undefined",J("Undefined")),Gt=new D(z,"","",m("Unknown"),y(!0),[],{}),qt=tt("sanctuary-def/ValidDate",function(t){return ft._test(t)&&!isNaN(t.valueOf())}),Ht=tt("sanctuary-def/ValidNumber",function(t){return It._test(t)&&!isNaN(t)}),Xt=[rt,ot,ut(Gt),st,ft,lt,mt,Nt,It,Ft,Ct,Ut(Gt),jt,Bt,Vt];function Wt(t){return rn(t)("")(y(!0))}var zt=Bn({checkTypes:!(void 0!==r&&null!=r&&null!=Object({NODE_ENV:"production",BROADCAST:void 0,BUILD_VERSION:"0.0.1-alpha"})),env:Xt}),$t=["zero","one","two","three","four","five","six","seven","eight","nine"];function Yt(t){return(t<$t.length?$t[t]:o(t))+" "+(1===t?"argument":"arguments")}function Kt(t,n,e,r){return r.type.type===z?Jt(t,n,r.extractor(e)):[r.type]}function Jt(t,n,e){return E(e)?[Gt]:S(u.reduce(function(e,r){var o;if("object"==typeof r&&null!=r||"function"==typeof r){if(n.indexOf(r)>=0)return[];o=u.concat(n,[r])}else o=n;return u.chain(function(n){return"sanctuary-def/Nullable"===n.name||n.validate(r).isLeft?[]:n.type===W?u.map(cn(n),Kt(t,o,r,n.types.$1)):n.type===k?ln(n,Kt(t,o,r,n.types.$1),Kt(t,o,r,n.types.$2)):[n]},e)},t,e),[Y])}function Zt(t){return t.type===W?Zt(t.types.$1.type):t.type===k?Zt(t.types.$1.type)&&Zt(t.types.$2.type):t.type!==G}function Qt(t,n){return u.reject(function(t){return t.type===G},Jt(t,[],n))}function tn(t,n,e,r,o,i){var a={};for(var c in n){var s=n[c],l={types:s.types.slice(),valuesByPath:{}};for(var p in s.valuesByPath)l.valuesByPath[p]=s.valuesByPath[p].slice();a[c]=l}f.call(a,e.name)||(a[e.name]={types:t.slice(),valuesByPath:{}});var h=JSON.stringify(u.concat([r],o));f.call(a[e.name].valuesByPath,h)||(a[e.name].valuesByPath[h]=[]);var d=E(e.keys),y=en(t);function m(n,e){return u.filter(Zt,Kt(t,[],n,e))}return i.forEach(function(t){a[e.name].valuesByPath[h].push(t),a[e.name].types=u.chain(function(n){return n.keys.length<e.keys.length||!y(n)(t)?[]:d&&n.type===W?u.map(cn(n),m(t,n.types.$1)):d&&n.type===k?ln(n,m(t,n.types.$1),m(t,n.types.$2)):[n]},a[e.name].types)}),a}function nn(t,n,e,r,o,i,a){for(var c=nn,s=0;s<a.length;s+=1){var l=r.validate(a[s]);if(l.isLeft)return h(function(){return Pn(t,n,o,u.concat(i,l.value.propPath),l.value.value)})}switch(r.type){case $:var p=r.name,y=n.constraints;if(f.call(y,p)){var m=y[p];for(s=0;s<a.length;s+=1)for(var g=0;g<m.length;g+=1)if(!m[g].test(a[s]))return h(function(){return wn(t,n,m[g],o,i,a[s],e)})}var v=tn(t,e,r,o,i,a),_=v[p].types;return E(_)?h(function(){return Cn(t,n,o,i,v[p].valuesByPath)}):u.reduce(function(e,s){return u.chain(function(e){var f=s.keys.length-r.keys.length;return r.keys.reduce(function(e,l,p){var h=s.types[s.keys[f+p]].extractor;return u.reduce(function(e,a){return u.chain(function(e){return c(t,n,e.typeVarMap,r.types[l].type,o,u.concat(i,[l]),[a])},e)},e,u.chain(h,a))},d(e))},e)},d({typeVarMap:v,types:_}),_);case W:return u.map(function(t){return{typeVarMap:t.typeVarMap,types:u.map(cn(r),S(t.types,[r.types.$1.type]))}},c(t,n,e,r.types.$1.type,o,u.concat(i,["$1"]),u.chain(r.types.$1.extractor,a)));case k:return u.chain(function(e){var s=e.types;return u.map(function(t){var n=t.types;return{typeVarMap:t.typeVarMap,types:ln(r,S(s,[r.types.$1.type]),S(n,[r.types.$2.type]))}},c(t,n,e.typeVarMap,r.types.$2.type,o,u.concat(i,["$2"]),u.chain(r.types.$2.extractor,a)))},c(t,n,e,r.types.$1.type,o,u.concat(i,["$1"]),u.chain(r.types.$1.extractor,a)));case X:return u.reduce(function(e,s){return u.chain(function(e){return c(t,n,e.typeVarMap,r.types[s].type,o,u.concat(i,[s]),u.chain(r.types[s].extractor,a))},e)},d({typeVarMap:e,types:[r]}),r.keys);default:return d({typeVarMap:e,types:[r]})}}function en(t){return function(n){return function(e){return nn(t,{name:"name",constraints:{},types:[n]},{},n,0,[],[e]).isRight}}}function rn(t){function n(n,e){return n(B(t))}return function(e){return function(r){return new D(H,t,e,n,r,[],{})}}}var on=zt("NullaryType")({})([jt,jt,dt([et,st]),Dt])(rn);function un(t){return function(n){return function(e){return function(r){return function(u){return new D(W,t,n,function(n,e){return n("("+B(t)+" ")+e("$1")(o(u))+n(")")},e,["$1"],{$1:{extractor:r,type:u}})}}}}}var an=zt("UnaryType")({})([jt,jt,dt([et,st]),dt([Wt("t a"),ut(Wt("a"))]),rt])(function(t){return function(n){return function(e){return g(zt(B(t))({})([Dt,Dt]),un(t)(n)(e))}}});function cn(t){return un(t.name)(t.url)(t._test)(t.types.$1.extractor)}function sn(t){return function(n){return function(e){return function(r){return function(u){return function(i){return function(a){return new D(k,t,n,function(n,e){return n("("+B(t)+" ")+e("$1")(o(i))+n(" ")+e("$2")(o(a))+n(")")},e,["$1","$2"],{$1:{extractor:r,type:i},$2:{extractor:u,type:a}})}}}}}}}var fn=zt("BinaryType")({})([jt,jt,dt([et,st]),dt([Wt("t a b"),ut(Wt("a"))]),dt([Wt("t a b"),ut(Wt("b"))]),rt])(function(t){return function(n){return function(e){return function(r){return function(o){return zt(B(t))({})([Dt,Dt,Dt])(sn(t)(n)(e)(r)(o))}}}}});function ln(t,n,e){return u.chain(function(t){return u.map(t,e)},u.map(sn(t.name)(t.url)(t._test)(t.types.$1.extractor)(t.types.$2.extractor),n))}function pn(t){return function(n){return g(rn(t)(n),R)}}var hn=zt("EnumType")({})([jt,jt,ut(et),Dt])(pn);function dn(t){var n=I(t),e={};return n.forEach(function(n){e[n]={extractor:function(t){return[t[n]]},type:t[n]}}),new D(X,"","",function(e,r){if(E(n))return e("{}");var i=u.map(function(n){var u=t[n];return e(" ")+e(/^(?!\d)[$\w]+$/.test(n)?n:o(n))+e(" :: ")+w(u.type===X||E(u.keys),F,r(n)(o(u)))},n);return P(e("{"))(e(" }"))(T(e(","),i))},function(t){var e={};for(var r in n.forEach(function(t){e[t]=t}),t)delete e[r];return E(Object.keys(e))},n,e)}var yn=zt("RecordType")({})([Ut(Dt),Dt])(dn),mn=zt("TypeVariable")({})([jt,Dt])(function(t){return new D($,t,"",m(t),y(!0),[],{})}),gn=zt("UnaryTypeVariable")({})([jt,rt])(function(t){return zt(t)({})([Dt,Dt])(function(t){return function(n){var e={$1:{extractor:y([]),type:n}};return new D($,t,"",function(e,r){return e("("+t+" ")+r("$1")(o(n))+e(")")},y(!0),["$1"],e)}}(t))}),vn=zt("BinaryTypeVariable")({})([jt,rt])(function(t){return zt(t)({})([Dt,Dt,Dt])(function(t){return function(n){return function(e){var r={$1:{extractor:y([]),type:n},$2:{extractor:y([]),type:e}};return new D($,t,"",function(r,u){return r("("+t+" ")+u("$1")(o(n))+r(" ")+u("$2")(o(e))+r(")")},y(!0),["$1","$2"],r)}}}(t))}),_n=zt("Thunk")({})([Dt,Dt])(function(t){return dt([t])}),En=zt("Predicate")({})([Dt,Dt])(function(t){return dt([t,st])});function bn(t,n,e,r){return new TypeError(L(j(t.name)+" applied to the wrong number of arguments\n\n"+In(t,y(y(O)),function(t){return function(e){return y(y(t===n?e:O))}})+"\nExpected "+Yt(e)+" but received "+Yt(r.length)+x(".\n",":\n\n",o,r)))}function Tn(t,n,e){var r=[];return I(t).forEach(function(n){var o=e(n);t[n].forEach(function(t){r.push(o(t)(B(t.name)+" "+n))})}),C(r.length>0,function(t){return t+n(" => ")},C(r.length>1,P(n("("))(n(")")),T(n(", "),r)))}function An(t){return u.concat(t.type===$?[t.name]:[],u.chain(function(n){return An(t.types[n].type)},t.keys))}function Rn(t){var n=u.chain(An,t.types);return function(t){var e="a".charCodeAt(0);return w(t.type===V||t.type===X||E(t.keys),F,o(t).replace(/\bUnknown\b/g,function(){do{var t=String.fromCharCode(e++)}while(n.indexOf(t)>=0);return t}))}}function Sn(t){return j(w(t.type===X||E(t.keys),F,o(t)))}function Mn(t,n,e,r){var i=Rn(n);return o(r)+")  "+T("\n    ",u.map(function(n){var e=Qt(t,[n]);return o(n)+" :: "+T(", ",u.map(i,e))},e))}function Nn(t){var n=u.map(Rn(t),t.types),e=n.length-1;return t.name+" :: "+Tn(t.constraints,v,y(y(v)))+C(0===e,U,T(" -> ",_(n)))+" -> "+A(n)}function On(t,n,e){return w(t.type===X||E(t.keys)||t.type===V&&E(n)||!E(n),F,e(t)(n)(t.format(O,function(r){return y(On(t.types[r].type,u.concat(n,[r]),e))})))}function In(t,n,e){var r=t.types.reduce(function(t,n,r){var u=e(r);return t.numbers.push(On(n,[],u(function(n){return function(t){return function(n){var e=n.length-t.length;return M(" ",Math.floor(e/2))+t+M(" ",Math.ceil(e/2))}}(o(t.counter+=1))(n)}))),t.carets.push(On(n,[],function(t){return function(t){var n=o(t),e=n.slice(0,1)+n.slice(-1)==="()";return u(function(t){return e&&"()"!==n&&t.length===n.length?O("(")+N("^")(t.slice(1,-1))+O(")"):N("^")(t)})}(t)(t)})),t},{carets:[],numbers:[],counter:0});return Nn(t)+"\n"+O(t.name+" :: ")+Tn(t.constraints,O,n)+T(O(" -> "),r.carets)+"\n"+O(t.name+" :: ")+Tn(t.constraints,O,y(y(O)))+T(O(" -> "),r.numbers)+"\n"}function Fn(t,n){return u.reduce(function(t,n){return t.types[n].type},t,n)}function xn(t){return function(n){return function(e){return function(r){return function(r){var o=u.concat([n],r),i=b(o)(t),a=b(t)(o);return i&&a?e:i?v:O}}}}}function Ln(t,n){return null==n.url||""===n.url?"":"\nSee "+n.url+" for information about the "+n.name+" "+t+".\n"}function wn(t,n,e,r,o,i,a){var c=Fn(n.types[r],o);return new TypeError(L("Type-class constraint violation\n\n"+In(n,function(t){return function(n){return t===c.name&&n.name===e.name?N("^"):O}},xn(u.concat([r],o)))+"\n"+Mn(t,n,[i],1)+"\n\n"+j(n.name)+" requires "+j(c.name)+" to satisfy the "+B(e.name)+" type-class constraint; the value at position 1 does not.\n"+Ln("type class",e)))}function Cn(t,n,e,r,i){var a=JSON.stringify(u.concat([e],r)),c=i[a],s=u.filter(function(n){var e=i[n];return n===a||E(function(t,n){return u.filter(Zt,Jt(t,[],n))}(t,u.concat(c,e)))},I(i)),l=function(t,n){var e=u.map(JSON.parse,I(n));return In(t,y(y(O)),function(t){return function(r){return function(o){return function(o){var i=u.concat([t],o);return function(t){if(e.some(b(i))){var o=JSON.stringify(i);if(!f.call(n,o))return t;if(!E(n[o]))return r(t)}return O(t)}}}}})}(n,u.reduce(function(t,n){return t[n]=i[n],t},{},s));return new TypeError(L(1===c.length&&E(Qt(t,c))?"Unrecognized value\n\n"+l+"\n1)  "+o(c[0])+" :: (no types)\n\n"+x("The environment is empty! Polymorphic functions require a non-empty environment.\n","The value at position 1 is not a member of any type in the environment.\n\nThe environment contains the following types:\n\n",Rn(n),t):"Type-variable constraint violation\n\n"+l+"\n"+u.reduce(function(e,r){var o=i[r];return E(o)?e:{idx:e.idx+1,s:e.s+Mn(t,n,o,e.idx+1)+"\n\n"}},{idx:0,s:""},s).s+"Since there is no type of which all the above values are members, the type-variable constraint has been violated.\n"))}function Pn(t,n,e,r,o){var i=Fn(n.types[e],r);return new TypeError(L("Invalid value\n\n"+In(n,y(y(O)),xn(u.concat([e],r)))+"\n"+Mn(t,n,[o],1)+"\n\nThe value at position 1 is not a member of "+Sn(i)+".\n"+Ln("type",i)))}function Un(t){if(t.isLeft)throw t.value();return t.value}function jn(t,n,e){var r=n.types.length-1;function i(e,r,i){if(n.types[r].type!==V)return i;var a=n.types[r];function c(e,r,o,i){var c=[o],s=a.types[o].type;return s.type===$?u.chain(function(e){return E(e[s.name].types)?h(function(){return Cn(t,n,r,c,e[s.name].valuesByPath)}):d(e)},d(tn(t,e,s,r,c,[i]))):u.map(function(t){return t.typeVarMap},nn(t,n,e,s,r,c,[i]))}var f=a.types.$1.type.type===q?0:a.keys.length-1,l=e;return function(t){if(arguments.length!==f)throw function(t,n,e,r){return new TypeError(L(j(t.name)+" applied "+Sn(t.types[n])+" to the wrong number of arguments\n\n"+In(t,y(y(O)),function(t){return function(e){return function(r){return function(o){return function(o){return t===n?r.format(O,function(t){return"$1"===t?e:O}):O(o)}}}}})+"\nExpected "+Yt(e)+" but received "+Yt(r.length)+x(".\n",":\n\n",o,r)))}(n,r,f,s.call(arguments));var e=arguments;l=Un(_(a.keys).reduce(function(t,n,o){var i=e[o];return u.chain(function(t){return c(t,r,n,i)},t)},d(l)));var p=i.apply(this,arguments),h=A(a.keys);return l=Un(c(l,r,h,p)),p}}var a=n.types[0].type===q?function(){if(0!==arguments.length)throw bn(n,0,0,s.call(arguments));var o=e();return i(Un(nn(t,n,{},n.types[r],r,[],[o])).typeVarMap,r,o)}:function o(a,c,f){return function(l){var p=s.call(arguments);if(1!==p.length)throw bn(n,f,1,p);var h=Un(nn(t,n,a,n.types[f],f,[],p)).typeVarMap,d=u.concat(c,p);if(f+1===r){var y=d.reduce(function(t,n,e){return t(i(h,e,n))},e);return i(h=Un(nn(t,n,h,n.types[r],r,[],[y])).typeVarMap,r,y)}return o(h,d,f+1)}}({},[],0);return a[p]=a.toString=function(t){return function(){return t}}(Nn(n)),a}function Bn(t){function n(n){return function(e){return function(r){return function(o){return t.checkTypes?jn(t.env,{name:n,constraints:e,types:ht(r)},o):o}}}}return n(n.name)({})([jt,Ut(ut(kt)),bt(ut(Dt)),rt,rt])(n)}var Dn=zt("create")({})([dn({checkTypes:st,env:ut(et)}),rt])(Bn);function kn(t){var n=t(Gt),e=n.types.$1.extractor;return an(n.name)(n.url)(n._test)(e)}return{Any:et,AnyFunction:rt,Arguments:ot,Array:kn(ut),Array0:it,Array1:kn(at),Array2:function(t){var n=ct(Gt)(Gt),e=n.types.$1.extractor,r=n.types.$2.extractor;return fn(n.name)(n.url)(n._test)(e)(r)}(),Boolean:st,Date:ft,Error:lt,FiniteNumber:pt,Function:zt("Function")({})([ut(Dt),Dt])(dt),GlobalRegExp:yt,HtmlElement:mt,Integer:gt,NegativeFiniteNumber:vt,NegativeInteger:_t,NegativeNumber:Et,NonEmpty:bt,NonGlobalRegExp:Tt,NonNegativeInteger:At,NonZeroFiniteNumber:Rt,NonZeroInteger:St,NonZeroValidNumber:Mt,Null:Nt,Nullable:kn(Ot),Number:It,Object:Ft,PositiveFiniteNumber:xt,PositiveInteger:Lt,PositiveNumber:wt,RegExp:Ct,RegexFlags:Pt,StrMap:kn(Ut),String:jt,Symbol:Bt,Type:Dt,TypeClass:kt,Undefined:Vt,Unknown:Gt,ValidDate:qt,ValidNumber:Ht,env:Xt,create:Dn,test:zt("test")({})([ut(Dt),Dt,et,st])(en),NullaryType:on,UnaryType:an,BinaryType:fn,EnumType:hn,RecordType:yn,TypeVariable:mn,UnaryTypeVariable:gn,BinaryTypeVariable:vn,Thunk:_n,Predicate:En}})}).call(this,e(24))},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i(e(34)):null!=e(0)?(o=[e(34)],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeClasses=i(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var n=__doctest.require("./test/List"),e=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),n.Nil,n.Cons,e.Nothing,e.Just}function r(t){return function(n){return t.concat(n)}}function o(t){return function(n){return t}}function u(t,n){Object.keys(t).forEach(n,t)}function i(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function a(t){return t}function c(t){return function(n){return[t,n]}}function s(n,e){return typeof n==typeof e&&t(n)===t(e)}function f(t){return{value:t,done:!1}}function l(t){return{value:t,done:!0}}function p(t,n,e,r){if(!(this instanceof p))return new p(t,n,e,r);this.name=t,this.url=n,this.test=function(t){return e.every(function(n){return n.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var h="Constructor",d="Value";function y(t,n,e){for(var r=e,o=0;o<n.length;o+=1){var u=n[o];if(null==r||!t&&!i(u,r))return null;r=r[u]}return"function"==typeof r?r:null}function m(t,n){return y(!0,t,n)}function g(t){return y(!1,t,Y)}var v=i("name",function(){})?function(t){return t.name}:function(t){var n=/function (\w*)/.exec(t);return null==n?"":n[1]};function _(n,e,r){function o(n){var e="fantasy-land/"+n;return r[n]===h?function(t){var n=m([e],t);return null==n&&"function"==typeof t?g([v(t),e]):n}:function(n){var r=null;return null!=n&&null!=n.constructor&&n.constructor.prototype===n||(r=m([e],n)),null==r&&(r=g([t(n),"prototype",e])),r&&r.bind(n)}}var u=Object.keys(r),i=p("sanctuary-type-classes/"+n,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+n,e,function(t){return u.every(function(n){var e=r[n]===h?t.constructor:t;return null!=o(n)(e)})});return i.methods=u.reduce(function(t,n){return t[n]=o(n),t},{}),i}var E=_("Setoid",[],{equals:d}),b=_("Ord",[E],{lte:d}),T=_("Semigroupoid",[],{compose:d}),A=_("Category",[T],{id:h}),R=_("Semigroup",[],{concat:d}),S=_("Monoid",[R],{empty:h}),M=_("Group",[S],{invert:d}),N=_("Filterable",[],{filter:d}),O=_("Functor",[],{map:d}),I=_("Bifunctor",[O],{bimap:d}),F=_("Profunctor",[O],{promap:d}),x=_("Apply",[O],{ap:d}),L=_("Applicative",[x],{of:h}),w=_("Chain",[x],{chain:d}),C=_("ChainRec",[w],{chainRec:h}),P=_("Monad",[L,w],{}),U=_("Alt",[O],{alt:d}),j=_("Plus",[U],{zero:h}),B=_("Alternative",[L,j],{}),D=_("Foldable",[],{reduce:d}),k=_("Traversable",[O,D],{traverse:d}),V=_("Extend",[O],{extend:d}),G=_("Comonad",[V],{extract:d}),q=_("Contravariant",[],{contramap:d});function H(t){return[t]}function X(t){if(t.length!==this.length)return!1;for(var n=0;n<this.length;n+=1)if(!K(this[n],t[n]))return!1;return!0}function W(t){for(var n=0;;n+=1){if(n===this.length)return!0;if(n===t.length)return!1;if(!K(this[n],t[n]))return Z(this[n],t[n])}}function z(t){return this.concat(t)}function $(t){var n={};function e(t){n[t]=this[t]}return u(this,e),u(t,e),n}var Y={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return K(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return Z(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":H,"fantasy-land/chainRec":function(t,n){for(var e=[],r={},o={head:n,tail:r};o!==r;){for(var u=r,i=t(f,l,o.head),a=0;a<i.length;a+=1){var c=i[a];c.done?e.push(c.value):u={head:c.value,tail:u}}for(o=o.tail;u!==r;)o={head:u.head,tail:o},u=u.tail}return e},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":X,"fantasy-land/lte":W,"fantasy-land/concat":z,"fantasy-land/filter":function(t){return this.filter(function(n){return t(n)})},"fantasy-land/map":function(t){return this.map(function(n){return t(n)})},"fantasy-land/ap":function(t){for(var n=[],e=0;e<t.length;e+=1)for(var r=0;r<this.length;r+=1)n.push(t[e](this[r]));return n},"fantasy-land/chain":function(t){for(var n=[],e=0;e<this.length;e+=1)for(var r=0,o=t(this[e]);r<o.length;r+=1)n.push(o[r]);return n},"fantasy-land/alt":z,"fantasy-land/reduce":function(t,n){for(var e=n,r=0;r<this.length;r+=1)e=t(e,this[r]);return e},"fantasy-land/traverse":function(t,n){var e=this;function o(u,i){switch(i){case 0:return it(t,[]);case 2:return ut(c,n(e[u]),n(e[u+1]));default:var a=2*Math.floor(i/4);return ut(r,o(u,a),o(u+a,i-a))}}return this.length%2==1?ut(r,et(H,n(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(n,e,r){return t(r.slice(e))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return X.call(this,t)},"fantasy-land/lte":function(t){return W.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return K(this.name,t.name)&&K(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var n=this,e=Object.keys(this).sort();return K(e,Object.keys(t).sort())&&e.every(function(e){return K(n[e],t[e])})},"fantasy-land/lte":function(t){for(var n=Object.keys(this).sort(),e=Object.keys(t).sort();;){if(0===n.length)return!0;if(0===e.length)return!1;var r=n.shift(),o=e.shift();if(r<o)return!0;if(r>o)return!1;if(!K(this[r],t[r]))return Z(this[r],t[r])}},"fantasy-land/concat":$,"fantasy-land/filter":function(t){var n={};return u(this,function(e){t(this[e])&&(n[e]=this[e])}),n},"fantasy-land/map":function(t){var n={};return u(this,function(e){n[e]=t(this[e])}),n},"fantasy-land/ap":function(t){var n={};return u(this,function(e){i(e,t)&&(n[e]=t[e](this[e]))}),n},"fantasy-land/alt":$,"fantasy-land/reduce":function(t,n){var e=this;return Object.keys(this).sort().reduce(function(n,r){return t(n,e[r])},n)},"fantasy-land/traverse":function(t,n){var e=this;return Object.keys(this).reduce(function(t,r){return ut(function(t){return function(n){var e={};return e[r]=n,$.call(t,e)}},t,n(e[r]))},it(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(n){return t}},"fantasy-land/chainRec":function(t,n){return function(e){for(var r=f(n);!r.done;)r=t(f,l,r.value)(e);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/map":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/promap":function(t,n){var e=this;return function(r){return n(e(t(r)))}},"fantasy-land/ap":function(t){var n=this;return function(e){return t(e)(n(e))}},"fantasy-land/chain":function(t){var n=this;return function(e){return t(n(e))(e)}},"fantasy-land/extend":function(t){var n=this;return function(e){return t(function(t){return n(Q(e,t))})}},"fantasy-land/contramap":function(t){var n=this;return function(e){return n(t(e))}}}}},K=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return!0;t.push([n,e]);try{return E.test(n)&&E.test(e)&&E.methods.equals(n)(e)}finally{t.pop()}}}();function J(t,n){return s(t,n)&&!Z(n,t)}var Z=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return K(n,e);t.push([n,e]);try{return b.test(n)&&b.test(e)&&b.methods.lte(n)(e)}finally{t.pop()}}}();function Q(t,n){return R.methods.concat(t)(n)}function tt(t){return S.methods.empty(t)()}function nt(t,n){return N.methods.filter(n)(t)}function et(t,n){return O.methods.map(n)(t)}function rt(t,n,e){return I.methods.bimap(e)(t,n)}function ot(t,n){return x.methods.ap(n)(t)}function ut(t,n,e){return ot(et(t,n),e)}function it(t,n){return L.methods.of(t)(n)}function at(t,n){return w.methods.chain(n)(t)}function ct(t,n,e){return D.methods.reduce(e)(t,n)}function st(t,n){var e=ct(function(n,e){return n.push({idx:n.length,x:e,fx:t(e)}),n},[],n),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,n){return t<=n||t!=t};case"string":return function(t,n){return t<=n};default:return Z}}(e[0]);if(e.sort(function(t,n){return r(t.fx,n.fx)?r(n.fx,t.fx)?t.idx-n.idx:-1:1}),Array.isArray(n)){for(var o=0;o<e.length;o+=1)e[o]=e[o].x;return e}var u=n.constructor,i=tt(u);for(o=0;o<e.length;o+=1)i=Q(i,it(u,e[o].x));return i}function ft(t,n,e){return k.methods.traverse(e)(t,n)}function lt(t,n){return V.methods.extend(n)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:R,Monoid:S,Group:M,Filterable:N,Functor:O,Bifunctor:I,Profunctor:F,Apply:x,Applicative:L,Chain:w,ChainRec:C,Monad:P,Alt:U,Plus:j,Alternative:B,Foldable:D,Traversable:k,Extend:V,Comonad:G,Contravariant:q,equals:K,lt:J,lte:Z,gt:function(t,n){return J(n,t)},gte:function(t,n){return Z(n,t)},min:function(t,n){return Z(t,n)?t:n},max:function(t,n){return Z(t,n)?n:t},compose:function(t,n){return T.methods.compose(n)(t)},id:function(t){return A.methods.id(t)()},concat:Q,empty:tt,invert:function(t){return M.methods.invert(t)()},filter:nt,reject:function(t,n){return nt(function(n){return!t(n)},n)},map:et,flip:function(t,n){return O.methods.map(t)(function(t){return function(n){return n(t)}}(n))},bimap:rt,mapLeft:function(t,n){return rt(t,a,n)},promap:function(t,n,e){return F.methods.promap(e)(t,n)},ap:ot,lift2:ut,lift3:function(t,n,e,r){return ot(ot(et(t,n),e),r)},apFirst:function(t,n){return ut(o,t,n)},apSecond:function(t,n){return ut(o(a),t,n)},of:it,append:function(t,n){return Q(n,it(n.constructor,t))},prepend:function(t,n){return Q(it(n.constructor,t),n)},chain:at,join:function(t){return at(a,t)},chainRec:function(t,n,e){return C.methods.chainRec(t)(n,e)},alt:function(t,n){return U.methods.alt(t)(n)},zero:function(t){return j.methods.zero(t)()},reduce:ct,size:function(t){return Array.isArray(t)?t.length:ct(function(t,n){return t+1},0,t)},elem:function(t,n){return ct(function(n,e){return n||K(t,e)},!1,n)},foldMap:function(t,n,e){return ct(function(t,e){return Q(t,n(e))},tt(t),e)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var n=t.constructor;return ct(function(t,e){return Q(it(n,e),t)},tt(n),t)},sort:function(t){return st(a,t)},sortBy:st,takeWhile:function(t,n){var e=!0;return nt(function(n){return e=e&&t(n)},n)},dropWhile:function(t,n){var e=!1;return nt(function(n){return e=e||!t(n)},n)},traverse:ft,sequence:function(t,n){return ft(t,a,n)},extend:lt,duplicate:function(t){return lt(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,n){return q.methods.contramap(n)(t)}}})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i():null!=e(0)?(o=[],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeIdentifiers=i()}(function(){"use strict";var t="@@type";return function(n){return null!=n&&null!=n.constructor&&n.constructor.prototype!==n&&"string"==typeof n.constructor[t]?n.constructor[t]:Object.prototype.toString.call(n).slice("[object ".length,-"]".length)}})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i(e(36)):null!=e(0)?(o=[e(36)],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeClasses=i(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var n=__doctest.require("./test/List"),e=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),n.Nil,n.Cons,e.Nothing,e.Just}function r(t){return function(n){return t.concat(n)}}function o(t){return function(n){return t}}function u(t,n){Object.keys(t).forEach(n,t)}function i(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function a(t){return t}function c(t){return function(n){return[t,n]}}function s(n,e){return typeof n==typeof e&&t(n)===t(e)}function f(t){return{value:t,done:!1}}function l(t){return{value:t,done:!0}}function p(t,n,e,r){if(!(this instanceof p))return new p(t,n,e,r);this.name=t,this.url=n,this.test=function(t){return e.every(function(n){return n.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var h="Constructor",d="Value";function y(t,n,e){for(var r=e,o=0;o<n.length;o+=1){var u=n[o];if(null==r||!t&&!i(u,r))return null;r=r[u]}return"function"==typeof r?r:null}function m(t,n){return y(!0,t,n)}function g(t){return y(!1,t,Y)}var v=i("name",function(){})?function(t){return t.name}:function(t){var n=/function (\w*)/.exec(t);return null==n?"":n[1]};function _(n,e,r){function o(n){var e="fantasy-land/"+n;return r[n]===h?function(t){var n=m([e],t);return null==n&&"function"==typeof t?g([v(t),e]):n}:function(n){var r=null;return null!=n&&null!=n.constructor&&n.constructor.prototype===n||(r=m([e],n)),null==r&&(r=g([t(n),"prototype",e])),r&&r.bind(n)}}var u=Object.keys(r),i=p("sanctuary-type-classes/"+n,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+n,e,function(t){return u.every(function(n){var e=r[n]===h?t.constructor:t;return null!=o(n)(e)})});return i.methods=u.reduce(function(t,n){return t[n]=o(n),t},{}),i}var E=_("Setoid",[],{equals:d}),b=_("Ord",[E],{lte:d}),T=_("Semigroupoid",[],{compose:d}),A=_("Category",[T],{id:h}),R=_("Semigroup",[],{concat:d}),S=_("Monoid",[R],{empty:h}),M=_("Group",[S],{invert:d}),N=_("Filterable",[],{filter:d}),O=_("Functor",[],{map:d}),I=_("Bifunctor",[O],{bimap:d}),F=_("Profunctor",[O],{promap:d}),x=_("Apply",[O],{ap:d}),L=_("Applicative",[x],{of:h}),w=_("Chain",[x],{chain:d}),C=_("ChainRec",[w],{chainRec:h}),P=_("Monad",[L,w],{}),U=_("Alt",[O],{alt:d}),j=_("Plus",[U],{zero:h}),B=_("Alternative",[L,j],{}),D=_("Foldable",[],{reduce:d}),k=_("Traversable",[O,D],{traverse:d}),V=_("Extend",[O],{extend:d}),G=_("Comonad",[V],{extract:d}),q=_("Contravariant",[],{contramap:d});function H(t){return[t]}function X(t){if(t.length!==this.length)return!1;for(var n=0;n<this.length;n+=1)if(!K(this[n],t[n]))return!1;return!0}function W(t){for(var n=0;;n+=1){if(n===this.length)return!0;if(n===t.length)return!1;if(!K(this[n],t[n]))return Z(this[n],t[n])}}function z(t){return this.concat(t)}function $(t){var n={};function e(t){n[t]=this[t]}return u(this,e),u(t,e),n}var Y={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return K(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return Z(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":H,"fantasy-land/chainRec":function(t,n){for(var e=[],r={},o={head:n,tail:r};o!==r;){for(var u=r,i=t(f,l,o.head),a=0;a<i.length;a+=1){var c=i[a];c.done?e.push(c.value):u={head:c.value,tail:u}}for(o=o.tail;u!==r;)o={head:u.head,tail:o},u=u.tail}return e},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":X,"fantasy-land/lte":W,"fantasy-land/concat":z,"fantasy-land/filter":function(t){return this.filter(function(n){return t(n)})},"fantasy-land/map":function(t){return this.map(function(n){return t(n)})},"fantasy-land/ap":function(t){for(var n=[],e=0;e<t.length;e+=1)for(var r=0;r<this.length;r+=1)n.push(t[e](this[r]));return n},"fantasy-land/chain":function(t){for(var n=[],e=0;e<this.length;e+=1)for(var r=0,o=t(this[e]);r<o.length;r+=1)n.push(o[r]);return n},"fantasy-land/alt":z,"fantasy-land/reduce":function(t,n){for(var e=n,r=0;r<this.length;r+=1)e=t(e,this[r]);return e},"fantasy-land/traverse":function(t,n){var e=this;function o(u,i){switch(i){case 0:return it(t,[]);case 2:return ut(c,n(e[u]),n(e[u+1]));default:var a=2*Math.floor(i/4);return ut(r,o(u,a),o(u+a,i-a))}}return this.length%2==1?ut(r,et(H,n(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(n,e,r){return t(r.slice(e))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return X.call(this,t)},"fantasy-land/lte":function(t){return W.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return K(this.name,t.name)&&K(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var n=this,e=Object.keys(this).sort();return K(e,Object.keys(t).sort())&&e.every(function(e){return K(n[e],t[e])})},"fantasy-land/lte":function(t){for(var n=Object.keys(this).sort(),e=Object.keys(t).sort();;){if(0===n.length)return!0;if(0===e.length)return!1;var r=n.shift(),o=e.shift();if(r<o)return!0;if(r>o)return!1;if(!K(this[r],t[r]))return Z(this[r],t[r])}},"fantasy-land/concat":$,"fantasy-land/filter":function(t){var n={};return u(this,function(e){t(this[e])&&(n[e]=this[e])}),n},"fantasy-land/map":function(t){var n={};return u(this,function(e){n[e]=t(this[e])}),n},"fantasy-land/ap":function(t){var n={};return u(this,function(e){i(e,t)&&(n[e]=t[e](this[e]))}),n},"fantasy-land/alt":$,"fantasy-land/reduce":function(t,n){var e=this;return Object.keys(this).sort().reduce(function(n,r){return t(n,e[r])},n)},"fantasy-land/traverse":function(t,n){var e=this;return Object.keys(this).reduce(function(t,r){return ut(function(t){return function(n){var e={};return e[r]=n,$.call(t,e)}},t,n(e[r]))},it(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(n){return t}},"fantasy-land/chainRec":function(t,n){return function(e){for(var r=f(n);!r.done;)r=t(f,l,r.value)(e);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/map":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/promap":function(t,n){var e=this;return function(r){return n(e(t(r)))}},"fantasy-land/ap":function(t){var n=this;return function(e){return t(e)(n(e))}},"fantasy-land/chain":function(t){var n=this;return function(e){return t(n(e))(e)}},"fantasy-land/extend":function(t){var n=this;return function(e){return t(function(t){return n(Q(e,t))})}},"fantasy-land/contramap":function(t){var n=this;return function(e){return n(t(e))}}}}},K=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return!0;t.push([n,e]);try{return E.test(n)&&E.test(e)&&E.methods.equals(n)(e)}finally{t.pop()}}}();function J(t,n){return s(t,n)&&!Z(n,t)}var Z=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return K(n,e);t.push([n,e]);try{return b.test(n)&&b.test(e)&&b.methods.lte(n)(e)}finally{t.pop()}}}();function Q(t,n){return R.methods.concat(t)(n)}function tt(t){return S.methods.empty(t)()}function nt(t,n){return N.methods.filter(n)(t)}function et(t,n){return O.methods.map(n)(t)}function rt(t,n,e){return I.methods.bimap(e)(t,n)}function ot(t,n){return x.methods.ap(n)(t)}function ut(t,n,e){return ot(et(t,n),e)}function it(t,n){return L.methods.of(t)(n)}function at(t,n){return w.methods.chain(n)(t)}function ct(t,n,e){return D.methods.reduce(e)(t,n)}function st(t,n){var e=ct(function(n,e){return n.push({idx:n.length,x:e,fx:t(e)}),n},[],n),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,n){return t<=n||t!=t};case"string":return function(t,n){return t<=n};default:return Z}}(e[0]);if(e.sort(function(t,n){return r(t.fx,n.fx)?r(n.fx,t.fx)?t.idx-n.idx:-1:1}),Array.isArray(n)){for(var o=0;o<e.length;o+=1)e[o]=e[o].x;return e}var u=n.constructor,i=tt(u);for(o=0;o<e.length;o+=1)i=Q(i,it(u,e[o].x));return i}function ft(t,n,e){return k.methods.traverse(e)(t,n)}function lt(t,n){return V.methods.extend(n)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:R,Monoid:S,Group:M,Filterable:N,Functor:O,Bifunctor:I,Profunctor:F,Apply:x,Applicative:L,Chain:w,ChainRec:C,Monad:P,Alt:U,Plus:j,Alternative:B,Foldable:D,Traversable:k,Extend:V,Comonad:G,Contravariant:q,equals:K,lt:J,lte:Z,gt:function(t,n){return J(n,t)},gte:function(t,n){return Z(n,t)},min:function(t,n){return Z(t,n)?t:n},max:function(t,n){return Z(t,n)?n:t},compose:function(t,n){return T.methods.compose(n)(t)},id:function(t){return A.methods.id(t)()},concat:Q,empty:tt,invert:function(t){return M.methods.invert(t)()},filter:nt,reject:function(t,n){return nt(function(n){return!t(n)},n)},map:et,flip:function(t,n){return O.methods.map(t)(function(t){return function(n){return n(t)}}(n))},bimap:rt,mapLeft:function(t,n){return rt(t,a,n)},promap:function(t,n,e){return F.methods.promap(e)(t,n)},ap:ot,lift2:ut,lift3:function(t,n,e,r){return ot(ot(et(t,n),e),r)},apFirst:function(t,n){return ut(o,t,n)},apSecond:function(t,n){return ut(o(a),t,n)},of:it,append:function(t,n){return Q(n,it(n.constructor,t))},prepend:function(t,n){return Q(it(n.constructor,t),n)},chain:at,join:function(t){return at(a,t)},chainRec:function(t,n,e){return C.methods.chainRec(t)(n,e)},alt:function(t,n){return U.methods.alt(t)(n)},zero:function(t){return j.methods.zero(t)()},reduce:ct,size:function(t){return Array.isArray(t)?t.length:ct(function(t,n){return t+1},0,t)},elem:function(t,n){return ct(function(n,e){return n||K(t,e)},!1,n)},foldMap:function(t,n,e){return ct(function(t,e){return Q(t,n(e))},tt(t),e)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var n=t.constructor;return ct(function(t,e){return Q(it(n,e),t)},tt(n),t)},sort:function(t){return st(a,t)},sortBy:st,takeWhile:function(t,n){var e=!0;return nt(function(n){return e=e&&t(n)},n)},dropWhile:function(t,n){var e=!1;return nt(function(n){return e=e||!t(n)},n)},traverse:ft,sequence:function(t,n){return ft(t,a,n)},extend:lt,duplicate:function(t){return lt(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,n){return q.methods.contramap(n)(t)}}})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i():null!=e(0)?(o=[],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeIdentifiers=i()}(function(){"use strict";var t="@@type";return function(n){return null!=n&&null!=n.constructor&&n.constructor.prototype!==n&&"string"==typeof n.constructor[t]?n.constructor[t]:Object.prototype.toString.call(n).slice("[object ".length,-"]".length)}})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i(e(3),e(38)):null!=e(0)?(o=[e(3),e(38)],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryMaybe=i(self.sanctuaryShow,self.sanctuaryTypeClasses)}(function(n,r){"use strict";if("undefined"!=typeof __doctest){var o=__doctest.require("sanctuary-def"),u=__doctest.require("sanctuary-type-identifiers");!function(){var t=__doctest.require("sanctuary"),n=o.UnaryType("sanctuary-maybe/Maybe")("")(function(t){return u(t)===i["@@type"]})(function(t){return t.isJust?[t.value]:[]}),e=r.concat(t.env,[o.TypeClass,n(o.Unknown)]);t.create({checkTypes:!0,env:e})}()}var i={},a={constructor:i,isNothing:!0,isJust:!1,"@@show":y,"fantasy-land/equals":function(t){return t.isNothing},"fantasy-land/lte":function(t){return!0},"fantasy-land/concat":function(t){return t},"fantasy-land/filter":function(t){return this},"fantasy-land/map":function(t){return this},"fantasy-land/ap":function(t){return this},"fantasy-land/chain":function(t){return this},"fantasy-land/alt":function(t){return t},"fantasy-land/reduce":function(t,n){return n},"fantasy-land/traverse":function(t,n){return r.of(t,this)},"fantasy-land/extend":function(t){return this}},c={constructor:i,isNothing:!1,isJust:!0,"@@show":m,"fantasy-land/filter":function(t){return t(this.value)?this:l},"fantasy-land/map":function(t){return p(t(this.value))},"fantasy-land/ap":function(t){return t.isJust?p(t.value(this.value)):t},"fantasy-land/chain":function(t){return t(this.value)},"fantasy-land/alt":function(t){return this},"fantasy-land/reduce":function(t,n){return t(n,this.value)},"fantasy-land/traverse":function(t,n){return r.map(p,n(this.value))},"fantasy-land/extend":function(t){return p(t(this))}},s="object"==typeof t&&"object"==typeof t.exports?e(14):{},f=null!=s.inspect&&"symbol"==typeof s.inspect.custom?s.inspect.custom:"inspect";a[f]=y,c[f]=m;var l=i.Nothing=Object.create(a),p=i.Just=function(t){var n=Object.create(c);return r.Setoid.test(t)&&(n["fantasy-land/equals"]=g,r.Ord.test(t)&&(n["fantasy-land/lte"]=v)),r.Semigroup.test(t)&&(n["fantasy-land/concat"]=_),n.value=t,n};function h(t){return{tag:h,value:t}}function d(t){return{tag:d,value:t}}function y(){return"Nothing"}function m(){return"Just ("+n(this.value)+")"}function g(t){return t.isJust&&r.equals(this.value,t.value)}function v(t){return t.isJust&&r.lte(this.value,t.value)}function _(t){return t.isJust?p(r.concat(this.value,t.value)):this}return i["@@type"]="sanctuary-maybe/Maybe@1",i["fantasy-land/empty"]=function(){return l},i["fantasy-land/of"]=p,i["fantasy-land/chainRec"]=function(t,n){for(var e=h(n);e.tag===h;){var r=t(h,d,e.value);if(r.isNothing)return r;e=r.value}return p(e.value)},i["fantasy-land/zero"]=function(){return l},i})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i(e(39)):null!=e(0)?(o=[e(39)],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeClasses=i(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var n=__doctest.require("./test/List"),e=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),n.Nil,n.Cons,e.Nothing,e.Just}function r(t){return function(n){return t.concat(n)}}function o(t){return function(n){return t}}function u(t,n){Object.keys(t).forEach(n,t)}function i(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function a(t){return t}function c(t){return function(n){return[t,n]}}function s(n,e){return typeof n==typeof e&&t(n)===t(e)}function f(t){return{value:t,done:!1}}function l(t){return{value:t,done:!0}}function p(t,n,e,r){if(!(this instanceof p))return new p(t,n,e,r);this.name=t,this.url=n,this.test=function(t){return e.every(function(n){return n.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var h="Constructor",d="Value";function y(t,n,e){for(var r=e,o=0;o<n.length;o+=1){var u=n[o];if(null==r||!t&&!i(u,r))return null;r=r[u]}return"function"==typeof r?r:null}function m(t,n){return y(!0,t,n)}function g(t){return y(!1,t,Y)}var v=i("name",function(){})?function(t){return t.name}:function(t){var n=/function (\w*)/.exec(t);return null==n?"":n[1]};function _(n,e,r){function o(n){var e="fantasy-land/"+n;return r[n]===h?function(t){var n=m([e],t);return null==n&&"function"==typeof t?g([v(t),e]):n}:function(n){var r=null;return null!=n&&null!=n.constructor&&n.constructor.prototype===n||(r=m([e],n)),null==r&&(r=g([t(n),"prototype",e])),r&&r.bind(n)}}var u=Object.keys(r),i=p("sanctuary-type-classes/"+n,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+n,e,function(t){return u.every(function(n){var e=r[n]===h?t.constructor:t;return null!=o(n)(e)})});return i.methods=u.reduce(function(t,n){return t[n]=o(n),t},{}),i}var E=_("Setoid",[],{equals:d}),b=_("Ord",[E],{lte:d}),T=_("Semigroupoid",[],{compose:d}),A=_("Category",[T],{id:h}),R=_("Semigroup",[],{concat:d}),S=_("Monoid",[R],{empty:h}),M=_("Group",[S],{invert:d}),N=_("Filterable",[],{filter:d}),O=_("Functor",[],{map:d}),I=_("Bifunctor",[O],{bimap:d}),F=_("Profunctor",[O],{promap:d}),x=_("Apply",[O],{ap:d}),L=_("Applicative",[x],{of:h}),w=_("Chain",[x],{chain:d}),C=_("ChainRec",[w],{chainRec:h}),P=_("Monad",[L,w],{}),U=_("Alt",[O],{alt:d}),j=_("Plus",[U],{zero:h}),B=_("Alternative",[L,j],{}),D=_("Foldable",[],{reduce:d}),k=_("Traversable",[O,D],{traverse:d}),V=_("Extend",[O],{extend:d}),G=_("Comonad",[V],{extract:d}),q=_("Contravariant",[],{contramap:d});function H(t){return[t]}function X(t){if(t.length!==this.length)return!1;for(var n=0;n<this.length;n+=1)if(!K(this[n],t[n]))return!1;return!0}function W(t){for(var n=0;;n+=1){if(n===this.length)return!0;if(n===t.length)return!1;if(!K(this[n],t[n]))return Z(this[n],t[n])}}function z(t){return this.concat(t)}function $(t){var n={};function e(t){n[t]=this[t]}return u(this,e),u(t,e),n}var Y={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return K(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return Z(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":H,"fantasy-land/chainRec":function(t,n){for(var e=[],r={},o={head:n,tail:r};o!==r;){for(var u=r,i=t(f,l,o.head),a=0;a<i.length;a+=1){var c=i[a];c.done?e.push(c.value):u={head:c.value,tail:u}}for(o=o.tail;u!==r;)o={head:u.head,tail:o},u=u.tail}return e},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":X,"fantasy-land/lte":W,"fantasy-land/concat":z,"fantasy-land/filter":function(t){return this.filter(function(n){return t(n)})},"fantasy-land/map":function(t){return this.map(function(n){return t(n)})},"fantasy-land/ap":function(t){for(var n=[],e=0;e<t.length;e+=1)for(var r=0;r<this.length;r+=1)n.push(t[e](this[r]));return n},"fantasy-land/chain":function(t){for(var n=[],e=0;e<this.length;e+=1)for(var r=0,o=t(this[e]);r<o.length;r+=1)n.push(o[r]);return n},"fantasy-land/alt":z,"fantasy-land/reduce":function(t,n){for(var e=n,r=0;r<this.length;r+=1)e=t(e,this[r]);return e},"fantasy-land/traverse":function(t,n){var e=this;function o(u,i){switch(i){case 0:return it(t,[]);case 2:return ut(c,n(e[u]),n(e[u+1]));default:var a=2*Math.floor(i/4);return ut(r,o(u,a),o(u+a,i-a))}}return this.length%2==1?ut(r,et(H,n(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(n,e,r){return t(r.slice(e))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return X.call(this,t)},"fantasy-land/lte":function(t){return W.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return K(this.name,t.name)&&K(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var n=this,e=Object.keys(this).sort();return K(e,Object.keys(t).sort())&&e.every(function(e){return K(n[e],t[e])})},"fantasy-land/lte":function(t){for(var n=Object.keys(this).sort(),e=Object.keys(t).sort();;){if(0===n.length)return!0;if(0===e.length)return!1;var r=n.shift(),o=e.shift();if(r<o)return!0;if(r>o)return!1;if(!K(this[r],t[r]))return Z(this[r],t[r])}},"fantasy-land/concat":$,"fantasy-land/filter":function(t){var n={};return u(this,function(e){t(this[e])&&(n[e]=this[e])}),n},"fantasy-land/map":function(t){var n={};return u(this,function(e){n[e]=t(this[e])}),n},"fantasy-land/ap":function(t){var n={};return u(this,function(e){i(e,t)&&(n[e]=t[e](this[e]))}),n},"fantasy-land/alt":$,"fantasy-land/reduce":function(t,n){var e=this;return Object.keys(this).sort().reduce(function(n,r){return t(n,e[r])},n)},"fantasy-land/traverse":function(t,n){var e=this;return Object.keys(this).reduce(function(t,r){return ut(function(t){return function(n){var e={};return e[r]=n,$.call(t,e)}},t,n(e[r]))},it(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(n){return t}},"fantasy-land/chainRec":function(t,n){return function(e){for(var r=f(n);!r.done;)r=t(f,l,r.value)(e);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/map":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/promap":function(t,n){var e=this;return function(r){return n(e(t(r)))}},"fantasy-land/ap":function(t){var n=this;return function(e){return t(e)(n(e))}},"fantasy-land/chain":function(t){var n=this;return function(e){return t(n(e))(e)}},"fantasy-land/extend":function(t){var n=this;return function(e){return t(function(t){return n(Q(e,t))})}},"fantasy-land/contramap":function(t){var n=this;return function(e){return n(t(e))}}}}},K=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return!0;t.push([n,e]);try{return E.test(n)&&E.test(e)&&E.methods.equals(n)(e)}finally{t.pop()}}}();function J(t,n){return s(t,n)&&!Z(n,t)}var Z=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return K(n,e);t.push([n,e]);try{return b.test(n)&&b.test(e)&&b.methods.lte(n)(e)}finally{t.pop()}}}();function Q(t,n){return R.methods.concat(t)(n)}function tt(t){return S.methods.empty(t)()}function nt(t,n){return N.methods.filter(n)(t)}function et(t,n){return O.methods.map(n)(t)}function rt(t,n,e){return I.methods.bimap(e)(t,n)}function ot(t,n){return x.methods.ap(n)(t)}function ut(t,n,e){return ot(et(t,n),e)}function it(t,n){return L.methods.of(t)(n)}function at(t,n){return w.methods.chain(n)(t)}function ct(t,n,e){return D.methods.reduce(e)(t,n)}function st(t,n){var e=ct(function(n,e){return n.push({idx:n.length,x:e,fx:t(e)}),n},[],n),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,n){return t<=n||t!=t};case"string":return function(t,n){return t<=n};default:return Z}}(e[0]);if(e.sort(function(t,n){return r(t.fx,n.fx)?r(n.fx,t.fx)?t.idx-n.idx:-1:1}),Array.isArray(n)){for(var o=0;o<e.length;o+=1)e[o]=e[o].x;return e}var u=n.constructor,i=tt(u);for(o=0;o<e.length;o+=1)i=Q(i,it(u,e[o].x));return i}function ft(t,n,e){return k.methods.traverse(e)(t,n)}function lt(t,n){return V.methods.extend(n)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:R,Monoid:S,Group:M,Filterable:N,Functor:O,Bifunctor:I,Profunctor:F,Apply:x,Applicative:L,Chain:w,ChainRec:C,Monad:P,Alt:U,Plus:j,Alternative:B,Foldable:D,Traversable:k,Extend:V,Comonad:G,Contravariant:q,equals:K,lt:J,lte:Z,gt:function(t,n){return J(n,t)},gte:function(t,n){return Z(n,t)},min:function(t,n){return Z(t,n)?t:n},max:function(t,n){return Z(t,n)?n:t},compose:function(t,n){return T.methods.compose(n)(t)},id:function(t){return A.methods.id(t)()},concat:Q,empty:tt,invert:function(t){return M.methods.invert(t)()},filter:nt,reject:function(t,n){return nt(function(n){return!t(n)},n)},map:et,flip:function(t,n){return O.methods.map(t)(function(t){return function(n){return n(t)}}(n))},bimap:rt,mapLeft:function(t,n){return rt(t,a,n)},promap:function(t,n,e){return F.methods.promap(e)(t,n)},ap:ot,lift2:ut,lift3:function(t,n,e,r){return ot(ot(et(t,n),e),r)},apFirst:function(t,n){return ut(o,t,n)},apSecond:function(t,n){return ut(o(a),t,n)},of:it,append:function(t,n){return Q(n,it(n.constructor,t))},prepend:function(t,n){return Q(it(n.constructor,t),n)},chain:at,join:function(t){return at(a,t)},chainRec:function(t,n,e){return C.methods.chainRec(t)(n,e)},alt:function(t,n){return U.methods.alt(t)(n)},zero:function(t){return j.methods.zero(t)()},reduce:ct,size:function(t){return Array.isArray(t)?t.length:ct(function(t,n){return t+1},0,t)},elem:function(t,n){return ct(function(n,e){return n||K(t,e)},!1,n)},foldMap:function(t,n,e){return ct(function(t,e){return Q(t,n(e))},tt(t),e)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var n=t.constructor;return ct(function(t,e){return Q(it(n,e),t)},tt(n),t)},sort:function(t){return st(a,t)},sortBy:st,takeWhile:function(t,n){var e=!0;return nt(function(n){return e=e&&t(n)},n)},dropWhile:function(t,n){var e=!1;return nt(function(n){return e=e||!t(n)},n)},traverse:ft,sequence:function(t,n){return ft(t,a,n)},extend:lt,duplicate:function(t){return lt(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,n){return q.methods.contramap(n)(t)}}})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i():null!=e(0)?(o=[],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeIdentifiers=i()}(function(){"use strict";var t="@@type";return function(n){return null!=n&&null!=n.constructor&&n.constructor.prototype!==n&&"string"==typeof n.constructor[t]?n.constructor[t]:Object.prototype.toString.call(n).slice("[object ".length,-"]".length)}})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i(e(3),e(41)):null!=e(0)?(o=[e(3),e(41)],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryPair=i(self.sanctuaryShow,self.sanctuaryTypeClasses)}(function(n,r){"use strict";if("undefined"!=typeof __doctest){var o=__doctest.require("sanctuary-def"),u=__doctest.require("sanctuary-type-identifiers");!function(){var t=__doctest.require("sanctuary"),n=o.BinaryType("sanctuary-pair/Pair")("")(function(t){return u(t)===c["@@type"]})(function(t){return[t.fst]})(function(t){return[t.snd]}),e=r.concat(t.env,[o.TypeClass,n(o.Unknown)(o.Unknown)]);t.create({checkTypes:!0,env:e})}()}var i={constructor:c,"@@show":s,"fantasy-land/compose":function(t){return c(this.fst)(t.snd)},"fantasy-land/map":function(t){return c(this.fst)(t(this.snd))},"fantasy-land/bimap":function(t,n){return c(t(this.fst))(n(this.snd))},"fantasy-land/reduce":function(t,n){return t(n,this.snd)},"fantasy-land/traverse":function(t,n){return r.map(c(this.fst),n(this.snd))},"fantasy-land/extend":function(t){return c(this.fst)(t(this))},"fantasy-land/extract":function(){return this.snd}},a="object"==typeof t&&"object"==typeof t.exports?e(14):{};function c(t){return function(n){var e=Object.create(i);return r.Setoid.test(t)&&r.Setoid.test(n)&&(e["fantasy-land/equals"]=f,r.Ord.test(t)&&r.Ord.test(n)&&(e["fantasy-land/lte"]=l)),r.Semigroup.test(t)&&(r.Semigroup.test(n)&&(e["fantasy-land/concat"]=p),e["fantasy-land/ap"]=h,e["fantasy-land/chain"]=d),e.fst=t,e.snd=n,e}}function s(){return"Pair ("+n(this.fst)+") ("+n(this.snd)+")"}function f(t){return r.equals(this.fst,t.fst)&&r.equals(this.snd,t.snd)}function l(t){return r.equals(this.fst,t.fst)?r.lte(this.snd,t.snd):r.lte(this.fst,t.fst)}function p(t){return c(r.concat(this.fst,t.fst))(r.concat(this.snd,t.snd))}function h(t){return c(r.concat(t.fst,this.fst))(t.snd(this.snd))}function d(t){var n=t(this.snd);return c(r.concat(this.fst,n.fst))(n.snd)}return i[null!=a.inspect&&"symbol"==typeof a.inspect.custom?a.inspect.custom:"inspect"]=s,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(i[Symbol.iterator]=function(){return[this.fst,this.snd][Symbol.iterator]()}),c.fst=function(t){return t.fst},c.snd=function(t){return t.snd},c.swap=function(t){return c(t.snd)(t.fst)},c["@@type"]="sanctuary-pair/Pair@1",c})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i(e(42)):null!=e(0)?(o=[e(42)],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeClasses=i(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var n=__doctest.require("./test/List"),e=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),n.Nil,n.Cons,e.Nothing,e.Just}function r(t){return function(n){return t.concat(n)}}function o(t){return function(n){return t}}function u(t,n){Object.keys(t).forEach(n,t)}function i(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function a(t){return t}function c(t){return function(n){return[t,n]}}function s(n,e){return typeof n==typeof e&&t(n)===t(e)}function f(t){return{value:t,done:!1}}function l(t){return{value:t,done:!0}}function p(t,n,e,r){if(!(this instanceof p))return new p(t,n,e,r);this.name=t,this.url=n,this.test=function(t){return e.every(function(n){return n.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var h="Constructor",d="Value";function y(t,n,e){for(var r=e,o=0;o<n.length;o+=1){var u=n[o];if(null==r||!t&&!i(u,r))return null;r=r[u]}return"function"==typeof r?r:null}function m(t,n){return y(!0,t,n)}function g(t){return y(!1,t,Y)}var v=i("name",function(){})?function(t){return t.name}:function(t){var n=/function (\w*)/.exec(t);return null==n?"":n[1]};function _(n,e,r){function o(n){var e="fantasy-land/"+n;return r[n]===h?function(t){var n=m([e],t);return null==n&&"function"==typeof t?g([v(t),e]):n}:function(n){var r=null;return null!=n&&null!=n.constructor&&n.constructor.prototype===n||(r=m([e],n)),null==r&&(r=g([t(n),"prototype",e])),r&&r.bind(n)}}var u=Object.keys(r),i=p("sanctuary-type-classes/"+n,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+n,e,function(t){return u.every(function(n){var e=r[n]===h?t.constructor:t;return null!=o(n)(e)})});return i.methods=u.reduce(function(t,n){return t[n]=o(n),t},{}),i}var E=_("Setoid",[],{equals:d}),b=_("Ord",[E],{lte:d}),T=_("Semigroupoid",[],{compose:d}),A=_("Category",[T],{id:h}),R=_("Semigroup",[],{concat:d}),S=_("Monoid",[R],{empty:h}),M=_("Group",[S],{invert:d}),N=_("Filterable",[],{filter:d}),O=_("Functor",[],{map:d}),I=_("Bifunctor",[O],{bimap:d}),F=_("Profunctor",[O],{promap:d}),x=_("Apply",[O],{ap:d}),L=_("Applicative",[x],{of:h}),w=_("Chain",[x],{chain:d}),C=_("ChainRec",[w],{chainRec:h}),P=_("Monad",[L,w],{}),U=_("Alt",[O],{alt:d}),j=_("Plus",[U],{zero:h}),B=_("Alternative",[L,j],{}),D=_("Foldable",[],{reduce:d}),k=_("Traversable",[O,D],{traverse:d}),V=_("Extend",[O],{extend:d}),G=_("Comonad",[V],{extract:d}),q=_("Contravariant",[],{contramap:d});function H(t){return[t]}function X(t){if(t.length!==this.length)return!1;for(var n=0;n<this.length;n+=1)if(!K(this[n],t[n]))return!1;return!0}function W(t){for(var n=0;;n+=1){if(n===this.length)return!0;if(n===t.length)return!1;if(!K(this[n],t[n]))return Z(this[n],t[n])}}function z(t){return this.concat(t)}function $(t){var n={};function e(t){n[t]=this[t]}return u(this,e),u(t,e),n}var Y={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return K(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return Z(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":H,"fantasy-land/chainRec":function(t,n){for(var e=[],r={},o={head:n,tail:r};o!==r;){for(var u=r,i=t(f,l,o.head),a=0;a<i.length;a+=1){var c=i[a];c.done?e.push(c.value):u={head:c.value,tail:u}}for(o=o.tail;u!==r;)o={head:u.head,tail:o},u=u.tail}return e},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":X,"fantasy-land/lte":W,"fantasy-land/concat":z,"fantasy-land/filter":function(t){return this.filter(function(n){return t(n)})},"fantasy-land/map":function(t){return this.map(function(n){return t(n)})},"fantasy-land/ap":function(t){for(var n=[],e=0;e<t.length;e+=1)for(var r=0;r<this.length;r+=1)n.push(t[e](this[r]));return n},"fantasy-land/chain":function(t){for(var n=[],e=0;e<this.length;e+=1)for(var r=0,o=t(this[e]);r<o.length;r+=1)n.push(o[r]);return n},"fantasy-land/alt":z,"fantasy-land/reduce":function(t,n){for(var e=n,r=0;r<this.length;r+=1)e=t(e,this[r]);return e},"fantasy-land/traverse":function(t,n){var e=this;function o(u,i){switch(i){case 0:return it(t,[]);case 2:return ut(c,n(e[u]),n(e[u+1]));default:var a=2*Math.floor(i/4);return ut(r,o(u,a),o(u+a,i-a))}}return this.length%2==1?ut(r,et(H,n(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(n,e,r){return t(r.slice(e))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return X.call(this,t)},"fantasy-land/lte":function(t){return W.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return K(this.name,t.name)&&K(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var n=this,e=Object.keys(this).sort();return K(e,Object.keys(t).sort())&&e.every(function(e){return K(n[e],t[e])})},"fantasy-land/lte":function(t){for(var n=Object.keys(this).sort(),e=Object.keys(t).sort();;){if(0===n.length)return!0;if(0===e.length)return!1;var r=n.shift(),o=e.shift();if(r<o)return!0;if(r>o)return!1;if(!K(this[r],t[r]))return Z(this[r],t[r])}},"fantasy-land/concat":$,"fantasy-land/filter":function(t){var n={};return u(this,function(e){t(this[e])&&(n[e]=this[e])}),n},"fantasy-land/map":function(t){var n={};return u(this,function(e){n[e]=t(this[e])}),n},"fantasy-land/ap":function(t){var n={};return u(this,function(e){i(e,t)&&(n[e]=t[e](this[e]))}),n},"fantasy-land/alt":$,"fantasy-land/reduce":function(t,n){var e=this;return Object.keys(this).sort().reduce(function(n,r){return t(n,e[r])},n)},"fantasy-land/traverse":function(t,n){var e=this;return Object.keys(this).reduce(function(t,r){return ut(function(t){return function(n){var e={};return e[r]=n,$.call(t,e)}},t,n(e[r]))},it(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(n){return t}},"fantasy-land/chainRec":function(t,n){return function(e){for(var r=f(n);!r.done;)r=t(f,l,r.value)(e);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/map":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/promap":function(t,n){var e=this;return function(r){return n(e(t(r)))}},"fantasy-land/ap":function(t){var n=this;return function(e){return t(e)(n(e))}},"fantasy-land/chain":function(t){var n=this;return function(e){return t(n(e))(e)}},"fantasy-land/extend":function(t){var n=this;return function(e){return t(function(t){return n(Q(e,t))})}},"fantasy-land/contramap":function(t){var n=this;return function(e){return n(t(e))}}}}},K=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return!0;t.push([n,e]);try{return E.test(n)&&E.test(e)&&E.methods.equals(n)(e)}finally{t.pop()}}}();function J(t,n){return s(t,n)&&!Z(n,t)}var Z=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return K(n,e);t.push([n,e]);try{return b.test(n)&&b.test(e)&&b.methods.lte(n)(e)}finally{t.pop()}}}();function Q(t,n){return R.methods.concat(t)(n)}function tt(t){return S.methods.empty(t)()}function nt(t,n){return N.methods.filter(n)(t)}function et(t,n){return O.methods.map(n)(t)}function rt(t,n,e){return I.methods.bimap(e)(t,n)}function ot(t,n){return x.methods.ap(n)(t)}function ut(t,n,e){return ot(et(t,n),e)}function it(t,n){return L.methods.of(t)(n)}function at(t,n){return w.methods.chain(n)(t)}function ct(t,n,e){return D.methods.reduce(e)(t,n)}function st(t,n){var e=ct(function(n,e){return n.push({idx:n.length,x:e,fx:t(e)}),n},[],n),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,n){return t<=n||t!=t};case"string":return function(t,n){return t<=n};default:return Z}}(e[0]);if(e.sort(function(t,n){return r(t.fx,n.fx)?r(n.fx,t.fx)?t.idx-n.idx:-1:1}),Array.isArray(n)){for(var o=0;o<e.length;o+=1)e[o]=e[o].x;return e}var u=n.constructor,i=tt(u);for(o=0;o<e.length;o+=1)i=Q(i,it(u,e[o].x));return i}function ft(t,n,e){return k.methods.traverse(e)(t,n)}function lt(t,n){return V.methods.extend(n)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:R,Monoid:S,Group:M,Filterable:N,Functor:O,Bifunctor:I,Profunctor:F,Apply:x,Applicative:L,Chain:w,ChainRec:C,Monad:P,Alt:U,Plus:j,Alternative:B,Foldable:D,Traversable:k,Extend:V,Comonad:G,Contravariant:q,equals:K,lt:J,lte:Z,gt:function(t,n){return J(n,t)},gte:function(t,n){return Z(n,t)},min:function(t,n){return Z(t,n)?t:n},max:function(t,n){return Z(t,n)?n:t},compose:function(t,n){return T.methods.compose(n)(t)},id:function(t){return A.methods.id(t)()},concat:Q,empty:tt,invert:function(t){return M.methods.invert(t)()},filter:nt,reject:function(t,n){return nt(function(n){return!t(n)},n)},map:et,flip:function(t,n){return O.methods.map(t)(function(t){return function(n){return n(t)}}(n))},bimap:rt,mapLeft:function(t,n){return rt(t,a,n)},promap:function(t,n,e){return F.methods.promap(e)(t,n)},ap:ot,lift2:ut,lift3:function(t,n,e,r){return ot(ot(et(t,n),e),r)},apFirst:function(t,n){return ut(o,t,n)},apSecond:function(t,n){return ut(o(a),t,n)},of:it,append:function(t,n){return Q(n,it(n.constructor,t))},prepend:function(t,n){return Q(it(n.constructor,t),n)},chain:at,join:function(t){return at(a,t)},chainRec:function(t,n,e){return C.methods.chainRec(t)(n,e)},alt:function(t,n){return U.methods.alt(t)(n)},zero:function(t){return j.methods.zero(t)()},reduce:ct,size:function(t){return Array.isArray(t)?t.length:ct(function(t,n){return t+1},0,t)},elem:function(t,n){return ct(function(n,e){return n||K(t,e)},!1,n)},foldMap:function(t,n,e){return ct(function(t,e){return Q(t,n(e))},tt(t),e)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var n=t.constructor;return ct(function(t,e){return Q(it(n,e),t)},tt(n),t)},sort:function(t){return st(a,t)},sortBy:st,takeWhile:function(t,n){var e=!0;return nt(function(n){return e=e&&t(n)},n)},dropWhile:function(t,n){var e=!1;return nt(function(n){return e=e||!t(n)},n)},traverse:ft,sequence:function(t,n){return ft(t,a,n)},extend:lt,duplicate:function(t){return lt(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,n){return q.methods.contramap(n)(t)}}})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i():null!=e(0)?(o=[],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeIdentifiers=i()}(function(){"use strict";var t="@@type";return function(n){return null!=n&&null!=n.constructor&&n.constructor.prototype!==n&&"string"==typeof n.constructor[t]?n.constructor[t]:Object.prototype.toString.call(n).slice("[object ".length,-"]".length)}})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i(e(44)):null!=e(0)?(o=[e(44)],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeClasses=i(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var n=__doctest.require("./test/List"),e=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),n.Nil,n.Cons,e.Nothing,e.Just}function r(t){return function(n){return t.concat(n)}}function o(t){return function(n){return t}}function u(t,n){Object.keys(t).forEach(n,t)}function i(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function a(t){return t}function c(t){return function(n){return[t,n]}}function s(n,e){return typeof n==typeof e&&t(n)===t(e)}function f(t){return{value:t,done:!1}}function l(t){return{value:t,done:!0}}function p(t,n,e,r){if(!(this instanceof p))return new p(t,n,e,r);this.name=t,this.url=n,this.test=function(t){return e.every(function(n){return n.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var h="Constructor",d="Value";function y(t,n,e){for(var r=e,o=0;o<n.length;o+=1){var u=n[o];if(null==r||!t&&!i(u,r))return null;r=r[u]}return"function"==typeof r?r:null}function m(t,n){return y(!0,t,n)}function g(t){return y(!1,t,Y)}var v=i("name",function(){})?function(t){return t.name}:function(t){var n=/function (\w*)/.exec(t);return null==n?"":n[1]};function _(n,e,r){function o(n){var e="fantasy-land/"+n;return r[n]===h?function(t){var n=m([e],t);return null==n&&"function"==typeof t?g([v(t),e]):n}:function(n){var r=null;return null!=n&&null!=n.constructor&&n.constructor.prototype===n||(r=m([e],n)),null==r&&(r=g([t(n),"prototype",e])),r&&r.bind(n)}}var u=Object.keys(r),i=p("sanctuary-type-classes/"+n,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+n,e,function(t){return u.every(function(n){var e=r[n]===h?t.constructor:t;return null!=o(n)(e)})});return i.methods=u.reduce(function(t,n){return t[n]=o(n),t},{}),i}var E=_("Setoid",[],{equals:d}),b=_("Ord",[E],{lte:d}),T=_("Semigroupoid",[],{compose:d}),A=_("Category",[T],{id:h}),R=_("Semigroup",[],{concat:d}),S=_("Monoid",[R],{empty:h}),M=_("Group",[S],{invert:d}),N=_("Filterable",[],{filter:d}),O=_("Functor",[],{map:d}),I=_("Bifunctor",[O],{bimap:d}),F=_("Profunctor",[O],{promap:d}),x=_("Apply",[O],{ap:d}),L=_("Applicative",[x],{of:h}),w=_("Chain",[x],{chain:d}),C=_("ChainRec",[w],{chainRec:h}),P=_("Monad",[L,w],{}),U=_("Alt",[O],{alt:d}),j=_("Plus",[U],{zero:h}),B=_("Alternative",[L,j],{}),D=_("Foldable",[],{reduce:d}),k=_("Traversable",[O,D],{traverse:d}),V=_("Extend",[O],{extend:d}),G=_("Comonad",[V],{extract:d}),q=_("Contravariant",[],{contramap:d});function H(t){return[t]}function X(t){if(t.length!==this.length)return!1;for(var n=0;n<this.length;n+=1)if(!K(this[n],t[n]))return!1;return!0}function W(t){for(var n=0;;n+=1){if(n===this.length)return!0;if(n===t.length)return!1;if(!K(this[n],t[n]))return Z(this[n],t[n])}}function z(t){return this.concat(t)}function $(t){var n={};function e(t){n[t]=this[t]}return u(this,e),u(t,e),n}var Y={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return K(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return Z(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?K(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":H,"fantasy-land/chainRec":function(t,n){for(var e=[],r={},o={head:n,tail:r};o!==r;){for(var u=r,i=t(f,l,o.head),a=0;a<i.length;a+=1){var c=i[a];c.done?e.push(c.value):u={head:c.value,tail:u}}for(o=o.tail;u!==r;)o={head:u.head,tail:o},u=u.tail}return e},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":X,"fantasy-land/lte":W,"fantasy-land/concat":z,"fantasy-land/filter":function(t){return this.filter(function(n){return t(n)})},"fantasy-land/map":function(t){return this.map(function(n){return t(n)})},"fantasy-land/ap":function(t){for(var n=[],e=0;e<t.length;e+=1)for(var r=0;r<this.length;r+=1)n.push(t[e](this[r]));return n},"fantasy-land/chain":function(t){for(var n=[],e=0;e<this.length;e+=1)for(var r=0,o=t(this[e]);r<o.length;r+=1)n.push(o[r]);return n},"fantasy-land/alt":z,"fantasy-land/reduce":function(t,n){for(var e=n,r=0;r<this.length;r+=1)e=t(e,this[r]);return e},"fantasy-land/traverse":function(t,n){var e=this;function o(u,i){switch(i){case 0:return it(t,[]);case 2:return ut(c,n(e[u]),n(e[u+1]));default:var a=2*Math.floor(i/4);return ut(r,o(u,a),o(u+a,i-a))}}return this.length%2==1?ut(r,et(H,n(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(n,e,r){return t(r.slice(e))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return X.call(this,t)},"fantasy-land/lte":function(t){return W.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return K(this.name,t.name)&&K(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var n=this,e=Object.keys(this).sort();return K(e,Object.keys(t).sort())&&e.every(function(e){return K(n[e],t[e])})},"fantasy-land/lte":function(t){for(var n=Object.keys(this).sort(),e=Object.keys(t).sort();;){if(0===n.length)return!0;if(0===e.length)return!1;var r=n.shift(),o=e.shift();if(r<o)return!0;if(r>o)return!1;if(!K(this[r],t[r]))return Z(this[r],t[r])}},"fantasy-land/concat":$,"fantasy-land/filter":function(t){var n={};return u(this,function(e){t(this[e])&&(n[e]=this[e])}),n},"fantasy-land/map":function(t){var n={};return u(this,function(e){n[e]=t(this[e])}),n},"fantasy-land/ap":function(t){var n={};return u(this,function(e){i(e,t)&&(n[e]=t[e](this[e]))}),n},"fantasy-land/alt":$,"fantasy-land/reduce":function(t,n){var e=this;return Object.keys(this).sort().reduce(function(n,r){return t(n,e[r])},n)},"fantasy-land/traverse":function(t,n){var e=this;return Object.keys(this).reduce(function(t,r){return ut(function(t){return function(n){var e={};return e[r]=n,$.call(t,e)}},t,n(e[r]))},it(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(n){return t}},"fantasy-land/chainRec":function(t,n){return function(e){for(var r=f(n);!r.done;)r=t(f,l,r.value)(e);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/map":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/promap":function(t,n){var e=this;return function(r){return n(e(t(r)))}},"fantasy-land/ap":function(t){var n=this;return function(e){return t(e)(n(e))}},"fantasy-land/chain":function(t){var n=this;return function(e){return t(n(e))(e)}},"fantasy-land/extend":function(t){var n=this;return function(e){return t(function(t){return n(Q(e,t))})}},"fantasy-land/contramap":function(t){var n=this;return function(e){return n(t(e))}}}}},K=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return!0;t.push([n,e]);try{return E.test(n)&&E.test(e)&&E.methods.equals(n)(e)}finally{t.pop()}}}();function J(t,n){return s(t,n)&&!Z(n,t)}var Z=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return K(n,e);t.push([n,e]);try{return b.test(n)&&b.test(e)&&b.methods.lte(n)(e)}finally{t.pop()}}}();function Q(t,n){return R.methods.concat(t)(n)}function tt(t){return S.methods.empty(t)()}function nt(t,n){return N.methods.filter(n)(t)}function et(t,n){return O.methods.map(n)(t)}function rt(t,n,e){return I.methods.bimap(e)(t,n)}function ot(t,n){return x.methods.ap(n)(t)}function ut(t,n,e){return ot(et(t,n),e)}function it(t,n){return L.methods.of(t)(n)}function at(t,n){return w.methods.chain(n)(t)}function ct(t,n,e){return D.methods.reduce(e)(t,n)}function st(t,n){var e=ct(function(n,e){return n.push({idx:n.length,x:e,fx:t(e)}),n},[],n),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,n){return t<=n||t!=t};case"string":return function(t,n){return t<=n};default:return Z}}(e[0]);if(e.sort(function(t,n){return r(t.fx,n.fx)?r(n.fx,t.fx)?t.idx-n.idx:-1:1}),Array.isArray(n)){for(var o=0;o<e.length;o+=1)e[o]=e[o].x;return e}var u=n.constructor,i=tt(u);for(o=0;o<e.length;o+=1)i=Q(i,it(u,e[o].x));return i}function ft(t,n,e){return k.methods.traverse(e)(t,n)}function lt(t,n){return V.methods.extend(n)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:R,Monoid:S,Group:M,Filterable:N,Functor:O,Bifunctor:I,Profunctor:F,Apply:x,Applicative:L,Chain:w,ChainRec:C,Monad:P,Alt:U,Plus:j,Alternative:B,Foldable:D,Traversable:k,Extend:V,Comonad:G,Contravariant:q,equals:K,lt:J,lte:Z,gt:function(t,n){return J(n,t)},gte:function(t,n){return Z(n,t)},min:function(t,n){return Z(t,n)?t:n},max:function(t,n){return Z(t,n)?n:t},compose:function(t,n){return T.methods.compose(n)(t)},id:function(t){return A.methods.id(t)()},concat:Q,empty:tt,invert:function(t){return M.methods.invert(t)()},filter:nt,reject:function(t,n){return nt(function(n){return!t(n)},n)},map:et,flip:function(t,n){return O.methods.map(t)(function(t){return function(n){return n(t)}}(n))},bimap:rt,mapLeft:function(t,n){return rt(t,a,n)},promap:function(t,n,e){return F.methods.promap(e)(t,n)},ap:ot,lift2:ut,lift3:function(t,n,e,r){return ot(ot(et(t,n),e),r)},apFirst:function(t,n){return ut(o,t,n)},apSecond:function(t,n){return ut(o(a),t,n)},of:it,append:function(t,n){return Q(n,it(n.constructor,t))},prepend:function(t,n){return Q(it(n.constructor,t),n)},chain:at,join:function(t){return at(a,t)},chainRec:function(t,n,e){return C.methods.chainRec(t)(n,e)},alt:function(t,n){return U.methods.alt(t)(n)},zero:function(t){return j.methods.zero(t)()},reduce:ct,size:function(t){return Array.isArray(t)?t.length:ct(function(t,n){return t+1},0,t)},elem:function(t,n){return ct(function(n,e){return n||K(t,e)},!1,n)},foldMap:function(t,n,e){return ct(function(t,e){return Q(t,n(e))},tt(t),e)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var n=t.constructor;return ct(function(t,e){return Q(it(n,e),t)},tt(n),t)},sort:function(t){return st(a,t)},sortBy:st,takeWhile:function(t,n){var e=!0;return nt(function(n){return e=e&&t(n)},n)},dropWhile:function(t,n){var e=!1;return nt(function(n){return e=e||!t(n)},n)},traverse:ft,sequence:function(t,n){return ft(t,a,n)},extend:lt,duplicate:function(t){return lt(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,n){return q.methods.contramap(n)(t)}}})},function(t,n,e){var r,o,u;!function(i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=i():null!=e(0)?(o=[],void 0===(u="function"==typeof(r=i)?r.apply(n,o):r)||(t.exports=u)):self.sanctuaryTypeIdentifiers=i()}(function(){"use strict";var t="@@type";return function(n){return null!=n&&null!=n.constructor&&n.constructor.prototype!==n&&"string"==typeof n.constructor[t]?n.constructor[t]:Object.prototype.toString.call(n).slice("[object ".length,-"]".length)}})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MESSAGE="message",function(t){t[t.INIT=0]="INIT",t[t.READY=1]="READY"}(n.WorkerLoaderCommand||(n.WorkerLoaderCommand={})),function(t){t[t.SCENE_PING=0]="SCENE_PING",t[t.SCENE_PONG=1]="SCENE_PONG",t[t.TICK=2]="TICK",t[t.RENDER=3]="RENDER"}(n.WorkerCommand||(n.WorkerCommand={}))},function(t,n,e){"use strict";var r=function(){function t(){}return t.value=new t,t}();t.exports={RProxy:r}},function(t,n,e){"use strict";var r=e(79),o=(e(25),e(16)),u=e(17),i=e(18),a=(e(12),e(1),function(t,n){this.Apply0=t,this.bind=n}),c=function(t){this.discard=t},s=new a(function(){return o.applyFn},function(t){return function(n){return function(e){return n(t(e))(e)}}}),f=new a(function(){return o.applyArray},r.arrayBind),l=function(t){return t.bind},p=function(t){return i.flip(l(t))},h=new c(function(t){return l(t)});t.exports={Bind:a,bind:l,bindFlipped:p,Discard:c,discard:function(t){return t.discard},join:function(t){return function(n){return l(t)(n)(u.identity(u.categoryFn))}},composeKleisli:function(t){return function(n){return function(e){return function(r){return l(t)(n(r))(e)}}}},composeKleisliFlipped:function(t){return function(n){return function(e){return function(r){return p(t)(n)(e(r))}}}},ifM:function(t){return function(n){return function(e){return function(r){return l(t)(n)(function(t){return t?e:r})}}}},bindFn:s,bindArray:f,discardUnit:h}},function(t,n,e){"use strict";var r=e(20),o=(e(4),e(1),function(t){this.HeytingAlgebra0=t}),u=function(t){this.HeytingAlgebraRecord0=t},i=new o(function(){return r.heytingAlgebraUnit}),a=new u(function(){return r.heytingAlgebraRecordNil}),c=new o(function(){return r.heytingAlgebraBoolean});t.exports={BooleanAlgebra:o,BooleanAlgebraRecord:u,booleanAlgebraBoolean:c,booleanAlgebraUnit:i,booleanAlgebraFn:function(t){return new o(function(){return r.heytingAlgebraFunction(t.HeytingAlgebra0())})},booleanAlgebraRecord:function(t){return function(n){return new o(function(){return r.heytingAlgebraRecord(t)(n.HeytingAlgebraRecord0())})}},booleanAlgebraRecordNil:a,booleanAlgebraRecordCons:function(t){return function(n){return function(e){return function(o){return new u(function(){return r.heytingAlgebraRecordCons(t)(n)(e.HeytingAlgebraRecord0())(o.HeytingAlgebra0())})}}}}}},function(t,n,e){"use strict";e(22);var r=e(8),o=e(5),u=function(t,n){this.Ring0=t,this.recip=n},i=function(t){return t.recip},a=new u(function(){return r.ringNumber},function(t){return 1/t});t.exports={DivisionRing:u,recip:i,leftDiv:function(t){return function(n){return function(e){return o.mul(t.Ring0().Semiring0())(i(t)(e))(n)}}},rightDiv:function(t){return function(n){return function(e){return o.mul(t.Ring0().Semiring0())(n)(i(t)(e))}}},divisionringNumber:a}},,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(87),o=e(59),u=e(45),i=e(63),a=e(88);o.initWorker().fork(console.error,function(t){var n,e,o,c,s=1;t.addEventListener(u.MESSAGE,function(f){switch(f.data.cmd){case u.WorkerCommand.SCENE_PING:e=f.data.scene,o=r.gltf_updateScene(r.gltf_createAnimator(f.data.animations)({loop:!0})),c=["nodes",e.nodes.findIndex(function(t){return"MyLight"===t.name}),"transform","trs","translation",0],e=a.set(c)(-15)(e),setInterval(function(){return s*=-1},3e3),t.postMessage({cmd:u.WorkerCommand.SCENE_PONG});break;case u.WorkerCommand.TICK:if(void 0!==n){var l=.01*(f.data.frameTs-n)*s;e=a.modify(c)(i.move(l))(e)}n=f.data.frameTs,e=o(f.data.frameTs)(e),t.postMessage({cmd:u.WorkerCommand.RENDER,scene:e})}})})},function(t,n,e){"use strict";function r(t){this._head=0,this._tail=0,this._capacityMask=3,this._list=new Array(4),Array.isArray(t)&&this._fromArray(t)}r.prototype.peekAt=function(t){var n=t;if(n===(0|n)){var e=this.size();if(!(n>=e||n<-e))return n<0&&(n+=e),n=this._head+n&this._capacityMask,this._list[n]}},r.prototype.get=function(t){return this.peekAt(t)},r.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},r.prototype.peekFront=function(){return this.peek()},r.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(r.prototype,"length",{get:function(){return this.size()}}),r.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.unshift=function(t){if(void 0===t)return this.size();var n=this._list.length;return this._head=this._head-1+n&this._capacityMask,this._list[this._head]=t,this._tail===this._head&&this._growArray(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.shift=function(){var t=this._head;if(t!==this._tail){var n=this._list[t];return this._list[t]=void 0,this._head=t+1&this._capacityMask,t<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),n}},r.prototype.push=function(t){if(void 0===t)return this.size();var n=this._tail;return this._list[n]=t,this._tail=n+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.pop=function(){var t=this._tail;if(t!==this._head){var n=this._list.length;this._tail=t-1+n&this._capacityMask;var e=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&t>1e4&&t<=n>>>2&&this._shrinkArray(),e}},r.prototype.removeOne=function(t){var n=t;if(n===(0|n)&&this._head!==this._tail){var e=this.size(),r=this._list.length;if(!(n>=e||n<-e)){n<0&&(n+=e),n=this._head+n&this._capacityMask;var o,u=this._list[n];if(t<e/2){for(o=t;o>0;o--)this._list[n]=this._list[n=n-1+r&this._capacityMask];this._list[n]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(o=e-1-t;o>0;o--)this._list[n]=this._list[n=n+1+r&this._capacityMask];this._list[n]=void 0,this._tail=this._tail-1+r&this._capacityMask}return u}}},r.prototype.remove=function(t,n){var e,r=t,o=n;if(r===(0|r)&&this._head!==this._tail){var u=this.size(),i=this._list.length;if(!(r>=u||r<-u||n<1)){if(r<0&&(r+=u),1===n||!n)return(e=new Array(1))[0]=this.removeOne(r),e;if(0===r&&r+n>=u)return e=this.toArray(),this.clear(),e;var a;for(r+n>u&&(n=u-r),e=new Array(n),a=0;a<n;a++)e[a]=this._list[this._head+r+a&this._capacityMask];if(r=this._head+r&this._capacityMask,t+n===u){for(this._tail=this._tail-n+i&this._capacityMask,a=n;a>0;a--)this._list[r=r+1+i&this._capacityMask]=void 0;return e}if(0===t){for(this._head=this._head+n+i&this._capacityMask,a=n-1;a>0;a--)this._list[r=r+1+i&this._capacityMask]=void 0;return e}if(t<u/2){for(this._head=this._head+t+n+i&this._capacityMask,a=t;a>0;a--)this.unshift(this._list[r=r-1+i&this._capacityMask]);for(r=this._head-1+i&this._capacityMask;o>0;)this._list[r=r-1+i&this._capacityMask]=void 0,o--}else{for(this._tail=r,r=r+n+i&this._capacityMask,a=u-(n+t);a>0;a--)this.push(this._list[r++]);for(r=this._tail;o>0;)this._list[r=r+1+i&this._capacityMask]=void 0,o--}return this._head<2&&this._tail>1e4&&this._tail<=i>>>2&&this._shrinkArray(),e}}},r.prototype.splice=function(t,n){var e=t;if(e===(0|e)){var r=this.size();if(e<0&&(e+=r),!(e>r)){if(arguments.length>2){var o,u,i,a=arguments.length,c=this._list.length,s=2;if(!r||e<r/2){for(u=new Array(e),o=0;o<e;o++)u[o]=this._list[this._head+o&this._capacityMask];for(0===n?(i=[],e>0&&(this._head=this._head+e+c&this._capacityMask)):(i=this.remove(e,n),this._head=this._head+e+c&this._capacityMask);a>s;)this.unshift(arguments[--a]);for(o=e;o>0;o--)this.unshift(u[o-1])}else{var f=(u=new Array(r-(e+n))).length;for(o=0;o<f;o++)u[o]=this._list[this._head+e+n+o&this._capacityMask];for(0===n?(i=[],e!=r&&(this._tail=this._head+e+c&this._capacityMask)):(i=this.remove(e,n),this._tail=this._tail-f+c&this._capacityMask);s<a;)this.push(arguments[s++]);for(o=0;o<f;o++)this.push(u[o])}return i}return this.remove(e,n)}}},r.prototype.clear=function(){this._head=0,this._tail=0},r.prototype.isEmpty=function(){return this._head===this._tail},r.prototype.toArray=function(){return this._copyArray(!1)},r.prototype._fromArray=function(t){for(var n=0;n<t.length;n++)this.push(t[n])},r.prototype._copyArray=function(t){var n,e=[],r=this._list,o=r.length;if(t||this._head>this._tail){for(n=this._head;n<o;n++)e.push(r[n]);for(n=0;n<this._tail;n++)e.push(r[n])}else for(n=this._head;n<this._tail;n++)e.push(r[n]);return e},r.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length*=2,this._capacityMask=this._capacityMask<<1|1},r.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},t.exports=r},function(t,n,e){!function(n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=n(e(3),e(30),e(9)):self.concurrify=n(self.sanctuaryShow,self.sanctuaryTypeClasses,self.sanctuaryTypeIdentifiers)}(function(t,n,e){"use strict";var r="@@type",o=["first","second","third","fourth","fifth"];function u(t){return"function"==typeof t}function i(t){return t.length>=2}function a(n,e,r,u){throw new TypeError(n+" expects its "+o[e]+" argument to "+r+"\n  Actual: "+t(u))}function c(n,e,r){throw new TypeError(n+" was invoked outside the context of a "+r+". \n  Called on: "+t(e))}return function(o,s,f,l){var p=function(t){return t[r]||t.name||"Anonymous"}(o),h=function(t){var n=e.parse(t);return(n.namespace||"concurrify")+"/Concurrent"+n.name+"@"+n.version}(p),d=e.parse(p).name,y=e.parse(h).name;function m(t){this.sequential=t}function g(t){return t instanceof o||Boolean(t)&&t.constructor===o||e(t)===o[r]}function v(t){return t instanceof m||Boolean(t)&&t.constructor===m||e(t)===h}function _(t){return g(t)||a(y,0,'be of type "'+d+'"',t),new m(t)}(function(t){try{return n.Applicative.test(n.of(t))}catch(t){return!1}})(o)||a("concurrify",0,"represent an Applicative",o),g(s)||a("concurrify",1,'be of type "'+d+'"',s),u(f)||a("concurrify",2,"be a function",f),i(f)||a("concurrify",2,"be binary",f),u(l)||a("concurrify",3,"be a function",l),i(l)||a("concurrify",3,"be binary",l);var E=m.prototype=_.prototype={constructor:_};_[r]=h;var b=new m(s);return _["fantasy-land/zero"]=function(){return b},_["fantasy-land/of"]=function(t){return new m(n.of(o,t))},E["fantasy-land/map"]=function(t){return v(this)||c(y+"#map",this,y),u(t)||a(y+"#map",0,"be a function",t),new m(n.map(t,this.sequential))},E["fantasy-land/ap"]=function(t){return v(this)||c(y+"#ap",this,y),v(t)||a(y+"#ap",0,"be a "+y,t),new m(l(this.sequential,t.sequential))},E["fantasy-land/alt"]=function(t){return v(this)||c(y+"#alt",this,y),v(t)||a(y+"#alt",0,"be a "+y,t),new m(f(this.sequential,t.sequential))},E["@@show"]=function(){return y+"("+t(this.sequential)+")"},E.toString=function(){return v(this)||c(y+"#toString",this,y),this["@@show"]()},_}})},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,n){"function"==typeof Object.create?t.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,n){t.super_=n;var e=function(){};e.prototype=n.prototype,t.prototype=new e,t.prototype.constructor=t}},function(t,n,e){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),r(e(60)),r(e(61)),r(e(62))},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCompileFlags=function(){return{buildMode:"production",buildVersion:"0.0.1-alpha",isProduction:!0}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(2),o=e(45);n.loadWorker=function(t){return r.Future(function(n,e){var r=function(n){n.data.cmd===o.WorkerLoaderCommand.READY&&(t.removeEventListener(o.MESSAGE,r),e(t))};t.addEventListener(o.MESSAGE,r),t.postMessage({cmd:o.WorkerLoaderCommand.INIT})})},n.initWorker=function(){return r.Future(function(t,n){var e=function(t){t.data.cmd===o.WorkerLoaderCommand.INIT&&(self.removeEventListener(o.MESSAGE,e),self.postMessage({cmd:o.WorkerLoaderCommand.READY}),n(self))};self.addEventListener(o.MESSAGE,e)})}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.maybe=function(t){return function(n){return function(e){return void 0===e.value0?t():n(e.value0)}}},n.getMaybeValue=n.maybe(function(){})(function(t){return t})},function(t,n,e){"use strict";e(5),e(69),t.exports={move:function(t){return function(n){return n+t}}}},function(t,n,e){"use strict";n.intAdd=function(t){return function(n){return t+n|0}},n.intMul=function(t){return function(n){return t*n|0}},n.numAdd=function(t){return function(n){return t+n}},n.numMul=function(t){return function(n){return t*n}}},function(t,n,e){"use strict";n.unsafeCoerce=function(t){return t}},function(t,n,e){"use strict";n.unit={}},function(t,n,e){"use strict";n.showIntImpl=function(t){return t.toString()},n.showNumberImpl=function(t){var n=t.toString();return isNaN(n+".0")?n:n+".0"},n.showCharImpl=function(t){var n=t.charCodeAt(0);if(n<32||127===n){switch(t){case"":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case"\n":return"'\\n'";case"\r":return"'\\r'";case"\t":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+n.toString(10)+"'"}return"'"===t||"\\"===t?"'\\"+t+"'":"'"+t+"'"},n.showStringImpl=function(t){var n=t.length;return'"'+t.replace(/[\0-\x1F\x7F"\\]/g,function(e,r){switch(e){case'"':case"\\":return"\\"+e;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var o=r+1,u=o<n&&t[o]>="0"&&t[o]<="9"?"\\&":"";return"\\"+e.charCodeAt(0).toString(10)+u})+'"'},n.showArrayImpl=function(t){return function(n){for(var e=[],r=0,o=n.length;r<o;r++)e[r]=t(n[r]);return"["+e.join(",")+"]"}},n.cons=function(t){return function(n){return[t].concat(n)}},n.join=function(t){return function(n){return n.join(t)}}},function(t,n,e){"use strict";n.unsafeHas=function(t){return function(n){return{}.hasOwnProperty.call(n,t)}},n.unsafeGet=function(t){return function(n){return n[t]}},n.unsafeSet=function(t){return function(n){return function(e){var r={};for(var o in e)({}).hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r[t]=n,r}}},n.unsafeDelete=function(t){return function(n){var e={};for(var r in n)r!==t&&{}.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}}},function(t,n,e){"use strict";e(25),e(16),e(47),e(17),e(80),e(26),e(27),e(48),e(81),e(29),e(49),e(10),e(22),e(84),e(18),e(12),e(20),e(85),e(86),e(19),e(11),e(8),e(28),e(5),e(15),e(1),e(21),t.exports={}},function(t,n,e){"use strict";n.arrayApply=function(t){return function(n){for(var e=t.length,r=n.length,o=new Array(e*r),u=0,i=0;i<e;i++)for(var a=t[i],c=0;c<r;c++)o[u++]=a(n[c]);return o}}},function(t,n,e){"use strict";n.ordArrayImpl=function(t){return function(n){return function(e){for(var r=0,o=n.length,u=e.length;r<o&&r<u;){var i=n[r],a=e[r],c=t(i)(a);if(0!==c)return c;r++}return o===u?0:o>u?-1:1}}}},function(t,n,e){"use strict";n.refEq=function(t){return function(n){return t===n}},n.eqArrayImpl=function(t){return function(n){return function(e){if(n.length!==e.length)return!1;for(var r=0;r<n.length;r++)if(!t(n[r])(e[r]))return!1;return!0}}}},function(t,n,e){"use strict";n.boolConj=function(t){return function(n){return t&&n}},n.boolDisj=function(t){return function(n){return t||n}},n.boolNot=function(t){return!t}},function(t,n,e){"use strict";var r=e(75),o=e(11),u=r.unsafeCompareImpl(o.LT.value)(o.EQ.value)(o.GT.value);t.exports={unsafeCompare:u}},function(t,n,e){"use strict";n.unsafeCompareImpl=function(t){return function(n){return function(e){return function(r){return function(o){return r<o?t:r===o?n:e}}}}}},function(t,n,e){"use strict";n.concatString=function(t){return function(n){return t+n}},n.concatArray=function(t){return function(n){return 0===t.length?n:0===n.length?t:t.concat(n)}}},function(t,n,e){"use strict";n.intSub=function(t){return function(n){return t-n|0}},n.numSub=function(t){return function(n){return t-n}}},function(t,n,e){"use strict";n.arrayMap=function(t){return function(n){for(var e=n.length,r=new Array(e),o=0;o<e;o++)r[o]=t(n[o]);return r}}},function(t,n,e){"use strict";n.arrayBind=function(t){return function(n){for(var e=[],r=0,o=t.length;r<o;r++)Array.prototype.push.apply(e,n(t[r]));return e}}},function(t,n,e){"use strict";var r=e(25),o=(e(16),e(47)),u=(e(12),e(1),function(t,n){this.Applicative0=t,this.Bind1=n}),i=new u(function(){return r.applicativeFn},function(){return o.bindFn}),a=new u(function(){return r.applicativeArray},function(){return o.bindArray});t.exports={Monad:u,liftM1:function(t){return function(n){return function(e){return o.bind(t.Bind1())(e)(function(e){return r.pure(t.Applicative0())(n(e))})}}},ap:function(t){return function(n){return function(e){return o.bind(t.Bind1())(n)(function(n){return o.bind(t.Bind1())(e)(function(e){return r.pure(t.Applicative0())(n(e))})})}}},whenM:function(t){return function(n){return function(e){return o.bind(t.Bind1())(n)(function(n){return r.when(t.Applicative0())(n)(e)})}}},unlessM:function(t){return function(n){return function(e){return o.bind(t.Bind1())(n)(function(n){return r.unless(t.Applicative0())(n)(e)})}}},monadFn:i,monadArray:a}},function(t,n,e){"use strict";var r=e(82),o=e(19),u=e(11),i=e(1),a=function(t,n,e){this.Ord0=t,this.bottom=n,this.top=e},c=new a(function(){return o.ordUnit},i.unit,i.unit),s=new a(function(){return o.ordOrdering},u.LT.value,u.GT.value),f=new a(function(){return o.ordNumber},r.bottomNumber,r.topNumber),l=new a(function(){return o.ordInt},r.bottomInt,r.topInt),p=new a(function(){return o.ordChar},r.bottomChar,r.topChar),h=new a(function(){return o.ordBoolean},!1,!0);t.exports={Bounded:a,bottom:function(t){return t.bottom},top:function(t){return t.top},boundedBoolean:h,boundedInt:l,boundedChar:p,boundedOrdering:s,boundedUnit:c,boundedNumber:f}},function(t,n,e){"use strict";n.topInt=2147483647,n.bottomInt=-2147483648,n.topChar=String.fromCharCode(65535),n.bottomChar=String.fromCharCode(0),n.topNumber=Number.POSITIVE_INFINITY,n.bottomNumber=Number.NEGATIVE_INFINITY},function(t,n,e){"use strict";n.intDegree=function(t){return Math.min(Math.abs(t),2147483647)},n.intDiv=function(t){return function(n){return 0===n?0:n>0?Math.floor(t/n):-Math.floor(t/-n)}},n.intMod=function(t){return function(n){if(0===n)return 0;var e=Math.abs(n);return(t%e+e)%e}},n.numDiv=function(t){return function(n){return t/n}}},function(t,n,e){"use strict";e(29),e(49),e(22),e(8),e(5);var r=function(t,n){this.DivisionRing1=t,this.EuclideanRing0=n};t.exports={Field:r,field:function(t){return function(n){return new r(function(){return n},function(){return t})}}}},function(t,n,e){"use strict";var r=e(27),o=(e(10),e(22)),u=(e(19),e(11)),i=e(28),a=e(4),c=e(1),s=e(6),f=e(7),l=function(t,n){this.Semigroup0=t,this.mempty=n},p=function(t,n){this.SemigroupRecord0=t,this.memptyRecord=n},h=new l(function(){return i.semigroupUnit},c.unit),d=new l(function(){return i.semigroupString},""),y=new p(function(){return i.semigroupRecordNil},function(t){return{}}),m=new l(function(){return u.semigroupOrdering},u.EQ.value),g=new l(function(){return i.semigroupArray},[]),v=function(t){return t.memptyRecord},_=function(t){return t.mempty};t.exports={Monoid:l,mempty:_,power:function(t){return function(n){var e=function(u){if(u<=0)return _(t);if(1===u)return n;if(0===o.mod(o.euclideanRingInt)(u)(2)){var a=e(o.div(o.euclideanRingInt)(u)(2));return i.append(t.Semigroup0())(a)(a)}if(r.otherwise)return a=e(o.div(o.euclideanRingInt)(u)(2)),i.append(t.Semigroup0())(a)(i.append(t.Semigroup0())(a)(n));throw new Error("Failed pattern match at Data.Monoid line 66, column 3 - line 66, column 17: "+[u.constructor.name])};return e}},guard:function(t){return function(n){return function(e){if(n)return e;if(!n)return _(t);throw new Error("Failed pattern match at Data.Monoid line 74, column 1 - line 74, column 49: "+[n.constructor.name,e.constructor.name])}}},MonoidRecord:p,memptyRecord:v,monoidUnit:h,monoidOrdering:m,monoidFn:function(t){return new l(function(){return i.semigroupFn(t.Semigroup0())},function(n){return _(t)})},monoidString:d,monoidArray:g,monoidRecord:function(t){return function(n){return new l(function(){return i.semigroupRecord(t)(n.SemigroupRecord0())},v(n)(f.RLProxy.value))}},monoidRecordNil:y,monoidRecordCons:function(t){return function(n){return function(e){return function(r){return new p(function(){return i.semigroupRecordCons(t)(e)(r.SemigroupRecord0())(n.Semigroup0())},function(e){var o=v(r)(f.RLProxy.value),u=a.reflectSymbol(t)(a.SProxy.value);return s.unsafeSet(u)(_(n))(o)})}}}}}},function(t,n,e){"use strict";t.exports={}},function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"create",function(){return l}),e.d(r,"clone",function(){return p}),e.d(r,"copy",function(){return h}),e.d(r,"fromValues",function(){return d}),e.d(r,"set",function(){return y}),e.d(r,"identity",function(){return m}),e.d(r,"transpose",function(){return g}),e.d(r,"invert",function(){return v}),e.d(r,"adjoint",function(){return _}),e.d(r,"determinant",function(){return E}),e.d(r,"multiply",function(){return b}),e.d(r,"translate",function(){return T}),e.d(r,"scale",function(){return A}),e.d(r,"rotate",function(){return R}),e.d(r,"rotateX",function(){return S}),e.d(r,"rotateY",function(){return M}),e.d(r,"rotateZ",function(){return N}),e.d(r,"fromTranslation",function(){return O}),e.d(r,"fromScaling",function(){return I}),e.d(r,"fromRotation",function(){return F}),e.d(r,"fromXRotation",function(){return x}),e.d(r,"fromYRotation",function(){return L}),e.d(r,"fromZRotation",function(){return w}),e.d(r,"fromRotationTranslation",function(){return C}),e.d(r,"fromQuat2",function(){return P}),e.d(r,"getTranslation",function(){return U}),e.d(r,"getScaling",function(){return j}),e.d(r,"getRotation",function(){return B}),e.d(r,"fromRotationTranslationScale",function(){return D}),e.d(r,"fromRotationTranslationScaleOrigin",function(){return k}),e.d(r,"fromQuat",function(){return V}),e.d(r,"frustum",function(){return G}),e.d(r,"perspective",function(){return q}),e.d(r,"perspectiveFromFieldOfView",function(){return H}),e.d(r,"ortho",function(){return X}),e.d(r,"lookAt",function(){return W}),e.d(r,"targetTo",function(){return z}),e.d(r,"str",function(){return $}),e.d(r,"frob",function(){return Y}),e.d(r,"add",function(){return K}),e.d(r,"subtract",function(){return J}),e.d(r,"multiplyScalar",function(){return Z}),e.d(r,"multiplyScalarAndAdd",function(){return Q}),e.d(r,"exactEquals",function(){return tt}),e.d(r,"equals",function(){return nt}),e.d(r,"mul",function(){return et}),e.d(r,"sub",function(){return rt});var o={};e.r(o),e.d(o,"create",function(){return ot}),e.d(o,"clone",function(){return ut}),e.d(o,"length",function(){return it}),e.d(o,"fromValues",function(){return at}),e.d(o,"copy",function(){return ct}),e.d(o,"set",function(){return st}),e.d(o,"add",function(){return ft}),e.d(o,"subtract",function(){return lt}),e.d(o,"multiply",function(){return pt}),e.d(o,"divide",function(){return ht}),e.d(o,"ceil",function(){return dt}),e.d(o,"floor",function(){return yt}),e.d(o,"min",function(){return mt}),e.d(o,"max",function(){return gt}),e.d(o,"round",function(){return vt}),e.d(o,"scale",function(){return _t}),e.d(o,"scaleAndAdd",function(){return Et}),e.d(o,"distance",function(){return bt}),e.d(o,"squaredDistance",function(){return Tt}),e.d(o,"squaredLength",function(){return At}),e.d(o,"negate",function(){return Rt}),e.d(o,"inverse",function(){return St}),e.d(o,"normalize",function(){return Mt}),e.d(o,"dot",function(){return Nt}),e.d(o,"cross",function(){return Ot}),e.d(o,"lerp",function(){return It}),e.d(o,"hermite",function(){return Ft}),e.d(o,"bezier",function(){return xt}),e.d(o,"random",function(){return Lt}),e.d(o,"transformMat4",function(){return wt}),e.d(o,"transformMat3",function(){return Ct}),e.d(o,"transformQuat",function(){return Pt}),e.d(o,"rotateX",function(){return Ut}),e.d(o,"rotateY",function(){return jt}),e.d(o,"rotateZ",function(){return Bt}),e.d(o,"angle",function(){return Dt}),e.d(o,"str",function(){return kt}),e.d(o,"exactEquals",function(){return Vt}),e.d(o,"equals",function(){return Gt}),e.d(o,"sub",function(){return qt}),e.d(o,"mul",function(){return Ht}),e.d(o,"div",function(){return Xt}),e.d(o,"dist",function(){return Wt}),e.d(o,"sqrDist",function(){return zt}),e.d(o,"len",function(){return $t}),e.d(o,"sqrLen",function(){return Yt}),e.d(o,"forEach",function(){return Kt});var u={};e.r(u),e.d(u,"create",function(){return Jt}),e.d(u,"clone",function(){return Zt}),e.d(u,"fromValues",function(){return Qt}),e.d(u,"copy",function(){return tn}),e.d(u,"set",function(){return nn}),e.d(u,"add",function(){return en}),e.d(u,"subtract",function(){return rn}),e.d(u,"multiply",function(){return on}),e.d(u,"divide",function(){return un}),e.d(u,"ceil",function(){return an}),e.d(u,"floor",function(){return cn}),e.d(u,"min",function(){return sn}),e.d(u,"max",function(){return fn}),e.d(u,"round",function(){return ln}),e.d(u,"scale",function(){return pn}),e.d(u,"scaleAndAdd",function(){return hn}),e.d(u,"distance",function(){return dn}),e.d(u,"squaredDistance",function(){return yn}),e.d(u,"length",function(){return mn}),e.d(u,"squaredLength",function(){return gn}),e.d(u,"negate",function(){return vn}),e.d(u,"inverse",function(){return _n}),e.d(u,"normalize",function(){return En}),e.d(u,"dot",function(){return bn}),e.d(u,"lerp",function(){return Tn}),e.d(u,"random",function(){return An}),e.d(u,"transformMat4",function(){return Rn}),e.d(u,"transformQuat",function(){return Sn}),e.d(u,"str",function(){return Mn}),e.d(u,"exactEquals",function(){return Nn}),e.d(u,"equals",function(){return On}),e.d(u,"sub",function(){return In}),e.d(u,"mul",function(){return Fn}),e.d(u,"div",function(){return xn}),e.d(u,"dist",function(){return Ln}),e.d(u,"sqrDist",function(){return wn}),e.d(u,"len",function(){return Cn}),e.d(u,"sqrLen",function(){return Pn}),e.d(u,"forEach",function(){return Un});var i={};e.r(i),e.d(i,"create",function(){return jn}),e.d(i,"identity",function(){return Bn}),e.d(i,"setAxisAngle",function(){return Dn}),e.d(i,"getAxisAngle",function(){return kn}),e.d(i,"multiply",function(){return Vn}),e.d(i,"rotateX",function(){return Gn}),e.d(i,"rotateY",function(){return qn}),e.d(i,"rotateZ",function(){return Hn}),e.d(i,"calculateW",function(){return Xn}),e.d(i,"slerp",function(){return Wn}),e.d(i,"random",function(){return zn}),e.d(i,"invert",function(){return $n}),e.d(i,"conjugate",function(){return Yn}),e.d(i,"fromMat3",function(){return Kn}),e.d(i,"fromEuler",function(){return Jn}),e.d(i,"str",function(){return Zn}),e.d(i,"clone",function(){return Qn}),e.d(i,"fromValues",function(){return te}),e.d(i,"copy",function(){return ne}),e.d(i,"set",function(){return ee}),e.d(i,"add",function(){return re}),e.d(i,"mul",function(){return oe}),e.d(i,"scale",function(){return ue}),e.d(i,"dot",function(){return ie}),e.d(i,"lerp",function(){return ae}),e.d(i,"length",function(){return ce}),e.d(i,"len",function(){return se}),e.d(i,"squaredLength",function(){return fe}),e.d(i,"sqrLen",function(){return le}),e.d(i,"normalize",function(){return pe}),e.d(i,"exactEquals",function(){return he}),e.d(i,"equals",function(){return de}),e.d(i,"rotationTo",function(){return ye}),e.d(i,"sqlerp",function(){return me}),e.d(i,"setAxes",function(){return ge});var a={};e.r(a),e.d(a,"create",function(){return ve}),e.d(a,"clone",function(){return _e}),e.d(a,"fromValues",function(){return Ee}),e.d(a,"copy",function(){return be}),e.d(a,"set",function(){return Te}),e.d(a,"add",function(){return Ae}),e.d(a,"subtract",function(){return Re}),e.d(a,"multiply",function(){return Se}),e.d(a,"divide",function(){return Me}),e.d(a,"ceil",function(){return Ne}),e.d(a,"floor",function(){return Oe}),e.d(a,"min",function(){return Ie}),e.d(a,"max",function(){return Fe}),e.d(a,"round",function(){return xe}),e.d(a,"scale",function(){return Le}),e.d(a,"scaleAndAdd",function(){return we}),e.d(a,"distance",function(){return Ce}),e.d(a,"squaredDistance",function(){return Pe}),e.d(a,"length",function(){return Ue}),e.d(a,"squaredLength",function(){return je}),e.d(a,"negate",function(){return Be}),e.d(a,"inverse",function(){return De}),e.d(a,"normalize",function(){return ke}),e.d(a,"dot",function(){return Ve}),e.d(a,"cross",function(){return Ge}),e.d(a,"lerp",function(){return qe}),e.d(a,"random",function(){return He}),e.d(a,"transformMat2",function(){return Xe}),e.d(a,"transformMat2d",function(){return We}),e.d(a,"transformMat3",function(){return ze}),e.d(a,"transformMat4",function(){return $e}),e.d(a,"rotate",function(){return Ye}),e.d(a,"angle",function(){return Ke}),e.d(a,"str",function(){return Je}),e.d(a,"exactEquals",function(){return Ze}),e.d(a,"equals",function(){return Qe}),e.d(a,"len",function(){return tr}),e.d(a,"sub",function(){return nr}),e.d(a,"mul",function(){return er}),e.d(a,"div",function(){return rr}),e.d(a,"dist",function(){return or}),e.d(a,"sqrDist",function(){return ur}),e.d(a,"sqrLen",function(){return ir}),e.d(a,"forEach",function(){return ar});const c=1e-6;let s="undefined"!=typeof Float32Array?Float32Array:Array;const f=Math.random;function l(){let t=new s(16);return s!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function p(t){let n=new s(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function h(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function d(t,n,e,r,o,u,i,a,c,f,l,p,h,d,y,m){let g=new s(16);return g[0]=t,g[1]=n,g[2]=e,g[3]=r,g[4]=o,g[5]=u,g[6]=i,g[7]=a,g[8]=c,g[9]=f,g[10]=l,g[11]=p,g[12]=h,g[13]=d,g[14]=y,g[15]=m,g}function y(t,n,e,r,o,u,i,a,c,s,f,l,p,h,d,y,m){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t[4]=u,t[5]=i,t[6]=a,t[7]=c,t[8]=s,t[9]=f,t[10]=l,t[11]=p,t[12]=h,t[13]=d,t[14]=y,t[15]=m,t}function m(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function g(t,n){if(t===n){let e=n[1],r=n[2],o=n[3],u=n[6],i=n[7],a=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=u,t[11]=n[14],t[12]=o,t[13]=i,t[14]=a}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function v(t,n){let e=n[0],r=n[1],o=n[2],u=n[3],i=n[4],a=n[5],c=n[6],s=n[7],f=n[8],l=n[9],p=n[10],h=n[11],d=n[12],y=n[13],m=n[14],g=n[15],v=e*a-r*i,_=e*c-o*i,E=e*s-u*i,b=r*c-o*a,T=r*s-u*a,A=o*s-u*c,R=f*y-l*d,S=f*m-p*d,M=f*g-h*d,N=l*m-p*y,O=l*g-h*y,I=p*g-h*m,F=v*I-_*O+E*N+b*M-T*S+A*R;return F?(F=1/F,t[0]=(a*I-c*O+s*N)*F,t[1]=(o*O-r*I-u*N)*F,t[2]=(y*A-m*T+g*b)*F,t[3]=(p*T-l*A-h*b)*F,t[4]=(c*M-i*I-s*S)*F,t[5]=(e*I-o*M+u*S)*F,t[6]=(m*E-d*A-g*_)*F,t[7]=(f*A-p*E+h*_)*F,t[8]=(i*O-a*M+s*R)*F,t[9]=(r*M-e*O-u*R)*F,t[10]=(d*T-y*E+g*v)*F,t[11]=(l*E-f*T-h*v)*F,t[12]=(a*S-i*N-c*R)*F,t[13]=(e*N-r*S+o*R)*F,t[14]=(y*_-d*b-m*v)*F,t[15]=(f*b-l*_+p*v)*F,t):null}function _(t,n){let e=n[0],r=n[1],o=n[2],u=n[3],i=n[4],a=n[5],c=n[6],s=n[7],f=n[8],l=n[9],p=n[10],h=n[11],d=n[12],y=n[13],m=n[14],g=n[15];return t[0]=a*(p*g-h*m)-l*(c*g-s*m)+y*(c*h-s*p),t[1]=-(r*(p*g-h*m)-l*(o*g-u*m)+y*(o*h-u*p)),t[2]=r*(c*g-s*m)-a*(o*g-u*m)+y*(o*s-u*c),t[3]=-(r*(c*h-s*p)-a*(o*h-u*p)+l*(o*s-u*c)),t[4]=-(i*(p*g-h*m)-f*(c*g-s*m)+d*(c*h-s*p)),t[5]=e*(p*g-h*m)-f*(o*g-u*m)+d*(o*h-u*p),t[6]=-(e*(c*g-s*m)-i*(o*g-u*m)+d*(o*s-u*c)),t[7]=e*(c*h-s*p)-i*(o*h-u*p)+f*(o*s-u*c),t[8]=i*(l*g-h*y)-f*(a*g-s*y)+d*(a*h-s*l),t[9]=-(e*(l*g-h*y)-f*(r*g-u*y)+d*(r*h-u*l)),t[10]=e*(a*g-s*y)-i*(r*g-u*y)+d*(r*s-u*a),t[11]=-(e*(a*h-s*l)-i*(r*h-u*l)+f*(r*s-u*a)),t[12]=-(i*(l*m-p*y)-f*(a*m-c*y)+d*(a*p-c*l)),t[13]=e*(l*m-p*y)-f*(r*m-o*y)+d*(r*p-o*l),t[14]=-(e*(a*m-c*y)-i*(r*m-o*y)+d*(r*c-o*a)),t[15]=e*(a*p-c*l)-i*(r*p-o*l)+f*(r*c-o*a),t}function E(t){let n=t[0],e=t[1],r=t[2],o=t[3],u=t[4],i=t[5],a=t[6],c=t[7],s=t[8],f=t[9],l=t[10],p=t[11],h=t[12],d=t[13],y=t[14],m=t[15];return(n*i-e*u)*(l*m-p*y)-(n*a-r*u)*(f*m-p*d)+(n*c-o*u)*(f*y-l*d)+(e*a-r*i)*(s*m-p*h)-(e*c-o*i)*(s*y-l*h)+(r*c-o*a)*(s*d-f*h)}function b(t,n,e){let r=n[0],o=n[1],u=n[2],i=n[3],a=n[4],c=n[5],s=n[6],f=n[7],l=n[8],p=n[9],h=n[10],d=n[11],y=n[12],m=n[13],g=n[14],v=n[15],_=e[0],E=e[1],b=e[2],T=e[3];return t[0]=_*r+E*a+b*l+T*y,t[1]=_*o+E*c+b*p+T*m,t[2]=_*u+E*s+b*h+T*g,t[3]=_*i+E*f+b*d+T*v,_=e[4],E=e[5],b=e[6],T=e[7],t[4]=_*r+E*a+b*l+T*y,t[5]=_*o+E*c+b*p+T*m,t[6]=_*u+E*s+b*h+T*g,t[7]=_*i+E*f+b*d+T*v,_=e[8],E=e[9],b=e[10],T=e[11],t[8]=_*r+E*a+b*l+T*y,t[9]=_*o+E*c+b*p+T*m,t[10]=_*u+E*s+b*h+T*g,t[11]=_*i+E*f+b*d+T*v,_=e[12],E=e[13],b=e[14],T=e[15],t[12]=_*r+E*a+b*l+T*y,t[13]=_*o+E*c+b*p+T*m,t[14]=_*u+E*s+b*h+T*g,t[15]=_*i+E*f+b*d+T*v,t}function T(t,n,e){let r,o,u,i,a,c,s,f,l,p,h,d,y=e[0],m=e[1],g=e[2];return n===t?(t[12]=n[0]*y+n[4]*m+n[8]*g+n[12],t[13]=n[1]*y+n[5]*m+n[9]*g+n[13],t[14]=n[2]*y+n[6]*m+n[10]*g+n[14],t[15]=n[3]*y+n[7]*m+n[11]*g+n[15]):(r=n[0],o=n[1],u=n[2],i=n[3],a=n[4],c=n[5],s=n[6],f=n[7],l=n[8],p=n[9],h=n[10],d=n[11],t[0]=r,t[1]=o,t[2]=u,t[3]=i,t[4]=a,t[5]=c,t[6]=s,t[7]=f,t[8]=l,t[9]=p,t[10]=h,t[11]=d,t[12]=r*y+a*m+l*g+n[12],t[13]=o*y+c*m+p*g+n[13],t[14]=u*y+s*m+h*g+n[14],t[15]=i*y+f*m+d*g+n[15]),t}function A(t,n,e){let r=e[0],o=e[1],u=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=n[7]*o,t[8]=n[8]*u,t[9]=n[9]*u,t[10]=n[10]*u,t[11]=n[11]*u,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function R(t,n,e,r){let o,u,i,a,s,f,l,p,h,d,y,m,g,v,_,E,b,T,A,R,S,M,N,O,I=r[0],F=r[1],x=r[2],L=Math.sqrt(I*I+F*F+x*x);return L<c?null:(I*=L=1/L,F*=L,x*=L,o=Math.sin(e),i=1-(u=Math.cos(e)),a=n[0],s=n[1],f=n[2],l=n[3],p=n[4],h=n[5],d=n[6],y=n[7],m=n[8],g=n[9],v=n[10],_=n[11],E=I*I*i+u,b=F*I*i+x*o,T=x*I*i-F*o,A=I*F*i-x*o,R=F*F*i+u,S=x*F*i+I*o,M=I*x*i+F*o,N=F*x*i-I*o,O=x*x*i+u,t[0]=a*E+p*b+m*T,t[1]=s*E+h*b+g*T,t[2]=f*E+d*b+v*T,t[3]=l*E+y*b+_*T,t[4]=a*A+p*R+m*S,t[5]=s*A+h*R+g*S,t[6]=f*A+d*R+v*S,t[7]=l*A+y*R+_*S,t[8]=a*M+p*N+m*O,t[9]=s*M+h*N+g*O,t[10]=f*M+d*N+v*O,t[11]=l*M+y*N+_*O,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function S(t,n,e){let r=Math.sin(e),o=Math.cos(e),u=n[4],i=n[5],a=n[6],c=n[7],s=n[8],f=n[9],l=n[10],p=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=u*o+s*r,t[5]=i*o+f*r,t[6]=a*o+l*r,t[7]=c*o+p*r,t[8]=s*o-u*r,t[9]=f*o-i*r,t[10]=l*o-a*r,t[11]=p*o-c*r,t}function M(t,n,e){let r=Math.sin(e),o=Math.cos(e),u=n[0],i=n[1],a=n[2],c=n[3],s=n[8],f=n[9],l=n[10],p=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=u*o-s*r,t[1]=i*o-f*r,t[2]=a*o-l*r,t[3]=c*o-p*r,t[8]=u*r+s*o,t[9]=i*r+f*o,t[10]=a*r+l*o,t[11]=c*r+p*o,t}function N(t,n,e){let r=Math.sin(e),o=Math.cos(e),u=n[0],i=n[1],a=n[2],c=n[3],s=n[4],f=n[5],l=n[6],p=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=u*o+s*r,t[1]=i*o+f*r,t[2]=a*o+l*r,t[3]=c*o+p*r,t[4]=s*o-u*r,t[5]=f*o-i*r,t[6]=l*o-a*r,t[7]=p*o-c*r,t}function O(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function I(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F(t,n,e){let r,o,u,i=e[0],a=e[1],s=e[2],f=Math.sqrt(i*i+a*a+s*s);return f<c?null:(i*=f=1/f,a*=f,s*=f,r=Math.sin(n),u=1-(o=Math.cos(n)),t[0]=i*i*u+o,t[1]=a*i*u+s*r,t[2]=s*i*u-a*r,t[3]=0,t[4]=i*a*u-s*r,t[5]=a*a*u+o,t[6]=s*a*u+i*r,t[7]=0,t[8]=i*s*u+a*r,t[9]=a*s*u-i*r,t[10]=s*s*u+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function x(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function w(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,n,e){let r=n[0],o=n[1],u=n[2],i=n[3],a=r+r,c=o+o,s=u+u,f=r*a,l=r*c,p=r*s,h=o*c,d=o*s,y=u*s,m=i*a,g=i*c,v=i*s;return t[0]=1-(h+y),t[1]=l+v,t[2]=p-g,t[3]=0,t[4]=l-v,t[5]=1-(f+y),t[6]=d+m,t[7]=0,t[8]=p+g,t[9]=d-m,t[10]=1-(f+h),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function P(t,n){let e=new s(3),r=-n[0],o=-n[1],u=-n[2],i=n[3],a=n[4],c=n[5],f=n[6],l=n[7],p=r*r+o*o+u*u+i*i;return p>0?(e[0]=2*(a*i+l*r+c*u-f*o)/p,e[1]=2*(c*i+l*o+f*r-a*u)/p,e[2]=2*(f*i+l*u+a*o-c*r)/p):(e[0]=2*(a*i+l*r+c*u-f*o),e[1]=2*(c*i+l*o+f*r-a*u),e[2]=2*(f*i+l*u+a*o-c*r)),C(t,n,e),t}function U(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function j(t,n){let e=n[0],r=n[1],o=n[2],u=n[4],i=n[5],a=n[6],c=n[8],s=n[9],f=n[10];return t[0]=Math.sqrt(e*e+r*r+o*o),t[1]=Math.sqrt(u*u+i*i+a*a),t[2]=Math.sqrt(c*c+s*s+f*f),t}function B(t,n){let e=n[0]+n[5]+n[10],r=0;return e>0?(r=2*Math.sqrt(e+1),t[3]=.25*r,t[0]=(n[6]-n[9])/r,t[1]=(n[8]-n[2])/r,t[2]=(n[1]-n[4])/r):n[0]>n[5]&&n[0]>n[10]?(r=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/r,t[0]=.25*r,t[1]=(n[1]+n[4])/r,t[2]=(n[8]+n[2])/r):n[5]>n[10]?(r=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/r,t[0]=(n[1]+n[4])/r,t[1]=.25*r,t[2]=(n[6]+n[9])/r):(r=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/r,t[0]=(n[8]+n[2])/r,t[1]=(n[6]+n[9])/r,t[2]=.25*r),t}function D(t,n,e,r){let o=n[0],u=n[1],i=n[2],a=n[3],c=o+o,s=u+u,f=i+i,l=o*c,p=o*s,h=o*f,d=u*s,y=u*f,m=i*f,g=a*c,v=a*s,_=a*f,E=r[0],b=r[1],T=r[2];return t[0]=(1-(d+m))*E,t[1]=(p+_)*E,t[2]=(h-v)*E,t[3]=0,t[4]=(p-_)*b,t[5]=(1-(l+m))*b,t[6]=(y+g)*b,t[7]=0,t[8]=(h+v)*T,t[9]=(y-g)*T,t[10]=(1-(l+d))*T,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function k(t,n,e,r,o){let u=n[0],i=n[1],a=n[2],c=n[3],s=u+u,f=i+i,l=a+a,p=u*s,h=u*f,d=u*l,y=i*f,m=i*l,g=a*l,v=c*s,_=c*f,E=c*l,b=r[0],T=r[1],A=r[2],R=o[0],S=o[1],M=o[2],N=(1-(y+g))*b,O=(h+E)*b,I=(d-_)*b,F=(h-E)*T,x=(1-(p+g))*T,L=(m+v)*T,w=(d+_)*A,C=(m-v)*A,P=(1-(p+y))*A;return t[0]=N,t[1]=O,t[2]=I,t[3]=0,t[4]=F,t[5]=x,t[6]=L,t[7]=0,t[8]=w,t[9]=C,t[10]=P,t[11]=0,t[12]=e[0]+R-(N*R+F*S+w*M),t[13]=e[1]+S-(O*R+x*S+C*M),t[14]=e[2]+M-(I*R+L*S+P*M),t[15]=1,t}function V(t,n){let e=n[0],r=n[1],o=n[2],u=n[3],i=e+e,a=r+r,c=o+o,s=e*i,f=r*i,l=r*a,p=o*i,h=o*a,d=o*c,y=u*i,m=u*a,g=u*c;return t[0]=1-l-d,t[1]=f+g,t[2]=p-m,t[3]=0,t[4]=f-g,t[5]=1-s-d,t[6]=h+y,t[7]=0,t[8]=p+m,t[9]=h-y,t[10]=1-s-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function G(t,n,e,r,o,u,i){let a=1/(e-n),c=1/(o-r),s=1/(u-i);return t[0]=2*u*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*u*c,t[6]=0,t[7]=0,t[8]=(e+n)*a,t[9]=(o+r)*c,t[10]=(i+u)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*u*2*s,t[15]=0,t}function q(t,n,e,r,o){let u,i=1/Math.tan(n/2);return t[0]=i/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(u=1/(r-o),t[10]=(o+r)*u,t[14]=2*o*r*u):(t[10]=-1,t[14]=-2*r),t}function H(t,n,e,r){let o=Math.tan(n.upDegrees*Math.PI/180),u=Math.tan(n.downDegrees*Math.PI/180),i=Math.tan(n.leftDegrees*Math.PI/180),a=Math.tan(n.rightDegrees*Math.PI/180),c=2/(i+a),s=2/(o+u);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(i-a)*c*.5,t[9]=(o-u)*s*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function X(t,n,e,r,o,u,i){let a=1/(n-e),c=1/(r-o),s=1/(u-i);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(n+e)*a,t[13]=(o+r)*c,t[14]=(i+u)*s,t[15]=1,t}function W(t,n,e,r){let o,u,i,a,s,f,l,p,h,d,y=n[0],g=n[1],v=n[2],_=r[0],E=r[1],b=r[2],T=e[0],A=e[1],R=e[2];return Math.abs(y-T)<c&&Math.abs(g-A)<c&&Math.abs(v-R)<c?m(t):(l=y-T,p=g-A,h=v-R,o=E*(h*=d=1/Math.sqrt(l*l+p*p+h*h))-b*(p*=d),u=b*(l*=d)-_*h,i=_*p-E*l,(d=Math.sqrt(o*o+u*u+i*i))?(o*=d=1/d,u*=d,i*=d):(o=0,u=0,i=0),a=p*i-h*u,s=h*o-l*i,f=l*u-p*o,(d=Math.sqrt(a*a+s*s+f*f))?(a*=d=1/d,s*=d,f*=d):(a=0,s=0,f=0),t[0]=o,t[1]=a,t[2]=l,t[3]=0,t[4]=u,t[5]=s,t[6]=p,t[7]=0,t[8]=i,t[9]=f,t[10]=h,t[11]=0,t[12]=-(o*y+u*g+i*v),t[13]=-(a*y+s*g+f*v),t[14]=-(l*y+p*g+h*v),t[15]=1,t)}function z(t,n,e,r){let o=n[0],u=n[1],i=n[2],a=r[0],c=r[1],s=r[2],f=o-e[0],l=u-e[1],p=i-e[2],h=f*f+l*l+p*p;h>0&&(f*=h=1/Math.sqrt(h),l*=h,p*=h);let d=c*p-s*l,y=s*f-a*p,m=a*l-c*f;return(h=d*d+y*y+m*m)>0&&(d*=h=1/Math.sqrt(h),y*=h,m*=h),t[0]=d,t[1]=y,t[2]=m,t[3]=0,t[4]=l*m-p*y,t[5]=p*d-f*m,t[6]=f*y-l*d,t[7]=0,t[8]=f,t[9]=l,t[10]=p,t[11]=0,t[12]=o,t[13]=u,t[14]=i,t[15]=1,t}function $(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Y(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function K(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function J(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function Z(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function Q(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function tt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function nt(t,n){let e=t[0],r=t[1],o=t[2],u=t[3],i=t[4],a=t[5],s=t[6],f=t[7],l=t[8],p=t[9],h=t[10],d=t[11],y=t[12],m=t[13],g=t[14],v=t[15],_=n[0],E=n[1],b=n[2],T=n[3],A=n[4],R=n[5],S=n[6],M=n[7],N=n[8],O=n[9],I=n[10],F=n[11],x=n[12],L=n[13],w=n[14],C=n[15];return Math.abs(e-_)<=c*Math.max(1,Math.abs(e),Math.abs(_))&&Math.abs(r-E)<=c*Math.max(1,Math.abs(r),Math.abs(E))&&Math.abs(o-b)<=c*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(u-T)<=c*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(i-A)<=c*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(a-R)<=c*Math.max(1,Math.abs(a),Math.abs(R))&&Math.abs(s-S)<=c*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(f-M)<=c*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(l-N)<=c*Math.max(1,Math.abs(l),Math.abs(N))&&Math.abs(p-O)<=c*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(h-I)<=c*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(d-F)<=c*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(y-x)<=c*Math.max(1,Math.abs(y),Math.abs(x))&&Math.abs(m-L)<=c*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(g-w)<=c*Math.max(1,Math.abs(g),Math.abs(w))&&Math.abs(v-C)<=c*Math.max(1,Math.abs(v),Math.abs(C))}Math.PI;const et=b,rt=J;function ot(){let t=new s(3);return s!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function ut(t){var n=new s(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function it(t){let n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function at(t,n,e){let r=new s(3);return r[0]=t,r[1]=n,r[2]=e,r}function ct(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function st(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function ft(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function lt(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function pt(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function ht(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function dt(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function yt(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function mt(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t}function gt(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t}function vt(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function _t(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function Et(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t}function bt(t,n){let e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return Math.sqrt(e*e+r*r+o*o)}function Tt(t,n){let e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return e*e+r*r+o*o}function At(t){let n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function Rt(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function St(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function Mt(t,n){let e=n[0],r=n[1],o=n[2],u=e*e+r*r+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=n[0]*u,t[1]=n[1]*u,t[2]=n[2]*u),t}function Nt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ot(t,n,e){let r=n[0],o=n[1],u=n[2],i=e[0],a=e[1],c=e[2];return t[0]=o*c-u*a,t[1]=u*i-r*c,t[2]=r*a-o*i,t}function It(t,n,e,r){let o=n[0],u=n[1],i=n[2];return t[0]=o+r*(e[0]-o),t[1]=u+r*(e[1]-u),t[2]=i+r*(e[2]-i),t}function Ft(t,n,e,r,o,u){let i=u*u,a=i*(2*u-3)+1,c=i*(u-2)+u,s=i*(u-1),f=i*(3-2*u);return t[0]=n[0]*a+e[0]*c+r[0]*s+o[0]*f,t[1]=n[1]*a+e[1]*c+r[1]*s+o[1]*f,t[2]=n[2]*a+e[2]*c+r[2]*s+o[2]*f,t}function xt(t,n,e,r,o,u){let i=1-u,a=i*i,c=u*u,s=a*i,f=3*u*a,l=3*c*i,p=c*u;return t[0]=n[0]*s+e[0]*f+r[0]*l+o[0]*p,t[1]=n[1]*s+e[1]*f+r[1]*l+o[1]*p,t[2]=n[2]*s+e[2]*f+r[2]*l+o[2]*p,t}function Lt(t,n){n=n||1;let e=2*f()*Math.PI,r=2*f()-1,o=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=r*n,t}function wt(t,n,e){let r=n[0],o=n[1],u=n[2],i=e[3]*r+e[7]*o+e[11]*u+e[15];return i=i||1,t[0]=(e[0]*r+e[4]*o+e[8]*u+e[12])/i,t[1]=(e[1]*r+e[5]*o+e[9]*u+e[13])/i,t[2]=(e[2]*r+e[6]*o+e[10]*u+e[14])/i,t}function Ct(t,n,e){let r=n[0],o=n[1],u=n[2];return t[0]=r*e[0]+o*e[3]+u*e[6],t[1]=r*e[1]+o*e[4]+u*e[7],t[2]=r*e[2]+o*e[5]+u*e[8],t}function Pt(t,n,e){let r=e[0],o=e[1],u=e[2],i=e[3],a=n[0],c=n[1],s=n[2],f=o*s-u*c,l=u*a-r*s,p=r*c-o*a,h=o*p-u*l,d=u*f-r*p,y=r*l-o*f,m=2*i;return f*=m,l*=m,p*=m,h*=2,d*=2,y*=2,t[0]=a+f+h,t[1]=c+l+d,t[2]=s+p+y,t}function Ut(t,n,e,r){let o=[],u=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],u[0]=o[0],u[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),u[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=u[0]+e[0],t[1]=u[1]+e[1],t[2]=u[2]+e[2],t}function jt(t,n,e,r){let o=[],u=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],u[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),u[1]=o[1],u[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=u[0]+e[0],t[1]=u[1]+e[1],t[2]=u[2]+e[2],t}function Bt(t,n,e,r){let o=[],u=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],u[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),u[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),u[2]=o[2],t[0]=u[0]+e[0],t[1]=u[1]+e[1],t[2]=u[2]+e[2],t}function Dt(t,n){let e=at(t[0],t[1],t[2]),r=at(n[0],n[1],n[2]);Mt(e,e),Mt(r,r);let o=Nt(e,r);return o>1?0:o<-1?Math.PI:Math.acos(o)}function kt(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Vt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Gt(t,n){let e=t[0],r=t[1],o=t[2],u=n[0],i=n[1],a=n[2];return Math.abs(e-u)<=c*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(r-i)<=c*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-a)<=c*Math.max(1,Math.abs(o),Math.abs(a))}const qt=lt,Ht=pt,Xt=ht,Wt=bt,zt=Tt,$t=it,Yt=At,Kt=function(){let t=ot();return function(n,e,r,o,u,i){let a,c;for(e||(e=3),r||(r=0),c=o?Math.min(o*e+r,n.length):n.length,a=r;a<c;a+=e)t[0]=n[a],t[1]=n[a+1],t[2]=n[a+2],u(t,t,i),n[a]=t[0],n[a+1]=t[1],n[a+2]=t[2];return n}}();function Jt(){let t=new s(4);return s!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Zt(t){let n=new s(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function Qt(t,n,e,r){let o=new s(4);return o[0]=t,o[1]=n,o[2]=e,o[3]=r,o}function tn(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function nn(t,n,e,r,o){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t}function en(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function rn(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function on(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function un(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function an(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function cn(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function sn(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t}function fn(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t}function ln(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function pn(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function hn(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}function dn(t,n){let e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2],u=n[3]-t[3];return Math.sqrt(e*e+r*r+o*o+u*u)}function yn(t,n){let e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2],u=n[3]-t[3];return e*e+r*r+o*o+u*u}function mn(t){let n=t[0],e=t[1],r=t[2],o=t[3];return Math.sqrt(n*n+e*e+r*r+o*o)}function gn(t){let n=t[0],e=t[1],r=t[2],o=t[3];return n*n+e*e+r*r+o*o}function vn(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function _n(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function En(t,n){let e=n[0],r=n[1],o=n[2],u=n[3],i=e*e+r*r+o*o+u*u;return i>0&&(i=1/Math.sqrt(i),t[0]=e*i,t[1]=r*i,t[2]=o*i,t[3]=u*i),t}function bn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function Tn(t,n,e,r){let o=n[0],u=n[1],i=n[2],a=n[3];return t[0]=o+r*(e[0]-o),t[1]=u+r*(e[1]-u),t[2]=i+r*(e[2]-i),t[3]=a+r*(e[3]-a),t}function An(t,n){var e,r,o,u,i,a;n=n||1;do{i=(e=2*f()-1)*e+(r=2*f()-1)*r}while(i>=1);do{a=(o=2*f()-1)*o+(u=2*f()-1)*u}while(a>=1);var c=Math.sqrt((1-i)/a);return t[0]=n*e,t[1]=n*r,t[2]=n*o*c,t[3]=n*u*c,t}function Rn(t,n,e){let r=n[0],o=n[1],u=n[2],i=n[3];return t[0]=e[0]*r+e[4]*o+e[8]*u+e[12]*i,t[1]=e[1]*r+e[5]*o+e[9]*u+e[13]*i,t[2]=e[2]*r+e[6]*o+e[10]*u+e[14]*i,t[3]=e[3]*r+e[7]*o+e[11]*u+e[15]*i,t}function Sn(t,n,e){let r=n[0],o=n[1],u=n[2],i=e[0],a=e[1],c=e[2],s=e[3],f=s*r+a*u-c*o,l=s*o+c*r-i*u,p=s*u+i*o-a*r,h=-i*r-a*o-c*u;return t[0]=f*s+h*-i+l*-c-p*-a,t[1]=l*s+h*-a+p*-i-f*-c,t[2]=p*s+h*-c+f*-a-l*-i,t[3]=n[3],t}function Mn(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Nn(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function On(t,n){let e=t[0],r=t[1],o=t[2],u=t[3],i=n[0],a=n[1],s=n[2],f=n[3];return Math.abs(e-i)<=c*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(r-a)<=c*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-s)<=c*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(u-f)<=c*Math.max(1,Math.abs(u),Math.abs(f))}const In=rn,Fn=on,xn=un,Ln=dn,wn=yn,Cn=mn,Pn=gn,Un=function(){let t=Jt();return function(n,e,r,o,u,i){let a,c;for(e||(e=4),r||(r=0),c=o?Math.min(o*e+r,n.length):n.length,a=r;a<c;a+=e)t[0]=n[a],t[1]=n[a+1],t[2]=n[a+2],t[3]=n[a+3],u(t,t,i),n[a]=t[0],n[a+1]=t[1],n[a+2]=t[2],n[a+3]=t[3];return n}}();function jn(){let t=new s(4);return s!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Bn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Dn(t,n,e){e*=.5;let r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t}function kn(t,n){let e=2*Math.acos(n[3]),r=Math.sin(e/2);return r>c?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),e}function Vn(t,n,e){let r=n[0],o=n[1],u=n[2],i=n[3],a=e[0],c=e[1],s=e[2],f=e[3];return t[0]=r*f+i*a+o*s-u*c,t[1]=o*f+i*c+u*a-r*s,t[2]=u*f+i*s+r*c-o*a,t[3]=i*f-r*a-o*c-u*s,t}function Gn(t,n,e){e*=.5;let r=n[0],o=n[1],u=n[2],i=n[3],a=Math.sin(e),c=Math.cos(e);return t[0]=r*c+i*a,t[1]=o*c+u*a,t[2]=u*c-o*a,t[3]=i*c-r*a,t}function qn(t,n,e){e*=.5;let r=n[0],o=n[1],u=n[2],i=n[3],a=Math.sin(e),c=Math.cos(e);return t[0]=r*c-u*a,t[1]=o*c+i*a,t[2]=u*c+r*a,t[3]=i*c-o*a,t}function Hn(t,n,e){e*=.5;let r=n[0],o=n[1],u=n[2],i=n[3],a=Math.sin(e),c=Math.cos(e);return t[0]=r*c+o*a,t[1]=o*c-r*a,t[2]=u*c+i*a,t[3]=i*c-u*a,t}function Xn(t,n){let e=n[0],r=n[1],o=n[2];return t[0]=e,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-o*o)),t}function Wn(t,n,e,r){let o,u,i,a,s,f=n[0],l=n[1],p=n[2],h=n[3],d=e[0],y=e[1],m=e[2],g=e[3];return(u=f*d+l*y+p*m+h*g)<0&&(u=-u,d=-d,y=-y,m=-m,g=-g),1-u>c?(o=Math.acos(u),i=Math.sin(o),a=Math.sin((1-r)*o)/i,s=Math.sin(r*o)/i):(a=1-r,s=r),t[0]=a*f+s*d,t[1]=a*l+s*y,t[2]=a*p+s*m,t[3]=a*h+s*g,t}function zn(t){let n=f(),e=f(),r=f(),o=Math.sqrt(1-n),u=Math.sqrt(n);return t[0]=o*Math.sin(2*Math.PI*e),t[1]=o*Math.cos(2*Math.PI*e),t[2]=u*Math.sin(2*Math.PI*r),t[3]=u*Math.cos(2*Math.PI*r),t}function $n(t,n){let e=n[0],r=n[1],o=n[2],u=n[3],i=e*e+r*r+o*o+u*u,a=i?1/i:0;return t[0]=-e*a,t[1]=-r*a,t[2]=-o*a,t[3]=u*a,t}function Yn(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function Kn(t,n){let e,r=n[0]+n[4]+n[8];if(r>0)e=Math.sqrt(r+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{let r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);let o=(r+1)%3,u=(r+2)%3;e=Math.sqrt(n[3*r+r]-n[3*o+o]-n[3*u+u]+1),t[r]=.5*e,e=.5/e,t[3]=(n[3*o+u]-n[3*u+o])*e,t[o]=(n[3*o+r]+n[3*r+o])*e,t[u]=(n[3*u+r]+n[3*r+u])*e}return t}function Jn(t,n,e,r){let o=.5*Math.PI/180;n*=o,e*=o,r*=o;let u=Math.sin(n),i=Math.cos(n),a=Math.sin(e),c=Math.cos(e),s=Math.sin(r),f=Math.cos(r);return t[0]=u*c*f-i*a*s,t[1]=i*a*f+u*c*s,t[2]=i*c*s-u*a*f,t[3]=i*c*f+u*a*s,t}function Zn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const Qn=Zt,te=Qt,ne=tn,ee=nn,re=en,oe=Vn,ue=pn,ie=bn,ae=Tn,ce=mn,se=ce,fe=gn,le=fe,pe=En,he=Nn,de=On,ye=function(){let t=ot(),n=at(1,0,0),e=at(0,1,0);return function(r,o,u){let i=Nt(o,u);return i<-.999999?(Ot(t,n,o),$t(t)<1e-6&&Ot(t,e,o),Mt(t,t),Dn(r,t,Math.PI),r):i>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Ot(t,o,u),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+i,pe(r,r))}}(),me=function(){let t=jn(),n=jn();return function(e,r,o,u,i,a){return Wn(t,r,i,a),Wn(n,o,u,a),Wn(e,t,n,2*a*(1-a)),e}}(),ge=function(){let t=function(){let t=new s(9);return s!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}();return function(n,e,r,o){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],pe(n,Kn(n,t))}}();function ve(){let t=new s(2);return s!=Float32Array&&(t[0]=0,t[1]=0),t}function _e(t){let n=new s(2);return n[0]=t[0],n[1]=t[1],n}function Ee(t,n){let e=new s(2);return e[0]=t,e[1]=n,e}function be(t,n){return t[0]=n[0],t[1]=n[1],t}function Te(t,n,e){return t[0]=n,t[1]=e,t}function Ae(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t}function Re(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function Se(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function Me(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function Ne(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function Oe(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function Ie(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t}function Fe(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t}function xe(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function Le(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t}function we(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t}function Ce(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function Pe(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function Ue(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)}function je(t){var n=t[0],e=t[1];return n*n+e*e}function Be(t,n){return t[0]=-n[0],t[1]=-n[1],t}function De(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function ke(t,n){var e=n[0],r=n[1],o=e*e+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o),t}function Ve(t,n){return t[0]*n[0]+t[1]*n[1]}function Ge(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t}function qe(t,n,e,r){var o=n[0],u=n[1];return t[0]=o+r*(e[0]-o),t[1]=u+r*(e[1]-u),t}function He(t,n){n=n||1;var e=2*f()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t}function Xe(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[2]*o,t[1]=e[1]*r+e[3]*o,t}function We(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[2]*o+e[4],t[1]=e[1]*r+e[3]*o+e[5],t}function ze(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[3]*o+e[6],t[1]=e[1]*r+e[4]*o+e[7],t}function $e(t,n,e){let r=n[0],o=n[1];return t[0]=e[0]*r+e[4]*o+e[12],t[1]=e[1]*r+e[5]*o+e[13],t}function Ye(t,n,e,r){let o=n[0]-e[0],u=n[1]-e[1],i=Math.sin(r),a=Math.cos(r);return t[0]=o*a-u*i+e[0],t[1]=o*i+u*a+e[1],t}function Ke(t,n){let e=t[0],r=t[1],o=n[0],u=n[1],i=e*e+r*r;i>0&&(i=1/Math.sqrt(i));let a=o*o+u*u;a>0&&(a=1/Math.sqrt(a));let c=(e*o+r*u)*i*a;return c>1?0:c<-1?Math.PI:Math.acos(c)}function Je(t){return"vec2("+t[0]+", "+t[1]+")"}function Ze(t,n){return t[0]===n[0]&&t[1]===n[1]}function Qe(t,n){let e=t[0],r=t[1],o=n[0],u=n[1];return Math.abs(e-o)<=c*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-u)<=c*Math.max(1,Math.abs(r),Math.abs(u))}const tr=Ue,nr=Re,er=Se,rr=Me,or=Ce,ur=Pe,ir=je,ar=function(){let t=ve();return function(n,e,r,o,u,i){let a,c;for(e||(e=2),r||(r=0),c=o?Math.min(o*e+r,n.length):n.length,a=r;a<c;a+=e)t[0]=n[a],t[1]=n[a+1],u(t,t,i),n[a]=t[0],n[a+1]=t[1];return n}}();var cr,sr,fr,lr,pr,hr=e(2),dr=e(23),yr=Object(dr.create)({checkTypes:!1,env:dr.env}),mr=function(t){return void 0==t||null==t},gr=function(t){return function(t){var n=t.url,e=t.crossOrigin;return Object(hr.Future)(function(t,r){var o=new Image;o.addEventListener("load",function(){return r(o)}),o.addEventListener("error",t),yr.map(function(t){return o.crossOrigin=t})(e),o.src=n})}({url:t,crossOrigin:function(t){return-1===t.indexOf("http://")&&-1===t.indexOf("https://")||function(t){return new(window.URL||window.webkitURL||window)(t)}(t).origin===window.location.origin}(t)?yr.Nothing:yr.Just("anonymous")})},vr=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},_r=function(t){return function(n){return function(t){return function(n){return Object(hr.Future)(function(e,r){var o=vr({method:"GET"},n),u=void 0!==o.xhr?o.xhr:new XMLHttpRequest;u.onreadystatechange=function(){if(u.readyState===u.DONE){if(!u.status)return;200!==u.status?e(u):r(u)}};var i="form"!==o.requestType&&"query"!==o.requestType||null===o.data?"":function(t){var n="";if(!mr(t))for(var e in t)t.hasOwnProperty(e)&&!mr(t[e])&&(""!==n&&(n+="&"),n+=e+"="+encodeURIComponent(t[e]));return n}(o.data),a="query"===o.requestType&&""!==i?t+"?"+i:t;return u.open(o.method,a),u.responseType=o.responseType,void 0!==o.withCredentials&&(u.withCredentials=o.withCredentials),void 0!==o.headers&&o.headers.forEach(function(t){var n=t[0],e=t[1];u.setRequestHeader(n,e)}),"form"===o.requestType&&""!==i?(u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.send(i)):mr(o.data)?u.send():u.send(o.data),function(){return u.abort()}})}}(t)(n).map(function(t){return t.response})}},Er=function(t){return function(n){return function(e){return _r(n)(vr({},e,{responseType:t}))}}},br=function(t){return function(n){return _r(n)({responseType:t})}},Tr=(Er("arraybuffer"),Er("text"),Er("blob"),Er("document"),br("arraybuffer")),Ar=br("json"),Rr=(br("text"),br("blob"),br("document"),function(t){return function(n){return Object(hr.Future)(function(e,r){var o=new FileReader;return o.onload=function(){return r(o.result)},o.onerror=function(t){return e(t)},t([o,n]),function(){return o.abort()}})}});Rr(function(t){var n=t[0],e=t[1];return n.readAsArrayBuffer(e)}),Rr(function(t){var n=t[0],e=t[1];return n.readAsDataURL(e)}),Rr(function(t){var n=t[0],e=t[1];return n.readAsText(e)}),e.d(n,"GltfAnimationTargetPath",function(){return cr}),e.d(n,"GltfAnimationInterpolation",function(){return sr}),e.d(n,"GltfMaterialAlphaMode",function(){return fr}),e.d(n,"GltfNodeKind",function(){return lr}),e.d(n,"GltfPrimitiveDrawKind",function(){return pr}),e.d(n,"GltfIblExtensionName",function(){return Sr}),e.d(n,"GltfLightsExtensionName",function(){return Mr}),e.d(n,"GltfLights_MAX",function(){return Nr}),e.d(n,"GltfUnlitExtensionName",function(){return Or}),e.d(n,"CameraKind",function(){return Ir}),e.d(n,"NodeKind",function(){return Fr}),e.d(n,"LightKind",function(){return xr}),e.d(n,"WebGlConstants",function(){return Lr}),e.d(n,"createVec2",function(){return wr}),e.d(n,"createVec4",function(){return Cr}),e.d(n,"createVec3",function(){return Pr}),e.d(n,"createMat4",function(){return Ur}),e.d(n,"createQuat",function(){return jr}),e.d(n,"createFill",function(){return Br}),e.d(n,"createIdentityTransform",function(){return Dr}),e.d(n,"createTransform",function(){return kr}),e.d(n,"getTrsFromMatrix",function(){return Vr}),e.d(n,"getMatrixFromTrs",function(){return Gr}),e.d(n,"getModelMatrix",function(){return qr}),e.d(n,"getNormalMatrix",function(){return Hr}),e.d(n,"getViewMatrices",function(){return Xr}),e.d(n,"updateTransform",function(){return Wr}),e.d(n,"rotateVectorByMatrix",function(){return zr}),e.d(n,"getOrthographicProjection",function(){return $r}),e.d(n,"getPerspectiveProjection",function(){return Yr}),e.d(n,"getCameraProjection",function(){return Kr}),e.d(n,"getCameraView",function(){return Jr}),e.d(n,"getCameraPosition",function(){return Zr}),e.d(n,"setCameraViewFromTransform",function(){return Qr}),e.d(n,"setCameraPositionFromTransform",function(){return to}),e.d(n,"setCameraProjectionFromSettings",function(){return no}),e.d(n,"filterNodeDeep",function(){return ro}),e.d(n,"filterNodesDeep",function(){return oo}),e.d(n,"forEachNodes",function(){return uo}),e.d(n,"forEachNode",function(){return io}),e.d(n,"someNodes",function(){return ao}),e.d(n,"someNode",function(){return co}),e.d(n,"countNodes",function(){return so}),e.d(n,"findNode",function(){return fo}),e.d(n,"mapNode",function(){return lo}),e.d(n,"mapNodeWithParent",function(){return po}),e.d(n,"mapNodesWithParent",function(){return ho}),e.d(n,"mapNodes",function(){return yo}),e.d(n,"updateNodeTransforms",function(){return mo}),e.d(n,"updateNodeListTransforms",function(){return go}),e.d(n,"getLightDirectionFromMatrix",function(){return eo}),e.d(n,"gltf_setAnimationTime",function(){return Io}),e.d(n,"gltf_createAnimator",function(){return Fo}),e.d(n,"gltf_load",function(){return bu}),e.d(n,"gltf_updateNodeTransforms",function(){return Tu}),e.d(n,"gltf_findNodeByOriginalId",function(){return Au}),e.d(n,"gltf_setJointTransforms",function(){return Ru}),e.d(n,"gltf_updateScene",function(){return Mu}),e.d(n,"gltf_updateShaderConfigs",function(){return Eu}),e.d(n,"createAttributes",function(){return Nu}),e.d(n,"createWebGlBuffers",function(){return Ou}),e.d(n,"makeFramebufferPicker",function(){return Iu}),e.d(n,"createWebGlRenderer",function(){return Cu}),e.d(n,"activateShader",function(){return iu}),e.d(n,"createShader",function(){return au}),e.d(n,"createTextureSwitcher",function(){return Co}),e.d(n,"createTextureFromTarget",function(){return Po}),e.d(n,"createCubeTextureFromTarget",function(){return Uo}),e.d(n,"textureSetterSimple",function(){return jo}),e.d(n,"createSimpleTextureFromTarget",function(){return Bo}),e.d(n,"createUniforms",function(){return eu}),e.d(n,"getVersionString",function(){return xu}),e.d(n,"getMajorVersion",function(){return wu}),e.d(n,"createVertexArrays",function(){return Fu}),function(t){t[t.TRANSLATION=1]="TRANSLATION",t[t.ROTATION=2]="ROTATION",t[t.SCALE=3]="SCALE",t[t.WEIGHTS=4]="WEIGHTS"}(cr||(cr={})),function(t){t[t.LINEAR=1]="LINEAR",t[t.STEP=2]="STEP",t[t.CUBICSPLINE=3]="CUBICSPLINE"}(sr||(sr={})),function(t){t[t.OPAQUE=1]="OPAQUE",t[t.MASK=2]="MASK",t[t.BLEND=3]="BLEND"}(fr||(fr={})),function(t){t[t.MESH=3]="MESH",t[t.SKIN=4]="SKIN"}(lr||(lr={})),function(t){t[t.ELEMENTS=1]="ELEMENTS",t[t.ARRAY=2]="ARRAY"}(pr||(pr={}));const Sr="PURE3D_IBL",Mr="KHR_lights_punctual",Nr=10,Or="KHR_Unlit";var Ir,Fr,xr,Lr;!function(t){t[t.PERSPECTIVE=0]="PERSPECTIVE",t[t.ORTHOGRAPHIC=1]="ORTHOGRAPHIC"}(Ir||(Ir={})),function(t){t[t.CAMERA=1]="CAMERA",t[t.LIGHT=2]="LIGHT"}(Fr||(Fr={})),function(t){t[t.Directional=1]="Directional",t[t.Point=2]="Point",t[t.Spot=3]="Spot"}(xr||(xr={})),function(t){t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.ACTIVE_ATTRIBUTE_MAX_LENGTH=35722]="ACTIVE_ATTRIBUTE_MAX_LENGTH",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_UNIFORM_MAX_LENGTH=35719]="ACTIVE_UNIFORM_MAX_LENGTH",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALPHA=6406]="ALPHA",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.ALWAYS=519]="ALWAYS",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.BACK=1029]="BACK",t[t.BLEND=3042]="BLEND",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.BYTE=5120]="BYTE",t[t.CCW=2305]="CCW",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.CULL_FACE=2884]="CULL_FACE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.CW=2304]="CW",t[t.DECR=7683]="DECR",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DITHER=3024]="DITHER",t[t.DONT_CARE=4352]="DONT_CARE",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.EQUAL=514]="EQUAL",t[t.FASTEST=4353]="FASTEST",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRONT=1028]="FRONT",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.GEQUAL=518]="GEQUAL",t[t.GREATER=516]="GREATER",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.INCR=7682]="INCR",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.INFO_LOG_LENGTH=35716]="INFO_LOG_LENGTH",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVERT=5386]="INVERT",t[t.KEEP=7680]="KEEP",t[t.LEQUAL=515]="LEQUAL",t[t.LESS=513]="LESS",t[t.LINEAR=9729]="LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.NEAREST=9728]="NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.NEVER=512]="NEVER",t[t.NICEST=4354]="NICEST",t[t.NONE=0]="NONE",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.NO_ERROR=0]="NO_ERROR",t[t.NUM_COMPRESSED_TEXTURE_FORMATS=34466]="NUM_COMPRESSED_TEXTURE_FORMATS",t[t.ONE=1]="ONE",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.POINTS=0]="POINTS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.RED_BITS=3410]="RED_BITS",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERER=7937]="RENDERER",t[t.REPEAT=10497]="REPEAT",t[t.REPLACE=7681]="REPLACE",t[t.RGB=6407]="RGB",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.RGBA=6408]="RGBA",t[t.RGBA4=32854]="RGBA4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.SHADER_COMPILER=36346]="SHADER_COMPILER",t[t.SHADER_SOURCE_LENGTH=35720]="SHADER_SOURCE_LENGTH",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.SHORT=5122]="SHORT",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.VENDOR=7936]="VENDOR",t[t.VERSION=7938]="VERSION",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.VIEWPORT=2978]="VIEWPORT",t[t.ZERO=0]="ZERO"}(Lr||(Lr={}));const wr=()=>new Float64Array(2),Cr=()=>new Float64Array(4),Pr=()=>new Float64Array(3),Ur=()=>{const t=new Float64Array(16);return r.identity(t),t},jr=()=>{const t=new Float64Array(4);return i.identity(t),t},Br=t=>n=>{const e=new Float64Array(t);return e.fill(n),e},Dr=t=>{const n={translation:Pr(),rotation:jr(),scale:Br(3)(1)},e=Gr(n);return{trs:n,localMatrix:e,modelMatrix:qr(t)(e)}},kr=t=>n=>{const e={};e.translation=n.translation?n.translation:Pr(),e.rotation=n.rotation?n.rotation:jr(),e.scale=n.scale?n.scale:Br(3)(1);const r=Gr(e);return{trs:e,localMatrix:r,modelMatrix:qr(t)(r)}},Vr=t=>{const n=r.getScaling(Pr(),t),e=r.scale(Ur(),t,[1/n[0],1/n[1],1/n[2]]);return{translation:r.getTranslation(Pr(),t),rotation:r.getRotation(Cr(),e),scale:n}},Gr=t=>r.fromRotationTranslationScale(Ur(),t.rotation,t.translation,t.scale),qr=t=>n=>t?r.multiply(Ur(),t,n):n.slice(),Hr=t=>r.transpose(r.create(),r.invert(r.create(),t)),Xr=t=>n=>{const e=r.multiply(r.create(),t.view,n);return{modelViewMatrix:e,modelViewProjectionMatrix:r.multiply(r.create(),t.projection,e)}},Wr=t=>n=>e=>{const r=t.updateLocal?Gr(e.trs):e.localMatrix,o=t.updateModel?qr(n)(r):e.modelMatrix,u=t.updateModel&&e.normalMatrix?Hr(o):void 0,{modelViewMatrix:i,modelViewProjectionMatrix:a}=t.updateView?Xr(t.camera)(o):e;return Object.assign({},e,{localMatrix:r,modelMatrix:o,normalMatrix:u,modelViewMatrix:i,modelViewProjectionMatrix:a})},zr=t=>n=>{const e=r.getRotation(jr(),n);return o.transformQuat(Pr(),t,e)},$r=t=>{const n=Ur(),e=t.xmag,r=t.ymag,o=t.znear,u=t.zfar;return n[0]=1/e,n[5]=1/r,n[10]=2/(o-u),n[14]=(u+o)/(o-u),n[15]=1,n},Yr=t=>{const n=Ur(),e=void 0===t.aspectRatio&&void 0!==t.canvas?t.canvas.clientWidth/t.canvas.clientHeight:t.aspectRatio,r=t.yfov,o=t.znear,u=t.zfar;return n[0]=1/(e*Math.tan(.5*r)),n[5]=1/Math.tan(.5*r),n[10]=void 0===u?-1:(u+o)/(o-u),n[11]=-1,n[14]=void 0===u?-2*o:2*u*o/(o-u),n},Kr=t=>t.kind==Ir.ORTHOGRAPHIC?$r(t):Yr(t),Jr=t=>r.invert(Ur(),t),Zr=t=>r.getTranslation(Pr(),t),Qr=t=>n=>Object.assign({},n,{view:Jr(t.modelMatrix)}),to=t=>n=>Object.assign({},n,{position:Zr(t.modelMatrix)}),no=t=>n=>Object.assign({},n,{projection:Kr(t)}),eo=t=>{const n=zr([0,0,-1])(t);return o.normalize(n,n),n},ro=t=>n=>{if(void 0!==n&&t(n))return n.children?Object.assign({},n,{children:n.children.map(ro(t)).filter(t=>t)}):n},oo=t=>n=>n.map(ro(t)).filter(t=>t),uo=t=>n=>n.forEach(io(t)),io=t=>n=>{t(n),n.children&&n.children.forEach(io(t))},ao=t=>n=>n.some(co(t)),co=t=>n=>!!t(n)||!!n.children&&n.children.some(co(t)),so=t=>{let n=0;return uo(()=>n++)(t),n},fo=t=>n=>{let e;const r=n=>{if(t(n))return e=n,!0};return Array.isArray(n)?ao(r)(n):co(r)(n),e},lo=t=>n=>{const e=t(n);return e.children?Object.assign(e,{children:e.children.map(lo(t))}):e},po=t=>n=>e=>{const r=t(n)(e);return r.children?Object.assign(r,{children:r.children.map(po(t)(r))}):r},ho=t=>n=>e=>e.map(po(t)(n)),yo=t=>n=>n.map(lo(t)),mo=t=>n=>e=>po(n=>e=>{const o=n?n.transform.modelMatrix:void 0,u=e.transform.modelMatrix,i=Wr(t)(o)(e.transform),a=i.modelMatrix,c=Object.assign({},e,{transform:i});if(t.updateLightDirection&&c.kind===Fr.LIGHT){const t=c.light.kind;t!==xr.Directional&&t!==xr.Spot||void 0!==c.light.direction&&r.equals(u,a)||(c.light.direction=eo(i.modelMatrix))}return c})(n)(e),go=t=>n=>e=>ho(mo(t))(n)(e),vo=({v0:t,v1:n,t:e})=>{if("number"==typeof t&&"number"==typeof n)return t*(1-e)+n*e;const r=t,i=n;if(r.length!==i.length)throw new Error("different length of animation values");switch(r.length){case 1:return vo({v0:r[0],v1:i[0],t:e});case 2:return a.lerp(a.create(),r,i,e);case 3:return o.lerp(o.create(),r,i,e);case 4:return u.lerp(u.create(),r,i,e)}},_o=(t=>n=>e=>{const r=n.length-1,o=([r,o])=>{if(r===o)return!1;if(r<0||o<1)return!1;const u=t(n[r]),i=t(n[o]);return e>u&&e<i},u=([r,i])=>{if(i>=r){const a=0|r+(i-r)/2,c=t(n[a]);return c==e?a:o([a-1,a])?[a-1,a]:o([a,a+1])?[a,a+1]:u(c>e?[r,a-1]:[a+1,i])}return-1};return u([0,r])})(t=>t.timing),Eo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},bo={[Lr.BYTE]:1,[Lr.UNSIGNED_BYTE]:1,[Lr.SHORT]:2,[Lr.UNSIGNED_SHORT]:2,[Lr.UNSIGNED_INT]:4,[Lr.FLOAT]:4},To=({buffer:t,componentType:n})=>{switch(n){case Lr.BYTE:return new Int8Array(t);case Lr.UNSIGNED_BYTE:return new Uint8Array(t);case Lr.SHORT:return new Int16Array(t);case Lr.UNSIGNED_SHORT:return new Uint16Array(t);case Lr.UNSIGNED_INT:return new Uint32Array(t);case Lr.FLOAT:return new Float32Array(t);default:throw new Error("unknown accessor component type!")}},Ao=({info:t,buffers:n})=>void 0===t.bufferViewIndex?To({buffer:new ArrayBuffer(t.bufferLength),componentType:t.componentType}):To({buffer:n[t.bufferIndex].slice(t.byteOffset,t.byteOffset+t.bufferLength),componentType:t.componentType}),Ro=({gltf:t,info:n,buffers:e})=>{const r=Ao({info:n,buffers:e});if(n.sparse){const t=Eo[n.accessorType],o=Ao({info:n.sparse.indices,buffers:e}),u=Ao({info:n.sparse.values,buffers:e});o.map(n=>n*t).forEach((n,e)=>{for(let o=0;o<t;o++)r[n+o]=u[o+e*t]})}return r},So=({gltf:t,accessorId:n})=>{const e=t.accessors[n],r=(({gltf:t,accessor:n})=>{const e=n.count*Eo[n.type]*bo[n.componentType];if(void 0===n.bufferView){if(void 0===n.sparse)throw new Error("accessor must either be sparse or have a buffer view");return{bufferLength:e,componentType:n.componentType,accessorType:n.type}}const r=t.bufferViews[n.bufferView],o=(void 0===r.byteOffset?0:r.byteOffset)+(void 0===n.byteOffset?0:n.byteOffset);return{bufferLength:(r.byteStride?r.byteStride:0)*Eo[n.type]*bo[n.componentType]+e,componentType:n.componentType,bufferViewIndex:n.bufferView,bufferIndex:r.buffer,byteOffset:o,accessorType:n.type}})({gltf:t,accessor:e});return e.sparse&&(r.sparse={indices:(({gltf:t,accessor:n})=>{const e=n.sparse.indices,r=n.sparse.count*bo[e.componentType],o=t.bufferViews[e.bufferView],u=(void 0===o.byteOffset?0:o.byteOffset)+(void 0===e.byteOffset?0:e.byteOffset);return{bufferLength:r,componentType:e.componentType,bufferViewIndex:n.bufferView,bufferIndex:o.buffer,byteOffset:u,accessorType:n.type}})({gltf:t,accessor:e}),values:(({gltf:t,accessor:n})=>{const e=n.sparse.values,r=n.sparse.count*Eo[n.type]*bo[n.componentType],o=t.bufferViews[e.bufferView],u=(void 0===o.byteOffset?0:o.byteOffset)+(void 0===e.byteOffset?0:e.byteOffset);return{bufferLength:r,componentType:n.componentType,bufferViewIndex:n.bufferView,bufferIndex:o.buffer,byteOffset:u,accessorType:n.type}})({gltf:t,accessor:e})}),r},Mo={[cr.WEIGHTS]:"weights",[cr.TRANSLATION]:"translation",[cr.ROTATION]:"rotation",[cr.SCALE]:"scale"},No={weights:cr.WEIGHTS,translation:cr.TRANSLATION,rotation:cr.ROTATION,scale:cr.SCALE},Oo={linear:sr.LINEAR,step:sr.STEP,cubicspline:sr.CUBICSPLINE},Io=t=>n=>e=>{const r=_o(t.keyframes)(n);if(-1===r)return;const o=Array.isArray(r)?(({k0:t,k1:n,time:e,interpolation:r,targetPath:o})=>{const u=t.values,a=n.values,c=(e-t.timing)/(n.timing-t.timing);switch(r){case sr.LINEAR:return o===cr.ROTATION?i.slerp(i.create(),u,a,c):vo({v0:u,v1:a,t:c});case sr.STEP:return u;case sr.CUBICSPLINE:throw new Error("cubicspline is not supported yet!");default:throw new Error("unsupported interpolation ")}})({k0:t.keyframes[r[0]],k1:t.keyframes[r[1]],interpolation:t.interpolation,targetPath:t.targetPath,time:n}):t.keyframes[r].values;return Object.assign({},e,t.targetPath===cr.WEIGHTS?{morphWeights:o}:{transform:Object.assign({},e.transform,{trs:Object.assign({},e.transform.trs,{[Mo[t.targetPath]]:o})})})},Fo=t=>({loop:n})=>{const e=new Map;let r;return t.forEach((t,n)=>e.set(n,0)),o=>u=>{const i=void 0===r?0:(o-r)/1e3;return r=o,t.forEach((t,r)=>{let o=e.get(r)+i;if(!0===n)for(;o>t.timeMax;)o-=t.timeMax;o>=t.timeMin&&o<=t.timeMax&&(u=yo(n=>n.animationIds&&-1!==n.animationIds.indexOf(r)?Io(t)(o)(n):n)(u)),e.set(r,o)}),u}},xo=["a_Position","a_Normal","a_Tangent","a_UV","a_Color","a_Morph_0","a_Morph_1","a_Morph_2","a_Morph_3","a_Morph_4","a_Morph_5","a_Morph_6","a_Morph_7","a_Skin_Joint","a_Skin_Weight"],Lo=Symbol(),wo=t=>{if(!0!==t.extras[Lo]){if(t.version>1)throw new Error("GLTF Renderering only supports WebGL 1.0 for now");xo.forEach(n=>{t.attributes.globalLocations.add(n)}),t.getExtension("OES_standard_derivatives"),t.getExtension("EXT_shader_texture_lod"),t.getExtension("EXT_SRGB"),t.getExtension("OES_element_index_uint"),t.extras[Lo]=!0}},Co=t=>{const n=new Map,e=e=>r=>o=>(n.has(r)&&(()=>{const t=n.get(r);return t.target===e&&t.texture===o})()||(t.activeTexture(t.TEXTURE0+r),t.bindTexture(e,o),n.set(r,{target:e,texture:o})),o);return{switchTexture:e(Lr.TEXTURE_2D),switchCubeTexture:e(Lr.TEXTURE_CUBE_MAP)}},Po=t=>n=>{const{gl:e}=t,r=e.createTexture(),o=Lr.TEXTURE_2D,u=t.dataSize||e.UNSIGNED_BYTE;return e.bindTexture(o,r),t.setParameters(t),(Array.isArray(n)?n:[n]).forEach((n,r)=>{n instanceof Element?e.texImage2D(o,r,t.format,t.format,u,n):e.texImage2D(o,r,t.format,t.width,t.height,0,t.format,u,n)}),r},Uo=t=>n=>{const{gl:e}=t,r=e.createTexture(),o=Lr.TEXTURE_CUBE_MAP,u=t.dataSize||e.UNSIGNED_BYTE;return e.bindTexture(o,r),t.setParameters(t),(Array.isArray(n)?n:[n]).forEach((n,r)=>{Object.keys(n).forEach(o=>{const i=(t=>{switch(o){case"posX":return Lr.TEXTURE_CUBE_MAP_POSITIVE_X;case"negX":return Lr.TEXTURE_CUBE_MAP_NEGATIVE_X;case"posY":return Lr.TEXTURE_CUBE_MAP_POSITIVE_Y;case"negY":return Lr.TEXTURE_CUBE_MAP_NEGATIVE_Y;case"posZ":return Lr.TEXTURE_CUBE_MAP_POSITIVE_Z;case"negZ":return Lr.TEXTURE_CUBE_MAP_NEGATIVE_Z}})(),a=n[o];a instanceof Element?e.texImage2D(i,r,t.format,t.format,u,a):e.texImage2D(i,r,t.format,t.width,t.height,0,t.format,u,a)})}),r},jo=t=>n=>{const{gl:e,width:r,height:o}=n,u=t=>0==(t&t-1);t.flipY?e.pixelStorei(Lr.UNPACK_FLIP_Y_WEBGL,!0):e.pixelStorei(Lr.UNPACK_FLIP_Y_WEBGL,!1),u(r)&&u(o)&&!0===t.useMips?e.generateMipmap(Lr.TEXTURE_2D):(e.texParameteri(Lr.TEXTURE_2D,Lr.TEXTURE_WRAP_S,t.wrapS?t.wrapS:Lr.CLAMP_TO_EDGE),e.texParameteri(Lr.TEXTURE_2D,Lr.TEXTURE_WRAP_T,t.wrapT?t.wrapT:Lr.CLAMP_TO_EDGE),e.texParameteri(Lr.TEXTURE_2D,Lr.TEXTURE_MIN_FILTER,t.filterMin?t.filterMin:Lr.LINEAR),e.texParameteri(Lr.TEXTURE_2D,Lr.TEXTURE_MAG_FILTER,t.filterMag?t.filterMag:Lr.LINEAR))},Bo=t=>n=>Po({gl:t.gl,format:t.alpha?Lr.RGBA:Lr.RGB,setParameters:jo(t)})(n),Do=t=>{--t;for(var n=1;n<32;n<<=1)t|=t>>n;return t+1},ko={filterMin:Lr.LINEAR,filterMag:Lr.LINEAR,wrapS:Lr.REPEAT,wrapT:Lr.REPEAT},Vo=t=>{const n=t.lastIndexOf("/")+1,e=t.lastIndexOf("\\")+1;return n||e?t.substr(0,n>e?n:e):t},Go=[{loadAssets:({gltf:t,coreData:n})=>{const e=(t=>t.extensionsUsed&&-1!==t.extensionsUsed.indexOf(Sr)?t.extensions[Sr]:null)(t),r=e?e.path:"";return""===r?hr.Future.of(n):Ar(r).chain(t=>{const n=Vo(r),e=Array();e.push(t.brdf.url),Object.keys(t.cubeMaps).forEach(n=>{t.cubeMaps[n].urls.forEach(t=>{t.forEach(t=>{e.push(n+"/"+t)})})});const o=e.map(t=>gr(n+t).map(n=>({url:t,img:n})));return Object(hr.parallel)(1/0,o).map(t=>{const n=new Map;return t.forEach(t=>{n.set(t.url,t.img)}),n}).map(n=>({jsonData:t,imageMap:n}))}).map(t=>Object.assign({},n,{extensions:Object.assign({},n.extensions,{ibl:t})}))},createData:({gltf:t,assets:n,renderer:e})=>t=>{if(!n.extensions.ibl)return t;wo(e);const r=e.gl,{jsonData:o,imageMap:u}=n.extensions.ibl,i={brdf:Po({gl:r,format:o.brdf.colorSpace,setParameters:()=>{r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.texParameteri(Lr.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(Lr.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(Lr.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(Lr.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR)}})(u.get(o.brdf.url)),cubeMaps:{},useLod:!1};return Object.keys(o.cubeMaps).forEach(t=>{o.cubeMaps[t].urls.length>1&&(i.useLod=!0),i.cubeMaps[t]=(t=>n=>({colorSpace:e,urls:o})=>{const u=["posX","negX","posY","negY","posZ","negZ"];let i=[];return o.forEach(e=>{const r={};e.forEach((e,o)=>{const i=t.get(n+"/"+e);r[u[o]]=i}),i.push(r)}),Uo({gl:r,format:e,setParameters:t=>{r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),o.length>1?(r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR)):(r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR))}})(i)})(u)(t)(o.cubeMaps[t])}),Object.assign({},t,{extensions:Object.assign({},t.extensions,{ibl:i})})},createScene:t=>t=>t=>t,createNode:t=>t=>t=>t,initialShaderConfig_Primitive:t=>t=>t=>t=>t,runtimeShaderConfig_Primitive:t=>t=>t=>t,initialShaderConfig_Scene:t=>n=>n=>t.extensions.ibl?Object.assign({},n,{ibl:{useLod:t.extensions.ibl.useLod}}):n,runtimeShaderConfig_Scene:t=>t=>t,getShaderSource:t=>n=>n=>n=>{if(t.extensions.ibl){const e=[];e.push("USE_IBL"),t.extensions.ibl.useLod&&e.push("USE_TEX_LOD");const r=e.map(t=>`#define ${t} 1\n`).join("");return Object.assign({},n,{vertex:r+n.vertex,fragment:r+n.fragment})}return n}},{loadAssets:({gltf:t,coreData:n})=>hr.Future.of(n),createData:({gltf:t,assets:n,renderer:e})=>t=>t,createScene:t=>t=>t=>t,createNode:t=>n=>e=>{const r=(t=>t.extensionsUsed&&-1!==t.extensionsUsed.indexOf(Mr)?t.extensions[Mr].lights:null)(t),o=n.extensions&&n.extensions.hasOwnProperty(Mr)?n.extensions[Mr]:void 0;if(!r||!o)return e;const u=(t=>{const n={kind:{directional:xr.Directional,point:xr.Point,spot:xr.Spot}[t.type],color:t.color?Float64Array.from(t.color):Float64Array.from([1,1,1]),intensity:void 0!==t.intensity?t.intensity:1};if(n.kind===xr.Spot){const e=t.spot&&void 0!==t.spot.innerConeAngle?t.spot.innerConeAngle:0,r=t.spot&&void 0!==t.spot.outerConeAngle?t.spot.outerConeAngle:Math.PI/4;n.angleScale=1/Math.max(.001,Math.cos(e)-Math.cos(r)),n.angleOffset=-Math.cos(r)*n.angleScale}return n})(r[o.light]);if(e.kind)throw new Error("node cannot be both a light and some other kind...");return Object.assign({},e,{kind:Fr.LIGHT,light:u})},initialShaderConfig_Primitive:t=>t=>t=>t=>t,runtimeShaderConfig_Primitive:t=>t=>t=>t,initialShaderConfig_Scene:t=>t=>t=>t,runtimeShaderConfig_Scene:t=>n=>{let e=0,r=0,o=0;uo(t=>{if(t.kind===Fr.LIGHT)switch(t.light.kind){case xr.Directional:r++;break;case xr.Point:e++;break;case xr.Spot:o++}})(t.nodes);const u={nPointLights:e,nDirectionalLights:r,nSpotLights:o};return Object.assign({},n,{lights:u})},getShaderSource:t=>t=>n=>e=>{if(t.lights){const r=[],{nPointLights:o,nDirectionalLights:u,nSpotLights:i}=t.lights;if((o>Nr||u>Nr||i>Nr)&&console.warn(`Only ${Nr} lights of each kind are supported`),!o&&!u&&!i)return e;r.push("USE_PUNCTUAL_LIGHTS");const a=r.map(t=>`#define ${t} 1\n`).join("");return Object.assign({},e,{vertex:a+e.vertex,fragment:(t=>n=>n=>{let e="",r="";const o=t.lights.nDirectionalLights,u=t.lights.nPointLights,i=t.lights.nSpotLights;if(o){e+=`uniform vec3 u_Light_Directional_Direction[${o}];\n`,e+=`uniform vec3 u_Light_Directional_Color[${o}];\n`,e+=`uniform float u_Light_Directional_Intensity[${o}];\n`;for(let t=0;t<o;t++)r+=`light = getDirectionalLight(\n                fragment,\n                u_Light_Directional_Direction[${t}],\n                u_Light_Directional_Color[${t}],\n                u_Light_Directional_Intensity[${t}]\n            );\n`,r+="color += getColor(pbr, fragment, light);\n"}if(u){e+=`uniform vec3 u_Light_Point_Position[${u}];\n`,e+=`uniform vec3 u_Light_Point_Color[${u}];\n`,e+=`uniform float u_Light_Point_Intensity[${u}];\n`;for(let t=0;t<u;t++)r+=`light = getPointLight(\n                fragment,\n                u_Light_Point_Position[${t}], \n                u_Light_Point_Color[${t}], \n                u_Light_Point_Intensity[${t}]\n            );\n`,r+="color += getColor(pbr, fragment, light);\n"}if(i){e+=`uniform vec3 u_Light_Spot_Position[${i}];\n`,e+=`uniform vec3 u_Light_Spot_Direction[${i}];\n`,e+=`uniform float u_Light_Spot_AngleScale[${i}];\n`,e+=`uniform float u_Light_Spot_AngleOffset[${i}];\n`,e+=`uniform vec3 u_Light_Spot_Color[${i}];\n`,e+=`uniform float u_Light_Spot_Intensity[${i}];\n`;for(let t=0;t<i;t++)r+=`light = getSpotLight(\n                fragment,\n                u_Light_Spot_Position[${t}], \n                u_Light_Spot_Direction[${t}], \n                u_Light_Spot_AngleScale[${t}], \n                u_Light_Spot_AngleOffset[${t}], \n                u_Light_Spot_Color[${t}], \n                u_Light_Spot_Intensity[${t}]\n            );\n`,r+="color += getColor(pbr, fragment, light);\n"}return n.replace("%PUNCTUAL_LIGHTS_VARS%",e).replace("%PUNCTUAL_LIGHTS_FUNCS%",r)})(t)(n)(a+e.fragment)})}return e}}],qo=({basePath:t,gltf:n,glbBuffers:e})=>Go.map(t=>t.loadAssets).reduce((t,e)=>(t=t.chain(t=>e({gltf:n,coreData:t})),t),(({basePath:t,gltf:n,glbBuffers:e})=>Object(hr.parallel)(1/0,n.buffers.map((n,r)=>void 0!==e&&r<e.length?hr.Future.of(e[r].slice(0,n.byteLength)):0===n.uri.indexOf("data:")?Tr(n.uri):Tr(t+n.uri))))({basePath:t,gltf:n,glbBuffers:e}).chain(e=>(({basePath:t,gltf:n,buffers:e})=>Object(hr.parallel)(1/0,n.images&&n.images.length?n.images.map(r=>void 0!==r.bufferView?function(t){var n=t.data,e=t.mimeType;return Object(hr.Future)(function(t,r){var o=new Image;o.addEventListener("load",function(){return r(o)}),o.addEventListener("error",t);var u=new Uint8Array(n),i=new Blob([u],{type:e}),a=window.URL||window.webkitURL;o.src=a.createObjectURL(i)})}({data:(t=>{const r=n.bufferViews[t],o=r.buffer,u=void 0===r.byteOffset?0:r.byteOffset;return e[o].slice(u,u+r.byteLength)})(r.bufferView),mimeType:r.mimeType}):0===r.uri.indexOf("data:")?gr(r.uri):gr(t+r.uri)):[]))({basePath:t,gltf:n,buffers:e}).map(t=>({buffers:e,imageElements:t,extensions:{}})))),Ho=({gltf:t,assets:n,renderer:e,config:r})=>{wo(e);const{imageElements:o,buffers:u}=n,i=(({renderer:t,gltf:n,imageElements:e})=>{const r=new Map,{gl:o}=t;return n.textures&&n.textures.forEach((u,i)=>{const a=Object.assign({},ko,void 0===u.sampler?void 0:n.samplers[u.sampler]),c=(({renderer:t,gltf:n,textureId:e})=>{const r=Lr.RGBA;for(let t=0;t<n.materials.length;t++){const r=n.materials[t];if(r.emissiveTexture&&r.emissiveTexture.index===e)return 35906;if(r.normalTexture&&r.normalTexture.index===e)return Lr.RGBA;if(r.occlusionTexture&&r.occlusionTexture.index===e)return Lr.RGBA;if(r.pbrMetallicRoughness){if(r.pbrMetallicRoughness.baseColorTexture&&r.pbrMetallicRoughness.baseColorTexture.index===e)return 35906;if(r.pbrMetallicRoughness.metallicRoughnessTexture&&r.pbrMetallicRoughness.metallicRoughnessTexture.index===e)return Lr.RGBA}}return r})({renderer:t,gltf:n,textureId:i}),s=e[u.source],{wrapS:f,wrapT:l,filterMin:p,filterMag:h}=a,d=(({wrapS:t,wrapT:n,filterMin:e,filterMag:r,sampler:o})=>t===Lr.REPEAT||t===Lr.MIRRORED_REPEAT||n===Lr.REPEAT||n===Lr.MIRRORED_REPEAT||e===Lr.NEAREST_MIPMAP_NEAREST||e===Lr.NEAREST_MIPMAP_LINEAR||e===Lr.LINEAR_MIPMAP_NEAREST||e===Lr.LINEAR_MIPMAP_LINEAR)({wrapS:f,wrapT:l,filterMin:p,filterMag:h,sampler:a})&&!(t=>{const n=t=>0==(t&t-1);return n(t.naturalWidth)&&n(t.naturalHeight)})(s)?(t=>{const n=document.createElement("canvas");return n.width=Do(t.width),n.height=Do(t.height),n.getContext("2d").drawImage(t,0,0,n.width,n.height),n})(s):s,y=Po({gl:o,format:c,setParameters:()=>{o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1),o.pixelStorei(o.UNPACK_COLORSPACE_CONVERSION_WEBGL,o.NONE),o.texParameteri(Lr.TEXTURE_2D,o.TEXTURE_WRAP_S,f),o.texParameteri(Lr.TEXTURE_2D,o.TEXTURE_WRAP_T,l),o.texParameteri(Lr.TEXTURE_2D,o.TEXTURE_MIN_FILTER,p),o.texParameteri(Lr.TEXTURE_2D,o.TEXTURE_MAG_FILTER,h)}})(d);r.set(i,y)}),r})({renderer:e,gltf:t,imageElements:o}),a=(({gltf:t,buffers:n,renderer:e})=>{const r=new Map,o=new Map,u=[];t.meshes&&t.meshes.forEach(t=>{t.primitives.forEach(t=>{void 0!==t.indices&&u.push(t.indices)})}),t.accessors.map((t,n)=>({accessor:t,accessorId:n})).filter(({accessorId:n})=>(({gltf:t,accessorId:n})=>!!t.nodes&&t.nodes.some(e=>void 0!==e.mesh&&t.meshes[e.mesh].primitives.some(t=>t.indices===n||Object.keys(t.attributes).some(e=>t.attributes[e]===n)||t.targets&&t.targets.some(t=>Object.keys(t).some(e=>t[e]===n)))))({gltf:t,accessorId:n})).forEach(({accessor:i,accessorId:a})=>{const c=-1!==u.indexOf(a),s=So({gltf:t,accessorId:a}),f=(({gltf:t,accessor:n,info:e})=>{const r=Eo[n.type],o=void 0===n.bufferView?void 0:t.bufferViews[n.bufferView],u=void 0===o||void 0===o.byteStride?0:o.byteStride;return{size:r,type:n.componentType,normalized:void 0!==n.normalized&&n.normalized,stride:u,offset:e.sparse||!n.byteOffset?0:n.byteOffset}})({gltf:t,accessor:i,info:s});let l,p;if(i.sparse)l=Symbol(`accessor ${a}`),p=Ro({gltf:t,buffers:n,info:s}).buffer;else{if(!r.has(s.bufferViewIndex)){const e=t.bufferViews[s.bufferViewIndex],o=e.byteOffset?e.byteOffset:0;r.set(s.bufferViewIndex,{rendererBufferId:Symbol(`${s.bufferViewIndex}`),buffer:n[s.bufferIndex].slice(o,o+e.byteLength)})}const e=r.get(s.bufferViewIndex);l=e.rendererBufferId,p=e.buffer}e.buffers.assign(l)({target:c?Lr.ELEMENT_ARRAY_BUFFER:Lr.ARRAY_BUFFER,usagePattern:Lr.STATIC_DRAW,data:p}),o.set(a,{strategy:f,rendererBufferId:l})});const i=new Map;return{accessorLookup:o,vaoIdLookup:i}})({gltf:t,buffers:u,renderer:e}),c=(({gltf:t,buffers:n})=>{const e=new Map;let r=0;return t.animations&&t.animations.forEach(o=>{o.channels.filter(t=>void 0!==t.target.node).forEach(u=>{const i=No[u.target.path.toLowerCase()],a=o.samplers[u.sampler],c=Oo[a.interpolation?a.interpolation.toLowerCase():"linear"],s=t.accessors[a.input],f=Ro({gltf:t,buffers:n,info:So({gltf:t,accessorId:a.input})}),l=Ro({gltf:t,buffers:n,info:So({gltf:t,accessorId:a.output})}),p=t.accessors[a.output];let h=new Array(f.length);f.forEach((t,n)=>{const e=i===cr.WEIGHTS?l.length/f.length:Eo[p.type];h[n]={timing:t,values:1===e?l[n]:l.subarray(n*e,(n+1)*e)}}),e.set(r++,{keyframes:h,interpolation:c,targetPath:i,timeMin:s.min[0],timeMax:s.max[0]})})}),e})({gltf:t,buffers:u}),s=new Map;return Go.map(t=>t.createData).reduce((r,o)=>(r=o({gltf:t,assets:n,renderer:e})(r),r),{original:t,animations:c,attributes:a,textures:i,shaders:s,initConfig:r,extensions:{}})},Xo=function(){var t=new Array(128),n=String.fromCodePoint||String.fromCharCode,e=[];return function(r){var o,u,i=r.length;e.length=0;for(var a=0;a<i;)(u=r[a++])<=127?o=u:u<=223?o=(31&u)<<6|63&r[a++]:u<=239?o=(15&u)<<12|(63&r[a++])<<6|63&r[a++]:String.fromCodePoint?o=(7&u)<<18|(63&r[a++])<<12|(63&r[a++])<<6|63&r[a++]:(o=63,a+=3),e.push(t[o]||(t[o]=n(o)));return e.join("")}}(),Wo=t=>{const n=new Uint8Array(t),e=window.TextDecoder?new TextDecoder("utf-8").decode(n):Xo(n);return JSON.parse(e)},zo=t=>n=>{const e=new DataView(n,t,8),r=e.getUint32(0,!0),o=e.getUint32(4,!0),u=t+8,i=u+r,a=n.slice(u,i),c=[1313821514===o?Wo(a):5130562===o?a:null,i];return null===c[0]&&console.log(`unknown chunk type: ${o}`),c},$o=t=>(t=>1179937895===(t=>{const n=new DataView(t,0,12);return{magic:n.getUint32(0,!0),version:n.getUint32(4,!0),length:n.getUint32(8,!0)}})(t).magic)(t)?(t=>{const[n,e]=zo(12)(t),r=new Array;let o=e;for(;o<t.byteLength;){const[n,e]=zo(o)(t);null!==n&&r.push(n),o+=e}return{gltf:n,glbBuffers:r}})(t):{gltf:Wo(t),glbBuffers:[]};let Yo=0;const Ko={POSITION:"a_Position",NORMAL:"a_Normal",TANGENT:"a_Tangent",TEXCOORD_0:"a_UV",COLOR_0:"a_Color",JOINTS_0:"a_Skin_Joint",WEIGHTS_0:"a_Skin_Weight"},Jo=t=>t.sort((t,n)=>{if(t===n)return 0;const e=["POSITION","NORMAL","TANGENT","TEXCOOR_0","COLOR_0","JOINTS_0","WEIGHTS_0"],r=e.indexOf(t),o=e.indexOf(n);return r<o?-1:r>o?1:0}),Zo=t=>Jo(Object.keys(t.attributes)),Qo=({renderer:t,data:n})=>{const e=n.original,r=new Map;return void 0===e.nodes||null===e.nodes?r:(e.nodes.map((t,n)=>[t,n]).filter(([t,n])=>void 0!==t.mesh&&null!==t.mesh).forEach(([o,u])=>r.set(o.mesh,e.meshes[o.mesh].primitives.map((r,i)=>{e.meshes[o.mesh];const a=Object.assign({vaoId:(({renderer:t,originalPrimitive:n,data:e})=>{const r={data:[]},o=e.attributes.accessorLookup;void 0!==n.indices&&(r.elementBufferId=o.get(n.indices).rendererBufferId),Zo(n).forEach(e=>{const u=n.attributes[e],i=Ko[e];if(!o.has(u))throw new Error("bug here!");r.data.push(Object.assign({location:t.attributes.getLocationInRenderer(i),bufferId:o.get(u).rendererBufferId},o.get(u).strategy))});const{targets:u}=n;if(u){let n=0;u.forEach(e=>{Jo(Object.keys(e)).forEach(u=>{const i=e[u],a=`a_Morph_${n++}`;r.data.push(Object.assign({location:t.attributes.getLocationInRenderer(a),bufferId:o.get(i).rendererBufferId},o.get(i).strategy))})})}const i=Yo++,a=Symbol();return e.attributes.vaoIdLookup.set(i,a),t.vertexArrays.assign(a)(r),i})({renderer:t,originalPrimitive:r,data:n})},(({originalPrimitive:t,data:n})=>{const e={drawKind:void 0!==t.indices?pr.ELEMENTS:pr.ARRAY,drawMode:t.mode?t.mode:Lr.TRIANGLES};if(e.drawKind===pr.ELEMENTS)e.elementsId=t.indices;else{const r=Zo(t);e.arrayCount=n.original.accessors[t.attributes[r[0]]].count}return e})({originalPrimitive:r,data:n}));return void 0!==r.material&&(a.material=(({gltf:t,materialId:n,data:e})=>{const r=t.materials[n],o={};if(o.metallicRoughnessValues=Float64Array.from([1,1]),o.baseColorFactor=Float64Array.from([1,1,1,1]),r.pbrMetallicRoughness&&(void 0!==r.pbrMetallicRoughness.metallicFactor&&(o.metallicRoughnessValues[0]=r.pbrMetallicRoughness.metallicFactor),void 0!==r.pbrMetallicRoughness.roughnessFactor&&(o.metallicRoughnessValues[1]=r.pbrMetallicRoughness.roughnessFactor),void 0!==r.pbrMetallicRoughness.baseColorFactor&&(o.baseColorFactor=Float64Array.from(r.pbrMetallicRoughness.baseColorFactor)),void 0!==r.pbrMetallicRoughness.baseColorTexture&&(o.baseColorSamplerIndex=r.pbrMetallicRoughness.baseColorTexture.index),void 0!==r.pbrMetallicRoughness.metallicRoughnessTexture&&(o.metallicRoughnessSamplerIndex=r.pbrMetallicRoughness.metallicRoughnessTexture.index)),void 0!==r.normalTexture){const t=void 0!==r.normalTexture.scale?r.normalTexture.scale:1;o.normal={scale:t,samplerIndex:r.normalTexture.index}}if(void 0!==r.occlusionTexture){const t=void 0!==r.occlusionTexture.strength?r.occlusionTexture.strength:1;o.occlusion={strength:t,samplerIndex:r.occlusionTexture.index}}if(void 0!==r.emissiveTexture&&(o.emissiveSamplerIndex=r.emissiveTexture.index),void 0!==r.emissiveFactor&&(o.emissiveFactor=Float64Array.from(r.emissiveFactor)),r.alphaMode)switch(r.alphaMode){case"BLEND":o.alphaMode=fr.BLEND;break;case"MASK":o.alphaMode=fr.MASK;break;default:o.alphaMode=fr.OPAQUE}return o.doubleSided=!!r.doubleSided,o.alphaCutoff=void 0===r.alphaCutoff?.5:r.alphaCutoff,o})({gltf:e,materialId:r.material,data:n})),a.shaderConfig=(t=>n=>e=>Go.map(t=>t.initialShaderConfig_Primitive).reduce((r,o)=>(r=o(t)(n)(e)(r),r),(t=>n=>e=>{t.original;const r=t.original.nodes[n.nodeId],o=t.original.meshes[n.meshId].primitives[n.primitiveId],u=t=>n=>-1!==Object.keys(t.attributes).indexOf(n),i=e.material;let a=0,c=0,s=0,f=0,l=0;return void 0!==r.skin&&(l=t.original.skins[r.skin].joints.length),o.targets&&o.targets.forEach(t=>{Jo(Object.keys(t)).forEach(t=>{switch(t){case"POSITION":c++;break;case"NORMAL":s++;break;case"TANGENT":f++;break;default:console.warn("unknown...",t)}}),a++}),{nMorphWeights:a,nPositionMorphs:c,nNormalMorphs:s,nTangentMorphs:f,nSkinJoints:l,alphaMode:i&&i.alphaMode?i.alphaMode:fr.OPAQUE,hasNormalAttributes:u(o)("NORMAL"),hasTangentAttributes:u(o)("TANGENT"),hasUvAttributes:u(o)("TEXCOORD_0"),hasColorAttributes:u(o)("COLOR_0"),hasBaseColorMap:i&&void 0!==i.baseColorSamplerIndex,hasNormalMap:i&&void 0!==i.normal,hasEmissiveMap:i&&void 0!==i.emissiveSamplerIndex,hasMetalRoughnessMap:i&&void 0!==i.metallicRoughnessSamplerIndex,hasOcclusionMap:i&&void 0!==i.occlusion,manualSRGB:!0===t.initConfig.manualSRGB,fastSRGB:!0===t.initConfig.fastSRGB}})(t)(n)(e)))(n)({nodeId:u,meshId:o.mesh,primitiveId:i})(a),a}))),r)},tu=({gltf:t,primitives:n,data:e,assets:r})=>{const o=(({gltf:t,buffers:n})=>{const e=new Map;return t.skins&&t.skins.length?(t.skins.forEach((r,o)=>{const u=r.inverseBindMatrices?(t=>{const n=new Array;for(let e=0;e<t.length;)n.push(t.slice(e,e+16)),e+=16;return n})(Ro({gltf:t,buffers:n,info:So({gltf:t,accessorId:r.inverseBindMatrices})})):r.joints.map(Ur);if(u.length!==r.joints.length)throw new Error("inverse bind matrices mismatch!");let i;const a={joints:r.joints.map((t,n)=>{const e={originalNodeId:t,inverseBindMatrix:u[n]};return void 0!==r.skeleton&&r.skeleton===t&&(i=t),e})};void 0!==i&&(a.skeletonRootId=i),e.set(o,a)}),e):e})({gltf:t,buffers:r.buffers}),u=e=>r=>i=>{const a={originalNodeId:r,kind:void 0!==i.mesh&&n.has(i.mesh)&&n.get(i.mesh).length?lr.MESH:void 0!==i.camera?Fr.CAMERA:void 0},c=i.matrix?Vr(Float64Array.from(i.matrix)):function(t){const n={translation:Float64Array.from([0,0,0]),rotation:Float64Array.from([0,0,0,1]),scale:Float64Array.from([1,1,1])};return Object.keys(n).forEach(e=>{const r=t[e];r&&(n[e]=r)}),n}(i),s=i.matrix?new Float64Array(i.matrix):Gr(c),f=qr(e)(s);if(a.transform={trs:c,localMatrix:s,modelMatrix:f},a.kind===lr.MESH&&t.meshes[i.mesh].primitives.some(t=>(t=>-1!==Object.keys(t.attributes).indexOf("NORMAL"))(t))&&(a.transform.normalMatrix=Hr(f)),a.kind===lr.MESH){if(a.primitives=n.get(i.mesh),void 0!==i.skin){const t=o.get(i.skin);a.skin={skinId:i.skin,joints:t.joints.slice()},void 0!==t.skeletonRootId&&(a.skin.skeletonRootId=t.skeletonRootId)}const e=i.weights?Float64Array.from(i.weights):t.meshes[i.mesh].weights?Float64Array.from(t.meshes[i.mesh].weights):void 0;e&&(a.morphWeights=e)}else a.kind===Fr.CAMERA&&(a.camera={settings:(t=>"orthographic"===t.type?{kind:Ir.ORTHOGRAPHIC,xmag:t.orthographic.xmag,ymag:t.orthographic.ymag,znear:t.orthographic.znear,zfar:t.orthographic.zfar}:{kind:Ir.PERSPECTIVE,aspectRatio:t.perspective.aspectRatio,yfov:t.perspective.yfov,znear:t.perspective.znear,zfar:t.perspective.zfar})(t.cameras[i.camera])},a.cameraIndex=i.camera);const l=Go.map(t=>t.createNode).reduce((n,e)=>(n=e(t)(i)(n),n),a);return i.children?Object.assign({},l,{children:i.children.map(n=>u(f)(n)(t.nodes[n]))}):l};return(({gltf:t,nodes:n})=>{let e=0;return t.animations&&t.animations.forEach(t=>{t.channels.filter(t=>void 0!==t.target.node).forEach(t=>{yo(n=>(n.originalNodeId===t.target.node&&(n.animationIds&&-1!==n.animationIds.indexOf(e)||(n.animationIds||(n.animationIds=[]),n.animationIds.push(e))),n))(n),e++})}),n})({gltf:t,nodes:t.nodes.map((t,n)=>u(null)(n)(t))})};var nu;!function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT"}(nu||(nu={}));const eu=({renderer:t,activateShader:n})=>{const{gl:e}=t,r={uniformLocations:new Map,uniformValues:new Map,uniformSingleValues:new Map,uniformMatrixTranspose:new Map},o=t=>{const{program:o}=n();return r.uniformLocations.has(t)||r.uniformLocations.set(t,e.getUniformLocation(o,t)),r.uniformLocations.get(t)},u=t=>null!==t&&void 0!==t&&-1!=t,i=t=>n=>{if(!r.uniformValues.has(t))return!1;const e=r.uniformValues.get(t);if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0},a=t=>n=>e=>{if(!r.uniformValues.has(n)){switch(t){case nu.FLOAT:r.uniformValues.set(n,new Float32Array(e.length));break;case nu.INT:r.uniformValues.set(n,new Int32Array(e.length))}return}const o=r.uniformValues.get(n);for(let t=0;t<e.length;t++)o[t]=e[t]},c=t=>n=>e=>{if(!r.uniformSingleValues.has(n)||r.uniformSingleValues.get(n)!==e){r.uniformSingleValues.set(n,e);const i=o(n);u(i)&&t(i)(e)}},s=t=>n=>e=>c=>{if(!i(e)(c)){a(t)(e)(c);const i=o(e);u(i)&&n(i)(r.uniformValues.get(e))}},f=t=>n=>e=>c=>s=>{if(!r.uniformMatrixTranspose.has(e)||r.uniformMatrixTranspose.get(e)!==c||!i(e)(s)){a(t)(e)(s),r.uniformMatrixTranspose.set(e,c);const i=o(e);u(i)&&n(i)(c)(r.uniformValues.get(e))}},l={uniform1f:c(t=>n=>e.uniform1f(t,n)),uniform1fv:s(nu.FLOAT)(t=>n=>e.uniform1fv(t,n)),uniform1i:c(t=>n=>e.uniform1i(t,n)),uniform1iv:s(nu.INT)(t=>n=>e.uniform1iv(t,n)),uniform2f:s(nu.FLOAT)(t=>n=>e.uniform2f(t,n[0],n[1])),uniform2fv:s(nu.FLOAT)(t=>n=>e.uniform2fv(t,n)),uniform2i:s(nu.INT)(t=>n=>e.uniform2i(t,n[0],n[1])),uniform2iv:s(nu.INT)(t=>n=>e.uniform2iv(t,n)),uniform3f:s(nu.FLOAT)(t=>n=>e.uniform3f(t,n[0],n[1],n[2])),uniform3fv:s(nu.FLOAT)(t=>n=>e.uniform3fv(t,n)),uniform3i:s(nu.INT)(t=>n=>e.uniform3i(t,n[0],n[1],n[2])),uniform3iv:s(nu.INT)(t=>n=>e.uniform3iv(t,n)),uniform4f:s(nu.FLOAT)(t=>n=>e.uniform4f(t,n[0],n[1],n[2],n[3])),uniform4fv:s(nu.FLOAT)(t=>n=>e.uniform4fv(t,n)),uniform4i:s(nu.INT)(t=>n=>e.uniform4i(t,n[0],n[1],n[2],n[3])),uniform4iv:s(nu.INT)(t=>n=>e.uniform4iv(t,n)),uniformMatrix2fv:f(nu.FLOAT)(t=>n=>r=>e.uniformMatrix2fv(t,n,r)),uniformMatrix3fv:f(nu.FLOAT)(t=>n=>r=>e.uniformMatrix3fv(t,n,r)),uniformMatrix4fv:f(nu.FLOAT)(t=>n=>r=>e.uniformMatrix4fv(t,n,r))};return{cache:r,setters:l,getLocation:o,validLocation:u,hasLocation:t=>u(o(t))}};let ru;const ou=new Map,uu=t=>(ru&&ru.shaderId===t||(ru=ou.get(t)).gl.useProgram(ru.program),ru),iu=t=>uu(t),au=({renderer:t,shaderId:n,source:e})=>{const r=(({renderer:t,source:n})=>{let e,r;const{gl:o}=t,u=o.createProgram(),i=()=>{void 0!==e&&e instanceof WebGLShader&&o.deleteShader(e),void 0!==r&&r instanceof WebGLShader&&o.deleteShader(r),o.deleteProgram(u)},a=t=>n=>{const e=o.createShader(t);if(o.shaderSource(e,n),o.compileShader(e),!o.getShaderParameter(e,o.COMPILE_STATUS)){const n=`${(t=>t===o.VERTEX_SHADER?"vertex":"fragment")(t)} error: `+o.getShaderInfoLog(e);throw new Error(n)}return o.attachShader(u,e),e};if((e=a(o.VERTEX_SHADER)(n.vertex))instanceof Error)return i(),e;if((r=a(o.FRAGMENT_SHADER)(n.fragment))instanceof Error)return i(),r;let c=0;return t.attributes.globalLocations.forEach(t=>{o.bindAttribLocation(u,c,t),c++}),o.linkProgram(u),o.getProgramParameter(u,o.LINK_STATUS)?u:(i(),new Error("Unable to initialize the shader program: "+o.getProgramInfoLog(u)))})({source:e,renderer:t}),o={gl:t.gl,shaderId:n,program:r,uniforms:eu({renderer:t,activateShader:()=>uu(n)})};return ou.set(n,o),o},cu=new Uint8Array(18),su=new Uint8Array(30),fu=new Uint8Array(30),lu=new Uint8Array(30),pu=t=>{let n=1<<t.length;for(let e=0;e<t.length;e++)n|=t[e]<<t.length-e-1;return n},hu=t=>n=>e=>Go.map(t=>t.getShaderSource).reduce((r,o)=>(r=o(t)(n)(e)(r),r),du(t)(n)(e)),du=t=>n=>e=>{t.original;const r=[];switch(e.hasNormalAttributes&&r.push("HAS_NORMALS"),e.hasTangentAttributes&&r.push("HAS_TANGENTS"),e.hasUvAttributes&&r.push("HAS_UV"),e.hasColorAttributes&&r.push("HAS_COLOR"),e.hasBaseColorMap&&r.push("HAS_BASECOLORMAP"),e.hasNormalMap&&r.push("HAS_NORMALMAP"),e.hasEmissiveMap&&r.push("HAS_EMISSIVEMAP"),e.hasMetalRoughnessMap&&r.push("HAS_METALROUGHNESSMAP"),e.hasOcclusionMap&&r.push("HAS_OCCLUSIONMAP"),e.manualSRGB&&r.push("MANUAL_SRGB"),e.fastSRGB&&r.push("SRGB_FAST_APPROXIMATION"),e.nSkinJoints&&r.push("HAS_SKIN"),e.alphaMode){case fr.MASK:r.push("HAS_ALPHA_CUTOFF");break;case fr.BLEND:r.push("HAS_ALPHA_BLEND")}const o=r.map(t=>`#define ${t} 1\n`).join("");return{vertex:yu(t)(n)(e)(o+"precision highp float;\nprecision highp int;\n\n%MORPH_VARS%\n\n#ifdef HAS_SKIN\nattribute vec4 a_Skin_Joint;\nattribute vec4 a_Skin_Weight;\nuniform mat4 u_Skin_Matrices[%SKIN_JOINT_COUNT%];\n#endif\n\nattribute vec4 a_Position;\n#ifdef HAS_NORMALS\nattribute vec4 a_Normal;\n#endif\n#ifdef HAS_TANGENTS\nattribute vec4 a_Tangent;\n#endif\n#ifdef HAS_UV\nattribute vec2 a_UV;\n#endif\n#ifdef HAS_COLOR\nattribute vec4 a_Color;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 v_Position;\nvarying vec2 v_UV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 v_TBN;\n#else\nvarying vec3 v_Normal;\n#endif\n#endif\n\n\nvoid main()\n{\n\n  \n\n  vec4 m_Position = a_Position;\n  #ifdef HAS_NORMALS\n    vec4 m_Normal = a_Normal;\n  #endif\n  #ifdef HAS_TANGENTS\n    vec4 m_Tangent = a_Tangent;\n  #endif\n\n#ifdef HAS_SKIN\n    mat4 skinMat = a_Skin_Weight[0] * u_Skin_Matrices[int(a_Skin_Joint[0])]\n        +   a_Skin_Weight[1] * u_Skin_Matrices[int(a_Skin_Joint[1])]\n        +   a_Skin_Weight[2] * u_Skin_Matrices[int(a_Skin_Joint[2])]\n        +   a_Skin_Weight[3] * u_Skin_Matrices[int(a_Skin_Joint[3])];\n\n    m_Position = skinMat * m_Position;\n#endif\n    %MORPH_FUNCS%\n\n\n  \n  vec4 pos = u_ModelMatrix * m_Position;\n  v_Position = vec3(pos.xyz) / pos.w;\n\n  #ifdef HAS_NORMALS\n  #ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(m_Normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(m_Tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * m_Tangent.w;\n  v_TBN = mat3(tangentW, bitangentW, normalW);\n  #else // HAS_TANGENTS != 1\n  v_Normal = normalize(vec3(u_ModelMatrix * vec4(m_Normal.xyz, 0.0)));\n  #endif\n  #endif\n\n  #ifdef HAS_UV\n  v_UV = a_UV;\n  #else\n  v_UV = vec2(0.,0.);\n  #endif\n\n    #ifdef HAS_COLOR\n    v_Color = a_Color;\n    #endif\n\n\n  gl_Position = u_MVPMatrix * m_Position; // needs w for proper perspective correction\n}\n\n"),fragment:o+"//\n// This fragment shader defines a reference implementation for Physically Based Shading of\n// a microfacet surface material defined by a glTF model.\n//\n// References:\n// [1] Real Shading in Unreal Engine 4\n//     http://blog.selfshadow.com/publications/s2013-shading-course/karis/s2013_pbs_epic_notes_v2.pdf\n// [2] Physically Based Shading at Disney\n//     http://blog.selfshadow.com/publications/s2012-shading-course/burley/s2012_pbs_disney_brdf_notes_v3.pdf\n// [3] README.md - Environment Maps\n//     https://github.com/KhronosGroup/glTF-WebGL-PBR/#environment-maps\n// [4] \"An Inexpensive BRDF Model for Physically based Rendering\" by Christophe Schlick\n//     https://www.cs.virginia.edu/~jdl/bib/appearance/analytic%20models/schlick94b.pdf\n\n///////////////////////////////\n// Quality settings \n///////////////////////////////\n\nprecision highp float;\nprecision highp int;\n\n///////////////////////////////\n// Extensions \n///////////////////////////////\n\n#extension GL_EXT_shader_texture_lod: enable\n#extension GL_OES_standard_derivatives : enable\n\n///////////////////////////////\n// Structs \n///////////////////////////////\n\nstruct Fragment \n{\n    vec3 normal; // fragment normal\n    vec3 vectorToCamera; //normalized vector from surface point to camera\n    vec3 reflection; //reflection vector\n    float NdotV; // cos angle between normal and view direction\n};\n\nstruct Pbr \n{\n    vec4 baseColor;\n    float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\n    float metalness;              // metallic value at the surface\n    vec3 reflectance0;            // full reflectance color (normal incidence angle)\n    vec3 reflectance90;           // reflectance color at grazing angle\n    float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\n    vec3 diffuseColor;            // color contribution from diffuse lighting\n    vec3 specularColor;           // color contribution from specular lighting\n};\n\nstruct Light\n{\n    float NdotL;                  // cos angle between normal and light direction\n    float NdotH;                  // cos angle between normal and half vector\n    float LdotH;                  // cos angle between light direction and half vector\n    float VdotH;                  // cos angle between view direction and half vector\n    vec3 color;                   // attenuated color\n};\n\n///////////////////////////////\n// Constants \n///////////////////////////////\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\n\n///////////////////////////////\n// Uniforms and Attributes \n///////////////////////////////\n\n#ifdef USE_PUNCTUAL_LIGHTS\n%PUNCTUAL_LIGHTS_VARS%\n#endif\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\nuniform float u_AlphaCutoff; \n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef HAS_COLOR\nvarying vec4 v_Color;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n\n\n///////////////////////////////\n// Varyings \n///////////////////////////////\n\nvarying vec3 v_Position;\n\nvarying vec2 v_UV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 v_TBN;\n#else\nvarying vec3 v_Normal;\n#endif\n#endif\n\n///////////////////////////////\n// Pure functions\n///////////////////////////////\n\n// Convert color space\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n    #ifdef MANUAL_SRGB\n        #ifdef SRGB_FAST_APPROXIMATION\n            vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n        #else //SRGB_FAST_APPROXIMATION\n            vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n            vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n        #endif //SRGB_FAST_APPROXIMATION\n        \n        return vec4(linOut,srgbIn.w);\n    #else //MANUAL_SRGB\n        return srgbIn;\n    #endif //MANUAL_SRGB\n}\n\n\n// Basic Lambertian diffuse\n// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog\n// See also [1], Equation 1\nvec3 diffuse(Pbr pbr, Fragment fragment, Light light)\n{\n    return pbr.diffuseColor / M_PI;\n}\n\n// The following equation models the Fresnel reflectance term of the spec equation (aka F())\n// Implementation of fresnel from [4], Equation 15\nvec3 specularReflection(Pbr pbr, Fragment fragment, Light light)\n{\n    return pbr.reflectance0 + (pbr.reflectance90 - pbr.reflectance0) * pow(clamp(1.0 - light.VdotH, 0.0, 1.0), 5.0);\n}\n\n// This calculates the specular geometric attenuation (aka G()),\n// where rougher material will reflect less light back to the viewer.\n// This implementation is based on [1] Equation 4, and we adopt their modifications to\n// alphaRoughness as input as originally proposed in [2].\nfloat geometricOcclusion(Pbr pbr, Fragment fragment, Light light)\n{\n    float NdotL = light.NdotL;\n    float NdotV = fragment.NdotV;\n    float r = pbr.alphaRoughness;\n\n    float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n    float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n    return attenuationL * attenuationV;\n}\n\n// The following equation(s) model the distribution of microfacet normals across the area being drawn (aka D())\n// Implementation from \"Average Irregularity Representation of a Roughened Surface for Ray Reflection\" by T. S. Trowbridge, and K. P. Reitz\n// Follows the distribution function recommended in the SIGGRAPH 2013 course notes from EPIC Games [1], Equation 3.\nfloat microfacetDistribution(Pbr pbr, Fragment fragment, Light light)\n{\n    float roughnessSq = pbr.alphaRoughness * pbr.alphaRoughness;\n    float f = (light.NdotH * roughnessSq - light.NdotH) * light.NdotH + 1.0;\n    return roughnessSq / (M_PI * f * f);\n}\n\n///////////////////////////////\n// Data functions\n///////////////////////////////\n\n\n// Get the PBR info from uniforms and attributes\nPbr getPbr() {\n    // Metallic and Roughness material properties are packed together\n    // In glTF, these factors can be specified by fixed scalar values\n    // or from a metallic-roughness map\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n    #ifdef HAS_METALROUGHNESSMAP\n    // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.\n    // This layout intentionally reserves the 'r' channel for (optional) occlusion map data\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, v_UV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n    #endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n    // Roughness is authored as perceptual roughness; as is convention,\n    // convert to material roughness by squaring the perceptual roughness [2].\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    // The albedo may be defined from a base texture or a flat color\n    #ifdef HAS_BASECOLORMAP\n    vec4 textureColor = texture2D(u_BaseColorSampler, v_UV);\n    vec4 baseColor = SRGBtoLINEAR(textureColor) * u_BaseColorFactor;\n    #else\n    vec4 baseColor = u_BaseColorFactor;\n    #endif\n\n    #ifdef HAS_ALPHA_CUTOFF\n    if(baseColor.a < u_AlphaCutoff) {\n        discard;\n    }\n\n    #endif\n\n    #ifndef HAS_ALPHA_BLEND\n    baseColor.a = 1.0;\n    #endif\n\n    vec3 f0 = vec3(0.04);\n    #ifdef HAS_COLOR\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0) * SRGBtoLINEAR(v_Color).rgb;\n    diffuseColor *= 1.0 - metallic;\n    #else\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    #endif\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n\n    // Compute reflectance.\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n    // For typical incident reflectance range (between 4% to 100%) set the grazing reflectance to 100% for typical fresnel effect.\n    // For very low reflectance range on highly diffuse objects (below 4%), incrementally reduce grazing reflecance to 0%.\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    return Pbr(\n            baseColor,\n            perceptualRoughness,\n            metallic,\n            specularEnvironmentR0,\n            specularEnvironmentR90,\n            alphaRoughness,\n            diffuseColor,\n            specularColor\n    );\n}\n\n// Find the normal for this fragment, pulling either from a predefined normal map\n// or from the interpolated mesh normal and tangent attributes.\n// used only by getFragment()\nvec3 getNormal()\n{\n    // Retrieve the tangent space matrix\n    #ifndef HAS_TANGENTS\n    vec3 pos_dx = dFdx(v_Position);\n    vec3 pos_dy = dFdy(v_Position);\n    vec3 tex_dx = dFdx(vec3(v_UV, 0.0));\n    vec3 tex_dy = dFdy(vec3(v_UV, 0.0));\n    vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n    #ifdef HAS_NORMALS\n    vec3 ng = normalize(v_Normal);\n    #else\n    vec3 ng = cross(pos_dx, pos_dy);\n    #endif\n\n    t = normalize(t - ng * dot(ng, t));\n    vec3 b = normalize(cross(ng, t));\n    mat3 tbn = mat3(t, b, ng);\n    #else // HAS_TANGENTS\n    mat3 tbn = v_TBN;\n    #endif\n\n    #ifdef HAS_NORMALMAP\n    vec3 n = texture2D(u_NormalSampler, v_UV).rgb;\n    n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n    #else\n    // The tbn matrix is linearly interpolated, so we need to re-normalize\n    vec3 n = normalize(tbn[2].xyz);\n    #endif\n\n    return n;\n}\n\n//Get Fragment info\nFragment getFragment() {\n    vec3 normal = getNormal();\n    vec3 vectorToCamera = normalize(u_Camera - v_Position); \n    vec3 reflection = -normalize(reflect(vectorToCamera, normal));\n    float NdotV = abs(dot(normal, vectorToCamera)) + 0.001;\n    return Fragment(normal, vectorToCamera, reflection, NdotV);\n}\n\n#ifdef USE_PUNCTUAL_LIGHTS\n//Directional light based on normal and dynamic light info\nLight getDirectionalLight(Fragment fragment, vec3 lightDirection, vec3 color, float intensity) {\n    vec3 N = fragment.normal;\n    vec3 V = fragment.vectorToCamera;\n    float NdotV = fragment.NdotV;\n\n    vec3 L = -normalize(lightDirection);   // Light Direction\n    vec3 H = normalize(L+V);                          // Half vector between both l and v\n\n    float NdotL = clamp(dot(N, L), 0.001, 1.0);\n    float NdotH = clamp(dot(N, H), 0.0, 1.0);\n    float LdotH = clamp(dot(L, H), 0.0, 1.0);\n    float VdotH = clamp(dot(V, H), 0.0, 1.0);\n\n    return Light(\n        NdotL,\n        NdotH,\n        LdotH,\n        VdotH,\n        color * intensity\n    );\n}\n\n//Point light\nLight getPointLight(Fragment fragment, vec3 lightPosition, vec3 color, float intensity) {\n\n    vec3 N = fragment.normal;\n    vec3 V = fragment.vectorToCamera;\n    float NdotV = fragment.NdotV;\n\n    vec3 L = normalize(lightPosition - v_Position);   // Light Direction \n    vec3 H = normalize(L+V);                          // Half vector between both l and v\n\n    float NdotL = clamp(dot(N, L), 0.001, 1.0);\n    float NdotH = clamp(dot(N, H), 0.0, 1.0);\n    float LdotH = clamp(dot(L, H), 0.0, 1.0);\n    float VdotH = clamp(dot(V, H), 0.0, 1.0);\n\n    float distance    = length(lightPosition - v_Position);\n    float attenuation = 1.0 / (distance * distance);\n\n    Light light = Light(\n        NdotL,\n        NdotH,\n        LdotH,\n        VdotH,\n        color * intensity * attenuation\n    );\n\n    return light;\n}\n\n\n//Spot light\nLight getSpotLight(Fragment fragment, vec3 lightPosition, vec3 lightDirection, float lightAngleScale, float lightAngleOffset, vec3 color, float intensity) {\n\n    vec3 N = fragment.normal;\n    vec3 V = fragment.vectorToCamera;\n    float NdotV = fragment.NdotV;\n\n    vec3 L = normalize(lightPosition - v_Position);   // Light Direction \n    vec3 H = normalize(L+V);                          // Half vector between both l and v\n\n    float NdotL = clamp(dot(N, L), 0.001, 1.0);\n    float NdotH = clamp(dot(N, H), 0.0, 1.0);\n    float LdotH = clamp(dot(L, H), 0.0, 1.0);\n    float VdotH = clamp(dot(V, H), 0.0, 1.0);\n\n    float distance    = length(lightPosition - v_Position);\n    float attenuation = 1.0 / (distance * distance);\n\n    float cd = dot(lightDirection, V);\n    float coneAttentuation = clamp(cd * lightAngleScale + lightAngleOffset, 0.0, 1.0);\n    coneAttentuation *= coneAttentuation;   \n    attenuation = attenuation * coneAttentuation;\n\n    Light light = Light(\n        NdotL,\n        NdotH,\n        LdotH,\n        VdotH,\n        color * intensity * attenuation\n    );\n\n    return light;\n}\n#endif\n\n// Calculation of the lighting contribution from an optional Image Based Light source.\n// Precomputed Environment Maps are required uniform inputs and are computed as outlined in [1].\n// See our README.md on Environment Maps [3] for additional discussion.\n#ifdef USE_IBL\nvec3 getIBLContribution(Pbr pbr, Fragment fragment)\n{\n    float mipCount = 9.0; // resolution of 512x512\n    float lod = (pbr.perceptualRoughness * mipCount);\n    // retrieve a scale and bias to F0. See [1], Figure 3\n    \n    vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT, vec2(fragment.NdotV, 1.0 - pbr.perceptualRoughness))).rgb;\n    vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, fragment.normal)).rgb;\n    \n\n    #ifdef USE_TEX_LOD\n    vec3 specularLight = SRGBtoLINEAR(textureCubeLodEXT(u_SpecularEnvSampler, fragment.reflection, lod)).rgb;\n    #else\n    vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, fragment.reflection)).rgb;\n    #endif\n\n    vec3 diffuse = diffuseLight * pbr.diffuseColor;\n    vec3 specular = specularLight * (pbr.specularColor * brdf.x + brdf.y);\n\n    return diffuse + specular;\n}\n#endif\n\n\nvec3 getColor(Pbr pbr, Fragment fragment, Light light) {\n\n    // Calculate the shading terms for the microfacet specular shading model\n    vec3 F = specularReflection(pbr, fragment, light);\n    float G = geometricOcclusion(pbr, fragment, light);\n    float D = microfacetDistribution(pbr, fragment, light);\n\n    // Calculation of analytical lighting contribution\n    vec3 diffuseContrib = (1.0 - F) * diffuse(pbr, fragment, light);\n    vec3 specContrib = F * G * D / (4.0 * light.NdotL * fragment.NdotV);\n    // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\n    vec3 color = light.NdotL * light.color * (diffuseContrib + specContrib);\n    \n\n    return color;\n}\n\nvoid main()\n{\n    Pbr pbr = getPbr();\n    Fragment fragment = getFragment();\n\n    vec3 color = vec3(0.0, 0.0, 0.0);\n    Light light;\n    #ifdef USE_PUNCTUAL_LIGHTS\n        //Actual implementation will dynamically write the code here\n        %PUNCTUAL_LIGHTS_FUNCS%\n\n    /*\n         light = getDirectionalLight(\n                    fragment,\n                    vec3(0,0,-1),\n                    vec3(1.0, 1.0, 1.0),\n                    100.0\n        );\n\n        color += getColor(pbr, fragment, light);\n      */  \n        //Manual example\n        /*\n        light = getDirectionalLight(\n                    fragment,\n                    vec3(-1,-1,-1),\n                    vec3(1.0, 0, 1.0),\n                    3.0\n        );\n\n        color += getColor(pbr, fragment, light);\n        light = getPointLight(\n                    fragment,\n                    vec3(-3,3,3),\n                    vec3(1.0, 1.0, 1.0),\n                    100.0\n        );\n\n        color += getColor(pbr, fragment, light);\n        */\n    #endif\n\n    #ifdef USE_IBL\n        // Calculate lighting contribution from image based lighting source (IBL)\n        color += getIBLContribution(pbr, fragment);\n    #endif\n\n    // Apply optional PBR terms for additional (optional) shading\n    #ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, v_UV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n    #endif\n\n    #ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, v_UV)).rgb * u_EmissiveFactor;\n    color += emissive;\n    #endif\n\n\n    \n    gl_FragColor = vec4(pow(color,vec3(1.0/2.2)), pbr.baseColor.a);\n}\n"}},yu=t=>t=>t=>n=>{let e="",r="",o=0,u=0;const i=t=>n=>{for(let i=0;i<t;i++){const t=`a_Morph_${o}`;e+=`attribute vec4 ${t};\n`,r+=`${n} += (u_MorphWeights[${u}] * ${t});\n`,o++}u++};t.nPositionMorphs&&i(t.nPositionMorphs)("m_Position"),t.nNormalMorphs&&i(t.nPositionMorphs)("m_Normal"),t.nTangentMorphs&&i(t.nPositionMorphs)("m_Tangent"),u&&(e+=`uniform float u_MorphWeights[${u}];\n`);let a="";return t.nSkinJoints&&(a=t.nSkinJoints.toString()),n.replace("%MORPH_VARS%",e).replace("%MORPH_FUNCS%",r).replace("%SKIN_JOINT_COUNT%",a)},mu=new Float64Array(3),gu={directional:[void 0],point:[void 0],spot:[void 0]};for(let t=1;t<Nr;t++)gu.directional.push({direction:new Float32Array(3*t),color:new Float32Array(3*t),intensity:new Float32Array(t)}),gu.point.push({position:new Float32Array(3*t),color:new Float32Array(3*t),intensity:new Float32Array(t)}),gu.spot.push({position:new Float32Array(3*t),direction:new Float32Array(3*t),color:new Float32Array(3*t),intensity:new Float32Array(t),angleScale:new Float32Array(t),angleOffset:new Float32Array(t)});const vu=t=>n=>e=>{const o=new Map,u=new Map,i=new Array,a=e.shaderConfig.lights?(t=>{const n={directional:gu.directional[t.shaderConfig.lights.nDirectionalLights],point:gu.point[t.shaderConfig.lights.nPointLights],spot:gu.spot[t.shaderConfig.lights.nSpotLights]};return n.directional&&(n.directional.offset=0),n.point&&(n.point.offset=0),n.spot&&(n.spot.offset=0),n})(e):void 0;uo(t=>{if(t.kind===lr.MESH&&t.transform&&t.transform.modelViewProjectionMatrix)i.push(t);else if(t.kind===Fr.LIGHT){const n=t.light,e=(()=>{switch(n.kind){case xr.Directional:return a.directional;case xr.Point:return a.point;case xr.Spot:return a.spot}})(),o=n.color,u=n.intensity,i=n.kind===xr.Point||n.kind===xr.Spot?r.getTranslation(mu,t.transform.modelMatrix):void 0,c=n.direction;for(let t=0;t<3;t++){const n=3*e.offset+t;void 0!==i&&(e.position[n]=i[t]),void 0!==c&&(e.direction[n]=c[t]),e.color[n]=o[t]}n.kind===xr.Spot&&(e.angleScale[e.offset]=n.angleScale,e.angleOffset[e.offset]=n.angleOffset),e.intensity[e.offset]=u,e.offset++}})(e.nodes),i.forEach(r=>{let i;void 0!==r.skin&&r.skin.skinMatrices&&(i=r.skin.skinMatrices),r.primitives.forEach(c=>{const s=(({renderer:t,data:n})=>e=>{const r=(t=>n=>{if(cu.fill(0),su.fill(0),fu.fill(0),lu.fill(0),n.hasNormalAttributes&&(cu[0]=1),n.hasTangentAttributes&&(cu[1]=1),n.hasUvAttributes&&(cu[2]=1),n.hasColorAttributes&&(cu[3]=1),n.hasBaseColorMap&&(cu[4]=1),n.hasNormalMap&&(cu[5]=1),n.hasEmissiveMap&&(cu[6]=1),n.hasMetalRoughnessMap&&(cu[7]=1),n.hasOcclusionMap&&(cu[8]=1),n.manualSRGB&&(cu[9]=1),n.fastSRGB&&(cu[10]=1),cu[11]=n.alphaMode===fr.BLEND?0:1,cu[12]=n.alphaMode===fr.MASK?0:1,cu[13]=n.alphaMode===fr.OPAQUE?0:1,t.ibl&&(cu[14]=1,t.ibl.useLod&&(cu[15]=1)),t.unlit&&(cu[16]=1),t.lights){cu[17]=1;for(let n=0;n<t.lights.nDirectionalLights;n++)lu[n]=1;for(let n=0;n<t.lights.nPointLights;n++)lu[10+n]=1;for(let n=0;n<t.lights.nSpotLights;n++)lu[20+n]=1}for(let t=0;t<n.nPositionMorphs;t++);for(let t=0;t<n.nNormalMorphs;t++);for(let t=0;t<n.nTangentMorphs;t++);for(let t=0;t<n.nMorphWeights;t++);for(let t=0;t<n.nSkinJoints;t++)fu[t]=1;const e=pu(cu).toString();return pu(su).toString(),pu(fu).toString(),pu(lu).toString(),e})(e.shaderConfig);return o=>{const u=r(o.shaderConfig);if(!n.shaders.has(u)){const r=hu(n)(e.shaderConfig)(o.shaderConfig),i=au({shaderId:Symbol(),renderer:t,source:r});n.shaders.set(u,i),console.log("new shader compiled",u)}return n.shaders.get(u)}})({renderer:t,data:n})(e)(c);u.has(s.shaderId)||u.set(s.shaderId,[]);const f=u.get(s.shaderId);f.push((t=>()=>{const{renderer:n,data:e,node:r,primitive:o,lightList:u,scene:i,shader:a,skinMatrices:c}=t,{camera:s}=i,{gl:f}=n,l=e.original,{material:p,drawMode:h}=o,{uniforms:d,shaderId:y}=a,{uniform1i:m,uniform1f:g,uniform1fv:v,uniform1iv:_,uniform2fv:E,uniform3fv:b,uniform4fv:T,uniformMatrix4fv:A}=d.setters,R=e.attributes.vaoIdLookup.get(o.vaoId);let S=0;iu(y),p&&p.doubleSided?n.glToggle(Lr.CULL_FACE)(!1):n.glToggle(Lr.CULL_FACE)(!0),i.shaderConfig.ibl&&(n.switchTexture(S)(e.extensions.ibl.brdf),m("u_brdfLUT")(S++),e.extensions.ibl.cubeMaps.diffuse&&(n.switchCubeTexture(S)(e.extensions.ibl.cubeMaps.diffuse),m("u_DiffuseEnvSampler")(S++)),e.extensions.ibl.cubeMaps.specular&&(n.switchCubeTexture(S)(e.extensions.ibl.cubeMaps.specular),m("u_SpecularEnvSampler")(S++)),b("u_Camera")(s.position)),u&&(u.directional&&(b("u_Light_Directional_Direction")(u.directional.direction),b("u_Light_Directional_Color")(u.directional.color),v("u_Light_Directional_Intensity")(u.directional.intensity)),u.point&&(b("u_Light_Point_Position")(u.point.position),b("u_Light_Point_Color")(u.point.color),v("u_Light_Point_Intensity")(u.point.intensity)),u.spot&&(b("u_Light_Spot_Position")(u.spot.position),b("u_Light_Spot_Direction")(u.spot.direction),v("u_Light_Spot_AngleScale")(u.spot.angleScale),v("u_Light_Spot_AngleOffset")(u.spot.angleOffset),b("u_Light_Spot_Color")(u.spot.color),v("u_Light_Spot_Intensity")(u.spot.intensity))),c&&A("u_Skin_Matrices")(!1)(c),A("u_MVPMatrix")(!1)(r.transform.modelViewProjectionMatrix),A("u_ModelMatrix")(!1)(r.transform.modelMatrix),r.transform.normalMatrix&&A("u_NormalMatrix")(!1)(r.transform.normalMatrix),r.morphWeights&&v("u_MorphWeights")(r.morphWeights);const M=t=>r=>{"number"==typeof r?n.switchTexture(S)(e.textures.get(r)):n.switchTexture(S)(r),m(t)(S++)};if(p&&(E("u_MetallicRoughnessValues")(p.metallicRoughnessValues),T("u_BaseColorFactor")(p.baseColorFactor),void 0!==p.baseColorSamplerIndex&&M("u_BaseColorSampler")(p.baseColorSamplerIndex),void 0!==p.metallicRoughnessSamplerIndex&&M("u_MetallicRoughnessSampler")(p.metallicRoughnessSamplerIndex),void 0!==p.normal&&(g("u_NormalScale")(p.normal.scale),M("u_NormalSampler")(p.normal.samplerIndex)),void 0!==p.occlusion&&(g("u_OcclusionStrength")(p.occlusion.strength),M("u_OcclusionSampler")(p.occlusion.samplerIndex)),void 0!==p.emissiveSamplerIndex&&M("u_EmissiveSampler")(p.emissiveSamplerIndex),void 0!==p.emissiveFactor&&b("u_EmissiveFactor")(p.emissiveFactor),p.alphaMode===fr.MASK)){const t=p.alphaMode===fr.MASK?p.alphaCutoff:1;g("u_AlphaCutoff")(t)}if(n.vertexArrays.activate(R),o.drawKind===pr.ELEMENTS){const t=l.accessors[o.elementsId];f.drawElements(h,t.count,t.componentType,t.byteOffset||0)}else f.drawArrays(h,0,o.arrayCount)})({skinMatrices:i,renderer:t,data:n,node:r,primitive:c,lightList:a,scene:e,shader:s})),o.has(c.shaderConfig.alphaMode)||o.set(c.shaderConfig.alphaMode,new Set),o.get(c.shaderConfig.alphaMode).add(f)})}),t.glToggle(Lr.BLEND)(!1),t.glToggle(Lr.DEPTH_TEST)(!0),t.glDepthFunc(t.gl.LEQUAL),t.glBlendFunc(t.gl.SRC_ALPHA)(t.gl.ONE_MINUS_SRC_ALPHA);const c=_u(t)(o);c(fr.OPAQUE),c(fr.MASK),c(fr.BLEND)},_u=t=>n=>e=>{n.has(e)&&(e===fr.BLEND&&t.glToggle(Lr.BLEND)(!0),n.get(e).forEach(t=>{t.forEach(t=>t())}))},Eu=t=>(t=(t=>{const n=Go.map(t=>t.runtimeShaderConfig_Scene).reduce((n,e)=>(n=e(t)(n),n),t.shaderConfig);return Object.assign({},t,{shaderConfig:n})})(t),t=Object.assign({},t,{nodes:yo(n=>n.kind===lr.MESH?Object.assign({},n,{primitives:n.primitives.map(n=>(t=>n=>{const e=Go.map(t=>t.runtimeShaderConfig_Primitive).reduce((e,r)=>(e=r(t)(n)(e),e),n.shaderConfig);return Object.assign({},n,{shaderConfig:e})})(t)(n))}):n)(t.nodes)})),bu=({renderer:t,path:n,config:e,mapper:r})=>{const o=function(t){const n={};let e,r;const o={renderer:t,getAllNodes:()=>e,getData:()=>r,getOriginalScene:n=>o=>{return Eu((({renderer:t,data:n,allNodes:e})=>t=>r=>{let o=[];if(r>=0&&n.original.scenes[r]){const t=n.original.scenes[r].nodes;uo(n=>{-1!==t.indexOf(n.originalNodeId)&&o.push(n)})(e)}else o=e,console.warn("no scene specified! Expect duplicate nodes...");const u=r>=0?n.original.scenes[r]:{nodes:n.original.nodes.map((t,n)=>n)},i=Go.map(t=>t.createScene).reduce((t,e)=>t=e(n.original)(u)(t),{camera:t,nodes:go({updateLocal:!0,updateModel:!0,updateView:!0,updateLightDirection:!0,camera:t})(null)(o)});return i.shaderConfig=(t=>n=>Go.map(t=>t.initialShaderConfig_Scene).reduce((e,r)=>(e=r(t)(n)(e),e),{}))(n)(i),i})({renderer:t,data:r,allNodes:e})(n)(o))},getCameraNode:n=>{const r=fo(t=>t.kind===Fr.CAMERA&&t.cameraIndex===n)(e);if(!r)return;const o=to(r.transform)(Qr(r.transform)(no(Object.assign({},r.camera.settings,{canvas:t.canvas}))(Object.assign({},r.camera))));return Object.assign({},r,{camera:o})},loadFile:t=>Tr(t).map($o),loadAssets:({gltf:t,basePath:n,glbBuffers:e})=>qo({basePath:n||"",gltf:t,glbBuffers:e}),start:({gltf:n,assets:o,config:u})=>{const i=Ho({gltf:n,renderer:t,assets:o,config:void 0===u?{}:u}),a=Qo({renderer:t,data:i});r=i,e=tu({gltf:n,primitives:a,data:i,assets:o})},renderScene:n=>{vu(t)(r)(n)}};return Object.assign(n,o),n}(t);return o.loadFile(n).chain(({gltf:t,glbBuffers:u})=>(t=r?r(t):t,o.loadAssets({gltf:t,glbBuffers:u,basePath:Vo(n)}).map(n=>({gltf:t,config:e,assets:n})))).map(o.start).map(()=>o)},Tu=t=>n=>{const e=go(t)(null)(n);return yo(Ru(e))(e)},Au=t=>n=>fo(n=>n.originalNodeId===t)(n),Ru=t=>n=>{if(n.kind===lr.MESH&&n.skin){const e=Su(t)(n),o=n=>{const r=e.find(t=>t.originalNodeId===n);return r?r.transform:Au(n)(t).transform};let u=0;const i=r.invert(r.create(),void 0===n.skin.skeletonRootId?n.transform.modelMatrix:o(n.skin.skeletonRootId).modelMatrix),a=e.reduce((t,n)=>{const e=r.create();r.multiply(e,n.transform.modelMatrix,n.inverseBindMatrix),i&&r.multiply(e,i,e);for(let n=0;n<e.length;n++)t[u++]=e[n];return t},new Float32Array(16*n.skin.joints.length));return Object.assign({},n,{skin:Object.assign({},n.skin,{skinMatrices:a})})}return n},Su=t=>n=>{const e=new Map,r=n.skin.joints.map((t,n)=>(e.set(t.originalNodeId,n),{originalNodeId:t.originalNodeId,inverseBindMatrix:t.inverseBindMatrix}));return ao(t=>{if(e.has(t.originalNodeId)){const n=e.get(t.originalNodeId);if(r[n].transform=t.transform,e.delete(t.originalNodeId),!e.size)return!0}return!1})(t),r},Mu=t=>n=>e=>Eu(Object.assign({},e,{nodes:Tu({updateLocal:!0,updateModel:!0,updateView:!0,updateLightDirection:!0,camera:e.camera})(t(n)(e.nodes))})),Nu=({gl:t,buffers:n})=>{let e,r;const o=new Set,u=new Map,i=new Map,a=o=>{const u=n.get(o);e===o&&r===u.target||(t.bindBuffer(u.target,u.buffer),e=o,r=u.target)};return{globalLocations:o,getLocationInShader:n=>e=>{u.has(n)||u.set(n,new Map);const r=u.get(n);return r.has(e)||r.set(e,t.getAttribLocation(n,e)),r.get(e)},getLocationInRenderer:t=>{if(!i.has(t)){let t=0;o.forEach(n=>{i.has(n)||i.set(n,t),t++})}return i.get(t)},activateElements:a,activateData:n=>e=>r=>{a(e),t.vertexAttribPointer(n,r.size,r.type,void 0!==r.normalized&&r.normalized,void 0===r.stride?0:r.stride,void 0===r.offset?0:r.offset),t.enableVertexAttribArray(n)}}},Ou=t=>{const n=new Map,e=e=>{const r=n.get(e);t.bindBuffer(r.target,r.buffer)};return{assign:r=>o=>{const u=n.has(r)?n.get(r):{buffer:t.createBuffer()};u.data=o.data,u.target=o.target,u.usagePattern=o.usagePattern,n.set(r,u),e(r),t.bufferData(u.target,u.data,u.usagePattern)},get:t=>n.get(t),bind:e}},Iu=t=>({width:n,height:e})=>{const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,e,0,t.RGBA,t.UNSIGNED_BYTE,null);const o=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n,e);const u=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,u),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,o),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null);const i=()=>t.bindFramebuffer(t.FRAMEBUFFER,u),a=()=>t.bindFramebuffer(t.FRAMEBUFFER,null);return{bind:i,unbind:a,readPixel:({x:n,y:e})=>{const r=new Uint8Array(4);return i(),t.readPixels(n,e,1,1,t.RGBA,t.UNSIGNED_BYTE,r),a(),r},dispose:()=>{a(),t.deleteFramebuffer(u),t.deleteRenderbuffer(o),t.deleteTexture(r)},clear:n=>{i(),t.clear(n),a()}}},Fu=({getExtension:t,gl:n,version:e,buffers:r})=>{const o=new Map;let u;const i=r=>1===e?t("OES_vertex_array_object").bindVertexArrayOES(r):n.bindVertexArray(r),a=r=>a=>{(r||u!==a)&&(u=a,o.has(a)||o.set(a,1===e?t("OES_vertex_array_object").createVertexArrayOES():n.createVertexArray()),i(o.get(a)))},c=()=>{null!==u&&(u=null,i(null))};return{activate:a(!1),release:c,assign:t=>e=>{a(!0)(t),e.elementBufferId&&r.bind(e.elementBufferId),e.data.forEach(({location:t,usagePattern:e,bufferId:o,size:u,type:i,normalized:a,stride:c,offset:s})=>{r.get(o),r.bind(o),n.vertexAttribPointer(t,u,i,void 0!==a&&a,void 0===c?0:c,void 0===s?0:s),n.enableVertexAttribArray(t)}),c()}}},xu=t=>t.getParameter(Lr.VERSION),Lu=t=>{switch(t){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return!0}return!1},wu=t=>{const n=xu(t);let e="";for(let t=0;t<n.length;t++){const r=n.charAt(t);if(Lu(r))e+=r;else if(e.length)break}return parseInt(e,10)},Cu=t=>{const{canvas:n,contextAttributes:e}=t,r=(()=>{if(void 0!==t.gl)return t.gl;let r;if(void 0===t.version||2===t.version){try{r=n.getContext("webgl2",e)}catch(t){r=void 0}if(r)return r;console.warn("Failed to initialize webgl2, trying webgl1 as a fallback...")}try{r=n.getContext("webgl",e)||n.getContext("experimental-webgl",e)}catch(t){r=void 0}return r||console.warn("Unable to initialize webgl1"),r})(),o=wu(r),u={width:NaN,height:NaN},i=new Map,a=Ou(r),c=new Map,s=t=>{if(!c.has(t)){const n=r.getExtension(t);n||console.warn("Could not create extension",t),c.set(t,n)}return c.get(t)};let f,l,p;const h=Co(r),d=Nu({gl:r,buffers:a}),y=Fu({getExtension:s,gl:r,version:o,buffers:a});return Object.assign({resize:({width:t,height:e})=>{u.width===t&&u.height===e||(n.setAttribute("width",t.toString()),n.setAttribute("height",e.toString()),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),u.width=t,u.height=e)},canvas:n,gl:r,buffers:a,attributes:d,vertexArrays:y},h,{glToggle:t=>n=>{i.has(t)&&i.get(t)===n||(i.set(t,n),n?r.enable(t):r.disable(t))},glDepthFunc:t=>{t!==f&&(r.depthFunc(t),f=t)},glBlendFunc:t=>n=>{t===l&&n===p||(r.blendFunc(t,n),l=t,p=n)},getExtension:s,version:o,extras:{}})}},function(t,n,e){"use strict";e.r(n);var r=function(t){return t},o=function(t){return t},u=o(function(t){return function(n,e){return arguments.length<2?t(n):t(n)(e)}}),i=o(function(t){return function(n,e){return arguments.length<2?r(function(e){return t(n,e)}):t(n,e)}}),a=o(function(t){return function(n,e,r){switch(arguments.length){case 0:case 1:return p(2,t(n));case 2:return p(2,t(n))(e);default:return p(2,t(n))(e,r)}}}),c=o(function(t){return function(n,e,o){switch(arguments.length){case 0:case 1:return u(r(function(e){return t(n,e)}));case 2:return t(n,e);default:return t(n,e)(o)}}}),s=o(function(t){return function(n,e,o){switch(arguments.length){case 0:case 1:return i(r(function(e,r){return t(n,e,r)}));case 2:return r(function(r){return t(n,e,r)});default:return t(n,e,o)}}}),f=function(t){return 1===t.length?t:r(function(n){return t(n)})},l=[[function(t){return 0===t.length?t:r(function(){return t()})}],[f,f],[void 0,u,i],[void 0,a,c,s],[void 0,o(function(t){return function(n,e,r,o){switch(arguments.length){case 0:case 1:return p(3,t(n));case 2:return p(3,t(n))(e);case 3:return p(3,t(n))(e,r);default:return p(3,t(n))(e,r,o)}}}),o(function(t){return function(n,e,o,u){switch(arguments.length){case 0:case 1:return a(r(function(e){return t(n,e)}));case 2:return p(2,t(n,e));case 3:return p(2,t(n,e))(o);default:return p(2,t(n,e))(o,u)}}}),o(function(t){return function(n,e,o,i){switch(arguments.length){case 0:case 1:return c(r(function(e,r){return t(n,e,r)}));case 2:return u(r(function(r){return t(n,e,r)}));case 3:return t(n,e,o);default:return t(n,e,o)(i)}}}),o(function(t){return function(n,e,o,u){switch(arguments.length){case 0:case 1:return s(r(function(e,r,o){return t(n,e,r,o)}));case 2:return i(r(function(r,o){return t(n,e,r,o)}));case 3:return r(function(r){return t(n,e,o,r)});default:return t(n,e,o,u)}}})]],p=function(t,n){return l[t][Math.min(t,n.length)](n)},h=function(t){return function(t,n){return l[t][t](n)}(t.length,t)},d=Object.assign,y=function(t){return d({},t)},m=function(t){return function(n){return t}},g=function(t,n){return t(n)},v=function(t,n){return n},_=function(t){return t&&Object.freeze(t)},E=_([]),b=_({}),T=function(t){return void 0!==t},A=function(t,n){return Object.prototype.hasOwnProperty.call(n,t)},R=function(t){return null==t?t:Object.getPrototypeOf(t)},S=function(t){return null==t?t:(A("constructor",t)?R(t):t).constructor},M=function(t){return"function"==typeof t},N=function(t){return"string"==typeof t},O=function(t){return"number"==typeof t},I=Array.isArray,F=R({}),x=function(t){return null!=t&&"object"==typeof t&&(A("constructor",t)?R(t)===F:t.constructor===Object)},L=function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},w=function(t,n){return function(t,n){for(var e in t){var r=n[e];if(!T(r)&&!A(e,n)||!C(t[e],r))return!1}return!0}(t,n)&&function(t,n){for(var e in t)if(!A(e,n))return!1;return!0}(n,t)};function C(t,n){if(L(t,n))return!0;if(!t||!n)return!1;var e=S(t);if(e!==S(n))return!1;switch(e){case Array:return function(t,n){var e=t.length;if(e!==n.length)return!1;for(var r=0;r<e;++r)if(!C(t[r],n[r]))return!1;return!0}(t,n);case Object:return w(t,n);default:return M(t.equals)&&t.equals(n)}}e.d(n,"seemsArrayLike",function(){return hn}),e.d(n,"Identity",function(){return dn}),e.d(n,"IdentityAsync",function(){return yn}),e.d(n,"Constant",function(){return mn}),e.d(n,"toFunction",function(){return gn}),e.d(n,"assign",function(){return vn}),e.d(n,"modify",function(){return _n}),e.d(n,"modifyAsync",function(){return En}),e.d(n,"remove",function(){return bn}),e.d(n,"set",function(){return Tn}),e.d(n,"traverse",function(){return An}),e.d(n,"compose",function(){return Rn}),e.d(n,"flat",function(){return Sn}),e.d(n,"lazy",function(){return Mn}),e.d(n,"choices",function(){return Nn}),e.d(n,"choose",function(){return On}),e.d(n,"cond",function(){return In}),e.d(n,"condOf",function(){return Fn}),e.d(n,"ifElse",function(){return xn}),e.d(n,"iftes",function(){return Ln}),e.d(n,"orElse",function(){return wn}),e.d(n,"chain",function(){return Cn}),e.d(n,"choice",function(){return Pn}),e.d(n,"unless",function(){return Un}),e.d(n,"when",function(){return jn}),e.d(n,"optional",function(){return Bn}),e.d(n,"zero",function(){return Dn}),e.d(n,"mapIx",function(){return kn}),e.d(n,"setIx",function(){return Vn}),e.d(n,"tieIx",function(){return Gn}),e.d(n,"joinIx",function(){return qn}),e.d(n,"skipIx",function(){return Hn}),e.d(n,"log",function(){return Xn}),e.d(n,"getLog",function(){return Wn}),e.d(n,"transform",function(){return zn}),e.d(n,"transformAsync",function(){return $n}),e.d(n,"seq",function(){return Yn}),e.d(n,"assignOp",function(){return Kn}),e.d(n,"modifyOp",function(){return Jn}),e.d(n,"setOp",function(){return Zn}),e.d(n,"removeOp",function(){return Qn}),e.d(n,"branchOr",function(){return te}),e.d(n,"branch",function(){return ne}),e.d(n,"branches",function(){return ee}),e.d(n,"elems",function(){return re}),e.d(n,"elemsTotal",function(){return oe}),e.d(n,"entries",function(){return ue}),e.d(n,"keys",function(){return ie}),e.d(n,"matches",function(){return ae}),e.d(n,"values",function(){return ce}),e.d(n,"children",function(){return se}),e.d(n,"flatten",function(){return fe}),e.d(n,"query",function(){return le}),e.d(n,"satisfying",function(){return pe}),e.d(n,"leafs",function(){return he}),e.d(n,"all",function(){return de}),e.d(n,"and",function(){return ye}),e.d(n,"any",function(){return me}),e.d(n,"collectAs",function(){return ge}),e.d(n,"collect",function(){return ve}),e.d(n,"concatAs",function(){return _e}),e.d(n,"concat",function(){return Ee}),e.d(n,"countIf",function(){return be}),e.d(n,"count",function(){return Te}),e.d(n,"countsAs",function(){return Ae}),e.d(n,"counts",function(){return Re}),e.d(n,"foldl",function(){return Se}),e.d(n,"foldr",function(){return Me}),e.d(n,"forEach",function(){return Ne}),e.d(n,"forEachWith",function(){return Oe}),e.d(n,"isDefined",function(){return Ie}),e.d(n,"isEmpty",function(){return Fe}),e.d(n,"joinAs",function(){return xe}),e.d(n,"join",function(){return Le}),e.d(n,"maximumBy",function(){return we}),e.d(n,"maximum",function(){return Ce}),e.d(n,"meanAs",function(){return Pe}),e.d(n,"mean",function(){return Ue}),e.d(n,"minimumBy",function(){return je}),e.d(n,"minimum",function(){return Be}),e.d(n,"none",function(){return De}),e.d(n,"or",function(){return ke}),e.d(n,"productAs",function(){return Ve}),e.d(n,"product",function(){return Ge}),e.d(n,"selectAs",function(){return qe}),e.d(n,"select",function(){return He}),e.d(n,"sumAs",function(){return Xe}),e.d(n,"sum",function(){return We}),e.d(n,"get",function(){return ze}),e.d(n,"lens",function(){return $e}),e.d(n,"getter",function(){return Ye}),e.d(n,"setter",function(){return Ke}),e.d(n,"foldTraversalLens",function(){return Je}),e.d(n,"defaults",function(){return Ze}),e.d(n,"define",function(){return Qe}),e.d(n,"normalize",function(){return tr}),e.d(n,"required",function(){return nr}),e.d(n,"reread",function(){return er}),e.d(n,"rewrite",function(){return rr}),e.d(n,"append",function(){return or}),e.d(n,"filter",function(){return ur}),e.d(n,"find",function(){return ir}),e.d(n,"findWith",function(){return ar}),e.d(n,"first",function(){return cr}),e.d(n,"index",function(){return sr}),e.d(n,"last",function(){return fr}),e.d(n,"prefix",function(){return lr}),e.d(n,"slice",function(){return pr}),e.d(n,"suffix",function(){return hr}),e.d(n,"pickIn",function(){return dr}),e.d(n,"prop",function(){return yr}),e.d(n,"props",function(){return mr}),e.d(n,"propsOf",function(){return gr}),e.d(n,"removable",function(){return vr}),e.d(n,"valueOr",function(){return _r}),e.d(n,"pick",function(){return Er}),e.d(n,"replace",function(){return br}),e.d(n,"getInverse",function(){return Tr}),e.d(n,"iso",function(){return Ar}),e.d(n,"array",function(){return Rr}),e.d(n,"inverse",function(){return Sr}),e.d(n,"complement",function(){return Mr}),e.d(n,"identity",function(){return Ht}),e.d(n,"is",function(){return Nr}),e.d(n,"indexed",function(){return Or}),e.d(n,"reverse",function(){return Ir}),e.d(n,"singleton",function(){return Fr}),e.d(n,"disjoint",function(){return xr}),e.d(n,"keyed",function(){return nn}),e.d(n,"uri",function(){return Lr}),e.d(n,"uriComponent",function(){return wr}),e.d(n,"json",function(){return Cr}),e.d(n,"dropPrefix",function(){return Pr}),e.d(n,"dropSuffix",function(){return Ur}),e.d(n,"replaces",function(){return jr}),e.d(n,"split",function(){return Br}),e.d(n,"uncouple",function(){return Dr}),e.d(n,"add",function(){return kr}),e.d(n,"divide",function(){return Vr}),e.d(n,"multiply",function(){return Gr}),e.d(n,"negate",function(){return qr}),e.d(n,"subtract",function(){return Hr}),e.d(n,"pointer",function(){return Xr});var P=function(t,n){return t+n},U=function(t,n){return t*n},j=h(P),B=h(U),D=h(function(t,n){return n/t}),k=function(t){return-t},V=h(function(t,n){return n instanceof t}),G=Object.create,q=_(function(t){return d(G(null),t)}(b)),H=h(function(t,n,e){return e.replace(t,n)}),X=function(t){return t},W=function(t){return t},z=function(t){return t},$=function(t,n){return N(t)?new RegExp(H(/[|\\{}()[\]^$+*?.]/g,"\\$&",t),n):t},Y=function(t,n){return null!=n&&M(n.then)?n.then(t):t(n)},K=function(t,n,e,r){return void 0!==r?Math.min(Math.max(t,r<0?n+r:r),n):e},J=function(t){return function(n){return[n,t]}},Z=function(t){return function(n){return void 0!==n?n:t}},Q=Z(0),tt=function(t){return void 0!==t?!t:t},nt=function(t){return void 0!==t?[t]:t},et=function(t,n){return z(function(e){return t(e)?n(e):void 0})},rt=function(t){return!(t instanceof Object)||I(t)},ot=X(function(t){if(hn(t)){for(var n=t.length,e=Array(n),r=0;n;)e[r++]=t[--n];return e}}),ut=X(function(t,n,e){for(var r=n.length,o=Array(r),u=0,i=!0,a=0;a<r;++a){var c=n[a],s=t(c,a);e!==s&&(o[u++]=s,i&&(i=c===s&&(0!==c||1/c==1/s)||c!=c&&s!=s))}return u!==r?(o.length=u,o):i?n:o}),it=function(t,n){return hn(n)?ut(t,n,void 0):void 0},at=X(function(t,n,e,r,o){for(;r<o;)t[n++]=e[r++];return t});function ct(t,n){for(var e=0,r=n.length;e<r;++e){var o=t(n[e],e);if(void 0!==o)return o}}var st={map:v,of:function(){},ap:function(t,n){return void 0!==t?t:n}},ft=function(t,n){return{map:v,ap:t,of:m(n)}},lt=ft(P,0),pt=function(t){return h(function(n,e,r){var o=void 0,u=void 0;return ht(st,function(e,r){var i=n(e,r);void 0===i||void 0!==u&&!t(i,u)||(o=e,u=i)},e,r),o})},ht=function(t,n,e,r){return gn(e)(r,void 0,t,n)},dt=function(t,n){return p(4,z(function(e,r){return r=n(r),function(n,o){return t(ht(r,e,n,o))}}))},yt=function(t){return function(n){return function(e){return t!==e?[e,n]:n}}},mt=function(t,n){for(;yt!==t;)n.push(t[0]),t=t[1];return n},gt=X(function(t){return mt(t,[]).reverse()});function vt(t,n,e,r){var o=t.map,u=t.ap,i=t.of(yt),a=e.length;if(o===v){for(var c=0;c<a;++c)i=u(i,n(e[c],c));return i}for(var s=yt(r),f=0;f<a;++f)i=u(o(s,i),n(e[f],f));return o(gt,i)}var _t={map:function(t,n){var e=n.m,r=n.p,o=n.c;return{m:"%O <= "+e,p:[t(r[0]),r],c:o}}},Et=function(t){return{m:"%O",p:[t,yt],c:t}},bt=function(t,n){return function(e){return function(r,o,u,i){return u.map(function(t){return n(e,t,r)},i(t(e,r),e))}}},Tt=function(t,n){return n instanceof Object?n[t]:void 0},At=X(function(t,n,e){return void 0!==n?function(t,n,e){var r={};if(e instanceof Object)for(var o in x(e)||(e=y(e)),e)o!==t?r[o]=e[o]:(r[t]=n,t=void 0);return T(t)&&(r[t]=n),r}(t,n,e):function(t,n){var e=void 0;if(n instanceof Object)for(var r in x(n)||(n=y(n)),n)r!==t?(e||(e={}),e[r]=n[r]):t=void 0;return e}(t,e)||b}),Rt=bt(Tt,At),St=function(t,n){return hn(n)?n[t]:void 0},Mt=X(function(t,n,e){hn(e)||(e="");var r=e.length;if(void 0!==n){for(var o=Math.max(t+1,r),u=Array(o),i=0;i<o;++i)u[i]=e[i];return u[t]=n,u}if(r<=t)return at(Array(r),0,e,0,r);for(var a=Array(r-1),c=0;c<t;++c)a[c]=e[c];for(var s=t+1;s<r;++s)a[s-1]=e[s];return a}),Nt=bt(St,Mt),Ot=function(t,n){return function(e,r){return r=n(e,r),function(n,o){return t(n,o,e,r)}}};function It(t,n){var e=n.length-t;if(e<2)return e?gn(n[t]):Ht;for(var r=gn(n[t+--e]),o=function(t,n){return function(e,o){return r(e,o,t,n)}};--e;)o=Ot(gn(n[t+e]),o);var u=gn(n[t]);return function(t,n,e,r){return u(t,n,e,o(e,r))}}var Ft=X(function(t,n,e){switch(typeof t){case"string":return At(t,n,e);case"number":return Mt(t,n,e);case"object":return Ut(t,0,e,n);default:return 4===t.length?t(e,void 0,dn,m(n)):e}}),xt=X(function(t,n,e){switch(typeof t){case"string":return At(t,n(Tt(t,e),t),e);case"number":return Mt(t,n(St(t,e),t),e);case"object":return Ut(t,n,e);default:return 4===t.length?t(e,void 0,dn,n):(n(t(e,void 0),void 0),e)}}),Lt=function(t,n,e){return function(t){return Promise.resolve(t)}(gn(t)(e,void 0,yn,n))};function wt(t){var n=function t(n,e){return t.v=e,n};return n.v=t,n}function Ct(t,n,e,r){for(var o,u=t.length;e<u;++e)switch(typeof(o=t[e])){case"string":n=Tt(r.v=o,n);break;case"number":n=St(r.v=o,n);break;case"object":n=Ct(o,n,0,r);break;default:n=o(n,r.v,mn,r)}return n}var Pt=X(function(t,n){switch(typeof t){case"string":return Tt(t,n);case"number":return St(t,n);case"object":for(var e,r=0,o=t.length;r<o;++r)switch(typeof(e=t[r])){case"string":n=Tt(e,n);break;case"number":n=St(e,n);break;default:return Ct(t,n,r,wt(t[r-1]))}return n;default:return t(n,void 0,mn,X)}});function Ut(t,n,e,r){for(var o,u,i=t.length,a=Array(i),c=0;c<i;++c)switch(a[c]=e,typeof(o=t[c])){case"string":e=Tt(o,e);break;case"number":e=St(o,e);break;default:e=It(c,t)(e,t[c-1],dn,n||m(r)),i=c}for(i===t.length&&(e=n?n(e,t[i-1]):r);0<=--i;)e=N(u=t[i])?At(u,e,a[i]):Mt(u,e,a[i]);return e}var jt=function(t,n){return z(function(e,r,o,u){return o.map(function(t){return n(t,e,r)},u(t(e,r),r))})},Bt=function(t,n){return z(function(e,r,o,u){return o.map(n,u(t(e),r))})},Dt=function(t,n){return Bt(et(N,t),et(N,n))},kt=function(t,n){return Bt(et(O,t),et(O,n))},Vt=X(function(t,n){var e=void 0;for(var r in t){var o=t[r],u=x(o)?Vt(o,n):Pt(o,n);void 0!==u&&(e||(e={}),e[r]=u)}return e}),Gt=X(function(t,n,e){for(var r in t){var o=n&&n[r],u=t[r];e=x(u)?Gt(u,o,e):Ft(u,o,e)}return e}),qt=function(t){return S(t)!==Object?y(t):t},Ht=function(t,n,e,r){return r(t,n)},Xt=X(function(t){return function(n){for(var e={},r=t.length;r--;){var o=n[0];void 0!==o&&(e[t[r]]=o),n=n[1]}return e}}),Wt=X(function(t,n,e,r,o,u){var i=void 0,a=!0,c={};for(var s in n){i=1;var f=e[s],l=n[s](f,s,o,u);void 0!==l?(c[s]=l,a&&(a=f===l&&(0!==f||1/f==1/l)||f!=f&&l!=l)):a=!1}var p=i;for(var h in e)if(void 0===(p&&n[h])){i=1;var d=e[h],y=t(d,h,o,u);void 0!==y?(c[h]=y,a&&(a=d===y&&(0!==d||1/d==1/y)||d!=d&&y!=y)):a=!1}return i?a&&e===r?r:c:r}),zt=function(t,n){return function(e,r,o,u){var i=e instanceof Object?qt(e):b;if(dn===o)return Wt(t,n,i,e,o,u);if(st!==o){var a=o.map,c=o.ap,s=o.of,f=s(J),l=[];for(var p in n)l.push(p),f=c(a(J,f),n[p](i[p],p,o,u));var h=!!l.length||void 0;for(var d in i)void 0===(h&&n[d])&&(l.push(d),f=c(a(J,f),t(i[d],d,o,u)));return l.length?a(Xt(l),f):s(e)}for(var y in n){var m=n[y](i[y],y,o,u);if(void 0!==m)return m}for(var g in i)if(void 0===n[g]){var v=t(i[g],g,o,u);if(void 0!==v)return v}}},$t=function(t,n,e){return C(e,t)?n:e},Yt=X(function(t,n,e,r){for(var o,u=0,i=n.length;u<i;++u)(t(o=n[u],u)?e:r).push(o)}),Kt=function(t){return t[0]},Jt=function(t){return t.index},Zt=function(t){return Jt(t)+t[0].length},Qt=X(function(t,n){var e=n.lastIndex;n.lastIndex=Zt(t);var r=n.exec(t.input);return n.lastIndex=e,r&&r[0]&&r}),tn=function(t){return function(n){return function(e){return[t,e,n]}}},nn=Bt(et(V(Object),X(function(t){t=qt(t);var n=[];for(var e in t)n.push([e,t[e]]);return n})),et(I,X(function(t){for(var n={},e=0,r=t.length;e<r;++e){var o=t[e];2===o.length&&(n[o[0]]=o[1])}return n}))),en=X(function(t,n){if(n instanceof Object){var e={};for(var r in n=qt(n)){var o=t(r),u=e[o];void 0===u&&(e[o]=u={}),u[r]=n[r]}return e}}),rn=X(function(t){return function(n){if(n instanceof Object){var e={};for(var r in n=qt(n)){var o=n[r];if(o instanceof Object)for(var u in o=qt(o))t(u)===r&&(e[u]=o[u])}return e}}}),on=function(t,n){return function(e){return function(r,o,u,i){return(e(r,o)?t:n)(r,o,u,i)}}},un=function(t,n){return n=gn(n),t=gn(t),function(e,r,o,u){return(Ie(n,e)?n:t)(e,r,o,u)}};function an(t,n,e,r,o){var u=e.of;return u?u(t):e.map(m(t),r(o,n))}var cn=function(t,n,e,r){return e===dn?ut(r,t,void 0):e===st?ct(r,t):vt(e,r,t,void 0)},sn=function(t,n){return function(e,r,o,u){return o.chain(function(t){return n(t,r,o,u)},t(e,r,o,u))}},fn=function(t,n){return[n,dr(t)]},ln=m(an),pn=function(t,n,e){return function(r,o){return t(r,o)?n:e(r,o)}},hn=function(t){return t instanceof Object&&(t=t.length)===t>>0&&0<=t||N(t)},dn=X({map:g,of:X,ap:g,chain:g}),yn=X({map:Y,ap:function(t,n){return Y(function(n){return Y(function(t){return t(n)},t)},n)},of:X,chain:Y}),mn=X({map:v}),gn=X(function(t){switch(typeof t){case"string":return Rt(t);case"number":return Nt(t);case"object":return It(0,t);default:return 4===t.length?t:function(t){return z(function(n,e,r,o){return r.map(m(n),o(t(n,e),e))})}(t)}}),vn=h(function(t,n,e){return Ft([t,gr(n)],n,e)}),_n=h(xt),En=h(Lt),bn=h(function(t,n){return Ft(t,void 0,n)}),Tn=h(Ft),An=h(ht);function Rn(){var t=arguments.length;if(t<2)return t?arguments[0]:Ht;for(var n=Array(t);t--;)n[t]=arguments[t];return n}function Sn(){for(var t=[fe],n=0,e=arguments.length;n<e;++n)t.push(arguments[n],fe);return t}function Mn(t){var n=function(r,o,u,i){return(n=gn(t(e)))(r,o,u,i)};function e(t,e,r,o){return n(t,e,r,o)}return e}var Nn=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return e.length?un(e.reduceRight(un),t):t},On=function(t){return z(function(n,e,r,o){return gn(t(n,e))(n,e,r,o)})},In=X(function(){for(var t=arguments.length,n=Dn;t--;){var e=arguments[t];n=e.length<2?gn(e[0]):on(gn(e[1]),n)(e[0])}return n}),Fn=X(function(t){t=gn(t);for(var n=ln,e=arguments.length;--e;){var r=arguments[e];n=1===r.length?m(gn(r[0])):pn(r[0],gn(r[1]),n)}return function(e,r,o,u){return t(e,r,mn,n)(e,r,o,u)}}),xn=h(function(t,n,e){return on(gn(n),gn(e))(t)}),Ln=X(function(t,n){for(var e=arguments.length,r=1&e?gn(arguments[--e]):Dn;0<=(e-=2);)r=on(gn(arguments[e+1]),r)(arguments[e]);return r}),wn=h(un),Cn=h(function(t,n){return[n,On(function(n,e){return void 0!==n?t(n,e):Dn})]}),Pn=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.reduceRight(un,Dn)},Un=on(an,Ht),jn=on(Ht,an),Bn=jn(T),Dn=function(t,n,e,r){return an(t,n,e,r)},kn=function(t){return function(n,e,r,o){return o(n,t(e,n))}},Vn=function(t){return function(n,e,r,o){return o(n,t)}},Gn=h(function(t,n){return n=gn(n),z(function(e,r,o,u){return n(e,r,o,function(n,e){return u(n,t(e,r))})})}),qn=W(Gn(function(t,n){return void 0!==n?void 0!==t?[n,t]:n:t})),Hn=W(Gn(v));function Xn(){var t=h(function(t,n){return console.log.apply(console,at([],0,arguments,0,arguments.length).concat([t,n])),n});return Bt(t("get"),t("set"))}var Wn=h(function(t,n){var e=ht(_t,Et,t,n),r=e.m,o=e.p,u=e.c;return console.log.apply(console,mt(o,[r])),u}),zn=h(function(t,n){return xt(t,X,n)}),$n=h(function(t,n){return Lt(t,X,n)}),Yn=X(function(){var t=arguments.length,n=Dn;if(t)for(n=gn(arguments[--t]);t;)n=sn(gn(arguments[--t]),n);return n}),Kn=function(t){return[gr(t),Zn(t)]},Jn=function(t){return function(n,e,r,o){return an(n=t(n,e),e,r,o,n)}},Zn=function(t){return function(n,e,r,o){return an(t,e,r,o,t)}},Qn=Zn(),te=X(p(2,function(t){return t=gn(t),function(n){return function t(n,e){var r=G(null);for(var o in e){var u=e[o];r[o]=x(u)?t(n,u):gn(u)}return zt(n,r)}(t,n)}})),ne=te(Dn);function ee(){for(var t=arguments.length,n={},e=0;e<t;++e)n[arguments[e]]=Ht;return ne(n)}var re=X(function(t,n,e,r){return hn(t)?cn(t,0,e,r):e.of(t)}),oe=function(t,n,e,r){return hn(t)?e===dn?ut(r,t,ut):e===st?ct(r,t):vt(e,r,t,vt):e.of(t)},ue=W(gn([nn,re])),ie=W(gn([nn,re,0])),ae=X(function(t){return function(n,e,r,o){if(N(n)){var u=r.map;if(t.global){var i=[""];if(i.input=n,i.index=0,st===r)return function(t,n,e){for(;e=Qt(e,n);){var r=t(Kt(e),Jt(e));if(void 0!==r)return r}}(o,t,i);var a=r.ap,c=r.of;return u(function(t){return function(n){for(var e="",r=0,o=function(t){for(var n=[];tn!==t;)n.push(t[0],t[1]),t=t[2];return n}(n),u=o.length-2;-2!==u;u+=-2){var i=o[u];e+=t.slice(r,Jt(i));var a=o[u+1];void 0!==a&&(e+=a),r=Zt(i)}return e+t.slice(r)}}(n),function(t,n,e,r,o,u){for(var i=e(tn);u=Qt(u,o);)i=n(n(t(tn,e(u)),i),r(Kt(u),Jt(u)));return i}(u,a,c,o,t,i))}var s=n.match(t);if(s)return u(function(e){return n.replace(t,void 0!==e?e:"")},o(s[0],Jt(s)))}return an(n,void 0,r,o)}}),ce=X(W(zt(Ht,q))),se=X(function(t,n,e,r){return I(t)?cn(t,0,e,r):x(t)?ce(t,n,e,r):e.of(t)}),fe=X(function(t,n,e,r){return function t(n,o){return I(n)?cn(n,0,e,t):void 0!==n?r(n,o):e.of(n)}(t,n)});function le(){for(var t=[],n=0,e=arguments.length;n<e;++n){var r=gn(arguments[n]);t.push(pe(Ie(r)),r)}return t}var pe=function(t){return function(n,e,r,o){return function n(e,u){return t(e,u)?o(e,u):se(e,u,r,n)}(n,e)}},he=pe(function(t){return void 0!==t&&!I(t)&&!x(t)}),de=h(function(t,n,e){return!ht(st,function(n,e){if(!t(n,e))return!0},n,e)}),ye=de(X),me=h(function(t,n,e){return!!ht(st,function(n,e){if(t(n,e))return!0},n,e)}),ge=h(function(t,n,e){var r=[];return ht(st,function(n,e){var o=t(n,e);void 0!==o&&r.push(o)},n,e),r}),ve=ge(X),_e=dt(X,function(t){return ft(t.concat,t.empty())}),Ee=_e(X),be=h(function(t,n,e){return ht(lt,function(n,e){return t(n,e)?1:0},n,e)}),Te=be(T),Ae=h(function(t,n,e){var r=new Map;return ht(st,function(n,e){var o=t(n,e),u=r.get(o);r.set(o,void 0!==u?u+1:1)},n,e),r}),Re=Ae(X),Se=h(function(t,n,e,r){return ht(st,function(e,r){n=t(n,e,r)},e,r),n}),Me=h(function(t,n,e,r){var o=[],u=[];ht(st,function(t,n){u.push(t),o.push(n)},e,r);for(var i=u.length-1;0<=i;--i)n=t(n,u[i],o[i]);return n}),Ne=h(function(t,n,e){return ht(st,function(n,e){t(n,e)},n,e)}),Oe=h(function(t,n,e,r){var o=t();return ht(st,function(t,e){n(o,t,e)},e,r),o}),Ie=h(function(t,n){return void 0!==ht(st,X,t,n)}),Fe=h(function(t,n){return!ht(st,m(!0),t,n)}),xe=dt(function(t){return void 0!==t?String(t):""},X(function(t){return ft(function(n,e){return void 0!==n?void 0!==e?n+t+e:n:e})})),Le=xe(X),we=pt(function(t,n){return t>n}),Ce=we(X),Pe=h(function(t,n,e){var r=0,o=0;return ht(st,function(n,e){var u=t(n,e);void 0!==u&&(o+=1,r+=u)},n,e),r/o}),Ue=Pe(X),je=pt(function(t,n){return t<n}),Be=je(X),De=h(function(t,n,e){return!ht(st,function(n,e){if(t(n,e))return!0},n,e)}),ke=me(X),Ve=An(ft(U,1)),Ge=Ve(Z(1)),qe=An(st),He=qe(X),Xe=An(lt),We=Xe(Q);function ze(t,n){return 1<arguments.length?Pt(t,n):function(n){return Pt(t,n)}}var $e=h(jt),Ye=function(t){return function(n,e,r,o){return o(t(n,e),e)}},Ke=$e(X),Je=h(function(t,n){return jt(t(n),Tn(n))});function Ze(t){function n(n){return $t(t,void 0,n)}return function(e,r,o,u){return o.map(n,u(void 0!==e?e:t,r))}}var Qe=X(function(t){var n=Z(t);return function(e,r,o,u){return o.map(n,u(void 0!==e?e:t,r))}}),tr=function(t){return[er(t),rr(t)]},nr=X(function(t){return br(t,void 0)}),er=function(t){return function(n,e,r,o){return o(void 0!==n?t(n,e):n,e)}},rr=function(t){return function(n,e,r,o){return r.map(function(n){return void 0!==n?t(n,e):n},o(n,e))}};function or(t,n,e,r){var o=hn(t)?t.length:0;return e.map(function(n){return Mt(o,n,t)},r(void 0,o))}var ur=X(function(t){return function(n,e,r,o){var u=void 0,i=E;return hn(n)&&Yt(t,n,u=[],i=[]),r.map(function(t){var n=t?t.length:0,e=i.length,r=n+e;return r===e?i:at(at(Array(r),0,t,0,n),n,i,0,e)},o(u,e))}});function ir(t){var n=arguments.length>1?arguments[1]:{hint:0};return function(e,r,o,u){var i=hn(e)?e:"",a=n.hint=function(t,n,e){var r=t.hint,o=e.length;o<=r&&(r=o-1),r<0&&(r=0);for(var u=r-1;0<=u&&r<o;++r,--u){if(n(e[r],r,t))return r;if(n(e[u],u,t))return u}for(;r<o;++r)if(n(e[r],r,t))return r;for(;0<=u;--u)if(n(e[u],u,t))return u;return o}(n,t,i);return o.map(function(t){return Mt(a,t,i)},u(i[a],a))}}function ar(t){var n=gn(t),e=Ie(n);return[arguments.length>1?ir(e,arguments[1]):ir(e),n]}var cr=0,sr=X,fr=On(function(t){return hn(t)&&t.length?t.length-1:0}),lr=function(t){return pr(0,t)},pr=h(function(t,n){return function(e,r,o,u){var i=hn(e),a=i&&e.length,c=K(0,a,0,t),s=K(c,a,a,n);return o.map(function(t){var n=t?t.length:0,r=c+n;return at(at(at(Array(a-s+r),0,e,0,c),c,t,0,n),r,e,s,a)},u(i?at(Array(Math.max(0,s-c)),0,e,c,s):void 0,r))}}),hr=function(t){return pr(0===t?1/0:t?-t:0,void 0)},dr=function(t){return x(t)?Er(_n(ce,fn,t)):t},yr=X;function mr(){for(var t,n=arguments.length,e={},r=0;r<n;++r)e[t=arguments[r]]=t;return Er(e)}var gr=function(t){return mr.apply(null,function(t){if(t instanceof Object){if(x(t)){var n=[];return function(t,n,e){for(var r in t)n&&n.push(r),e&&e.push(t[r])}(t,n,0),n}return Object.keys(t)}}(t))};function vr(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];function r(t){if(!(t instanceof Object))return t;for(var e=0,r=n.length;e<r;++e)if(A(n[e],t))return t}return function(t,n,e,o){return e.map(r,o(t,n))}}var _r=function(t){return function(n,e,r,o){return o(null!=n?n:t,e)}},Er=X(function(t){return function(n,e,r,o){return r.map(function(e){return Gt(t,e,n)},o(Vt(t,n),e))}}),br=h(function(t,n){function e(e){return $t(n,t,e)}return function(r,o,u,i){return u.map(e,i($t(t,n,r),o))}});function Tr(t,n){return 1<arguments.length?Ft(t,n,void 0):function(n){return Ft(t,n,void 0)}}var Ar=h(Bt),Rr=function(t){var n=Tr(t),e=ze(t),r=function(t){return it(n,t)};return function(t,n,o,u){return o.map(r,u(it(e,t),n))}},Sr=function(t){return function(n,e,r,o){return r.map(function(n){return Pt(t,n)},o(Ft(t,n,void 0),e))}},Mr=Bt(tt,tt),Nr=function(t){return Bt(function(n){return C(t,n)},function(n){return!0===n?t:void 0})},Or=Bt(et(hn,X(function(t){for(var n=t.length,e=Array(n),r=0;r<n;++r)e[r]=[r,t[r]];return e})),et(I,X(function(t){for(var n=t.length,e=Array(n),r=0;r<n;++r){var o=t[r];2===o.length&&(e[o[0]]=o[1])}n=e.length;for(var u=0,i=0;i<n;++i){var a=e[i];void 0!==a&&(i!==u&&(e[u]=a),++u)}return e.length=u,e}))),Ir=Bt(ot,ot),Fr=X(function(t,n,e,r){return e.map(nt,r((t instanceof Object||N(t))&&1===t.length?t[0]:void 0,n))}),xr=function(t){return function(n,e,r,o){var u=rn(t);return r.map(u,o(en(t,n),e))}},Lr=Dt(decodeURI,encodeURI),wr=Dt(decodeURIComponent,encodeURIComponent),Cr=X(function(t){var n=t||b,e=n.reviver,r=n.replacer,o=n.space;return Bt(et(N,function(t){return JSON.parse(t,e)}),et(T,function(t){return JSON.stringify(t,r,o)}))}),Pr=function(t){return Dt(function(n){return n.startsWith(t)?n.slice(t.length):void 0},function(n){return t+n})},Ur=function(t){return Dt(function(n){return n.endsWith(t)?n.slice(0,n.length-t.length):void 0},function(n){return n+t})},jr=h(function(t,n){return Dt(H($(t,"g"),n),H($(n,"g"),t))}),Br=X(function(t){var n=arguments.length>1?arguments[1]:t;return Bt(et(N,function(t){return t.split(n)}),et(I,function(n){return n.join(t)}))}),Dr=X(function(t){var n=$(arguments.length>1?arguments[1]:t,"");return Bt(et(N,function(t){var e=n.exec(t);return e?[t.slice(0,Jt(e)),t.slice(Zt(e))]:[t,""]}),function(n){if(I(n)&&2===n.length){var e=n[0],r=n[1];return r?e+t+r:e}})}),kr=function(t){return kt(j(t),j(-t))},Vr=function(t){return kt(D(t),B(t))},Gr=function(t){return kt(B(t),D(t))},qr=kt(k,k),Hr=function(t){return kt(j(-t),j(t))},Xr=function(t){"#"===t[0]&&(t=Pt(wr,t));for(var n=t.split("/"),e=n.length,r=1;r<e;++r){var o=n[r];n[r-1]=/^(0|[1-9]\d*)$/.test(o)?xn(rt,Number(o),o):"-"===o?xn(rt,or,o):o.replace("~1","/").replace("~0","~")}return n.length=e-1,n}}]);
//# sourceMappingURL=main.bundle.map